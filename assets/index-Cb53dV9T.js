(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function Gg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _c={exports:{}},wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function k0(){if(U_)return wa;U_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(u,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:s,type:u,key:d,ref:o!==void 0?o:null,props:f}}return wa.Fragment=n,wa.jsx=l,wa.jsxs=l,wa}var L_;function V0(){return L_||(L_=1,_c.exports=k0()),_c.exports}var X=V0(),gc={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function Q0(){if(H_)return ee;H_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function B(y){return y===null||typeof y!="object"?null:(y=R&&y[R]||y["@@iterator"],typeof y=="function"?y:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,me={};function ze(y,M,L){this.props=y,this.context=M,this.refs=me,this.updater=L||q}ze.prototype.isReactComponent={},ze.prototype.setState=function(y,M){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,M,"setState")},ze.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function Pe(){}Pe.prototype=ze.prototype;function be(y,M,L){this.props=y,this.context=M,this.refs=me,this.updater=L||q}var Qe=be.prototype=new Pe;Qe.constructor=be,W(Qe,ze.prototype),Qe.isPureReactComponent=!0;var rt=Array.isArray;function Xe(){}var ae={H:null,A:null,T:null,S:null},Ke=Object.prototype.hasOwnProperty;function yt(y,M,L){var j=L.ref;return{$$typeof:s,type:y,key:M,ref:j!==void 0?j:null,props:L}}function kt(y,M){return yt(y.type,M,y.props)}function Ze(y){return typeof y=="object"&&y!==null&&y.$$typeof===s}function Ie(y){var M={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(L){return M[L]})}var vt=/\/+/g;function Ae(y,M){return typeof y=="object"&&y!==null&&y.key!=null?Ie(""+y.key):M.toString(36)}function et(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(Xe,Xe):(y.status="pending",y.then(function(M){y.status==="pending"&&(y.status="fulfilled",y.value=M)},function(M){y.status==="pending"&&(y.status="rejected",y.reason=M)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function T(y,M,L,j,F){var J=typeof y;(J==="undefined"||J==="boolean")&&(y=null);var _e=!1;if(y===null)_e=!0;else switch(J){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(y.$$typeof){case s:case n:_e=!0;break;case C:return _e=y._init,T(_e(y._payload),M,L,j,F)}}if(_e)return F=F(y),_e=j===""?"."+Ae(y,0):j,rt(F)?(L="",_e!=null&&(L=_e.replace(vt,"$&/")+"/"),T(F,M,L,"",function(te){return te})):F!=null&&(Ze(F)&&(F=kt(F,L+(F.key==null||y&&y.key===F.key?"":(""+F.key).replace(vt,"$&/")+"/")+_e)),M.push(F)),1;_e=0;var ot=j===""?".":j+":";if(rt(y))for(var qe=0;qe<y.length;qe++)j=y[qe],J=ot+Ae(j,qe),_e+=T(j,M,L,J,F);else if(qe=B(y),typeof qe=="function")for(y=qe.call(y),qe=0;!(j=y.next()).done;)j=j.value,J=ot+Ae(j,qe++),_e+=T(j,M,L,J,F);else if(J==="object"){if(typeof y.then=="function")return T(et(y),M,L,j,F);throw M=String(y),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return _e}function I(y,M,L){if(y==null)return y;var j=[],F=0;return T(y,j,"","",function(J){return M.call(L,J,F++)}),j}function U(y){if(y._status===-1){var M=y._result;M=M(),M.then(function(L){(y._status===0||y._status===-1)&&(y._status=1,y._result=L)},function(L){(y._status===0||y._status===-1)&&(y._status=2,y._result=L)}),y._status===-1&&(y._status=0,y._result=M)}if(y._status===1)return y._result.default;throw y._result}var Y=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},G={map:I,forEach:function(y,M,L){I(y,function(){M.apply(this,arguments)},L)},count:function(y){var M=0;return I(y,function(){M++}),M},toArray:function(y){return I(y,function(M){return M})||[]},only:function(y){if(!Ze(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return ee.Activity=S,ee.Children=G,ee.Component=ze,ee.Fragment=l,ee.Profiler=o,ee.PureComponent=be,ee.StrictMode=u,ee.Suspense=p,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,ee.__COMPILER_RUNTIME={__proto__:null,c:function(y){return ae.H.useMemoCache(y)}},ee.cache=function(y){return function(){return y.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(y,M,L){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var j=W({},y.props),F=y.key;if(M!=null)for(J in M.key!==void 0&&(F=""+M.key),M)!Ke.call(M,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&M.ref===void 0||(j[J]=M[J]);var J=arguments.length-2;if(J===1)j.children=L;else if(1<J){for(var _e=Array(J),ot=0;ot<J;ot++)_e[ot]=arguments[ot+2];j.children=_e}return yt(y.type,F,j)},ee.createContext=function(y){return y={$$typeof:d,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:f,_context:y},y},ee.createElement=function(y,M,L){var j,F={},J=null;if(M!=null)for(j in M.key!==void 0&&(J=""+M.key),M)Ke.call(M,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(F[j]=M[j]);var _e=arguments.length-2;if(_e===1)F.children=L;else if(1<_e){for(var ot=Array(_e),qe=0;qe<_e;qe++)ot[qe]=arguments[qe+2];F.children=ot}if(y&&y.defaultProps)for(j in _e=y.defaultProps,_e)F[j]===void 0&&(F[j]=_e[j]);return yt(y,J,F)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(y){return{$$typeof:m,render:y}},ee.isValidElement=Ze,ee.lazy=function(y){return{$$typeof:C,_payload:{_status:-1,_result:y},_init:U}},ee.memo=function(y,M){return{$$typeof:g,type:y,compare:M===void 0?null:M}},ee.startTransition=function(y){var M=ae.T,L={};ae.T=L;try{var j=y(),F=ae.S;F!==null&&F(L,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Xe,Y)}catch(J){Y(J)}finally{M!==null&&L.types!==null&&(M.types=L.types),ae.T=M}},ee.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},ee.use=function(y){return ae.H.use(y)},ee.useActionState=function(y,M,L){return ae.H.useActionState(y,M,L)},ee.useCallback=function(y,M){return ae.H.useCallback(y,M)},ee.useContext=function(y){return ae.H.useContext(y)},ee.useDebugValue=function(){},ee.useDeferredValue=function(y,M){return ae.H.useDeferredValue(y,M)},ee.useEffect=function(y,M){return ae.H.useEffect(y,M)},ee.useEffectEvent=function(y){return ae.H.useEffectEvent(y)},ee.useId=function(){return ae.H.useId()},ee.useImperativeHandle=function(y,M,L){return ae.H.useImperativeHandle(y,M,L)},ee.useInsertionEffect=function(y,M){return ae.H.useInsertionEffect(y,M)},ee.useLayoutEffect=function(y,M){return ae.H.useLayoutEffect(y,M)},ee.useMemo=function(y,M){return ae.H.useMemo(y,M)},ee.useOptimistic=function(y,M){return ae.H.useOptimistic(y,M)},ee.useReducer=function(y,M,L){return ae.H.useReducer(y,M,L)},ee.useRef=function(y){return ae.H.useRef(y)},ee.useState=function(y){return ae.H.useState(y)},ee.useSyncExternalStore=function(y,M,L){return ae.H.useSyncExternalStore(y,M,L)},ee.useTransition=function(){return ae.H.useTransition()},ee.version="19.2.1",ee}var B_;function tf(){return B_||(B_=1,gc.exports=Q0()),gc.exports}var pe=tf();const X0=Gg(pe);var pc={exports:{}},za={},yc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function K0(){return I_||(I_=1,(function(s){function n(T,I){var U=T.length;T.push(I);e:for(;0<U;){var Y=U-1>>>1,G=T[Y];if(0<o(G,I))T[Y]=I,T[U]=G,U=Y;else break e}}function l(T){return T.length===0?null:T[0]}function u(T){if(T.length===0)return null;var I=T[0],U=T.pop();if(U!==I){T[0]=U;e:for(var Y=0,G=T.length,y=G>>>1;Y<y;){var M=2*(Y+1)-1,L=T[M],j=M+1,F=T[j];if(0>o(L,U))j<G&&0>o(F,L)?(T[Y]=F,T[j]=U,Y=j):(T[Y]=L,T[M]=U,Y=M);else if(j<G&&0>o(F,U))T[Y]=F,T[j]=U,Y=j;else break e}}return I}function o(T,I){var U=T.sortIndex-I.sortIndex;return U!==0?U:T.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var p=[],g=[],C=1,S=null,R=3,B=!1,q=!1,W=!1,me=!1,ze=typeof setTimeout=="function"?setTimeout:null,Pe=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function Qe(T){for(var I=l(g);I!==null;){if(I.callback===null)u(g);else if(I.startTime<=T)u(g),I.sortIndex=I.expirationTime,n(p,I);else break;I=l(g)}}function rt(T){if(W=!1,Qe(T),!q)if(l(p)!==null)q=!0,Xe||(Xe=!0,Ie());else{var I=l(g);I!==null&&et(rt,I.startTime-T)}}var Xe=!1,ae=-1,Ke=5,yt=-1;function kt(){return me?!0:!(s.unstable_now()-yt<Ke)}function Ze(){if(me=!1,Xe){var T=s.unstable_now();yt=T;var I=!0;try{e:{q=!1,W&&(W=!1,Pe(ae),ae=-1),B=!0;var U=R;try{t:{for(Qe(T),S=l(p);S!==null&&!(S.expirationTime>T&&kt());){var Y=S.callback;if(typeof Y=="function"){S.callback=null,R=S.priorityLevel;var G=Y(S.expirationTime<=T);if(T=s.unstable_now(),typeof G=="function"){S.callback=G,Qe(T),I=!0;break t}S===l(p)&&u(p),Qe(T)}else u(p);S=l(p)}if(S!==null)I=!0;else{var y=l(g);y!==null&&et(rt,y.startTime-T),I=!1}}break e}finally{S=null,R=U,B=!1}I=void 0}}finally{I?Ie():Xe=!1}}}var Ie;if(typeof be=="function")Ie=function(){be(Ze)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Ae=vt.port2;vt.port1.onmessage=Ze,Ie=function(){Ae.postMessage(null)}}else Ie=function(){ze(Ze,0)};function et(T,I){ae=ze(function(){T(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(T){T.callback=null},s.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ke=0<T?Math.floor(1e3/T):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(T){switch(R){case 1:case 2:case 3:var I=3;break;default:I=R}var U=R;R=I;try{return T()}finally{R=U}},s.unstable_requestPaint=function(){me=!0},s.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=R;R=T;try{return I()}finally{R=U}},s.unstable_scheduleCallback=function(T,I,U){var Y=s.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,T={id:C++,callback:I,priorityLevel:T,startTime:U,expirationTime:G,sortIndex:-1},U>Y?(T.sortIndex=U,n(g,T),l(p)===null&&T===l(g)&&(W?(Pe(ae),ae=-1):W=!0,et(rt,U-Y))):(T.sortIndex=G,n(p,T),q||B||(q=!0,Xe||(Xe=!0,Ie()))),T},s.unstable_shouldYield=kt,s.unstable_wrapCallback=function(T){var I=R;return function(){var U=R;R=I;try{return T.apply(this,arguments)}finally{R=U}}}})(vc)),vc}var q_;function Z0(){return q_||(q_=1,yc.exports=K0()),yc.exports}var Sc={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function F0(){if(j_)return _t;j_=1;var s=tf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)g+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,g,C){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:C}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,_t.createPortal=function(p,g){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,C)},_t.flushSync=function(p){var g=d.T,C=u.p;try{if(d.T=null,u.p=2,p)return p()}finally{d.T=g,u.p=C,u.d.f()}},_t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,u.d.C(p,g))},_t.prefetchDNS=function(p){typeof p=="string"&&u.d.D(p)},_t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var C=g.as,S=m(C,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,B=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;C==="style"?u.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:B}):C==="script"&&u.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:B,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var C=m(g.as,g.crossOrigin);u.d.M(p,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&u.d.M(p)},_t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var C=g.as,S=m(C,g.crossOrigin);u.d.L(p,C,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_t.preloadModule=function(p,g){if(typeof p=="string")if(g){var C=m(g.as,g.crossOrigin);u.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else u.d.m(p)},_t.requestFormReset=function(p){u.d.r(p)},_t.unstable_batchedUpdates=function(p,g){return p(g)},_t.useFormState=function(p,g,C){return d.H.useFormState(p,g,C)},_t.useFormStatus=function(){return d.H.useHostTransitionStatus()},_t.version="19.2.1",_t}var Y_;function J0(){if(Y_)return Sc.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Sc.exports=F0(),Sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function W0(){if(G_)return za;G_=1;var s=Z0(),n=tf(),l=J0();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(u(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(u(188));return t!==e?null:e}for(var i=e,a=t;;){var r=i.return;if(r===null)break;var c=r.alternate;if(c===null){if(a=r.return,a!==null){i=a;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===i)return p(r),e;if(c===a)return p(r),t;c=c.sibling}throw Error(u(188))}if(i.return!==a.return)i=r,a=c;else{for(var h=!1,_=r.child;_;){if(_===i){h=!0,i=r,a=c;break}if(_===a){h=!0,a=r,i=c;break}_=_.sibling}if(!h){for(_=c.child;_;){if(_===i){h=!0,i=c,a=r;break}if(_===a){h=!0,a=c,i=r;break}_=_.sibling}if(!h)throw Error(u(189))}}if(i.alternate!==a)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?e:t}function C(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=C(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),Pe=Symbol.for("react.consumer"),be=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),yt=Symbol.for("react.activity"),kt=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=Ze&&e[Ze]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===vt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ze:return"Profiler";case me:return"StrictMode";case rt:return"Suspense";case Xe:return"SuspenseList";case yt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case be:return e.displayName||"Context";case Pe:return(e._context.displayName||"Context")+".Consumer";case Qe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case Ke:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var et=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Y=[],G=-1;function y(e){return{current:e}}function M(e){0>G||(e.current=Y[G],Y[G]=null,G--)}function L(e,t){G++,Y[G]=e.current,e.current=t}var j=y(null),F=y(null),J=y(null),_e=y(null);function ot(e,t){switch(L(J,t),L(F,e),L(j,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=i_(t),e=l_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(j),L(j,e)}function qe(){M(j),M(F),M(J)}function te(e){e.memoizedState!==null&&L(_e,e);var t=j.current,i=l_(t,e.type);t!==i&&(L(F,e),L(j,i))}function V(e){F.current===e&&(M(j),M(F)),_e.current===e&&(M(_e),Da._currentValue=U)}var ne,Z;function se(e){if(ne===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ne=t&&t[1]||"",Z=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+e+Z}var St=!1;function dn(e,t){if(!e||St)return"";St=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(O){var D=O}Reflect.construct(e,[],z)}else{try{z.call()}catch(O){D=O}e.call(z.prototype)}}else{try{throw Error()}catch(O){D=O}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),h=c[0],_=c[1];if(h&&_){var v=h.split(`
`),N=_.split(`
`);for(r=a=0;a<v.length&&!v[a].includes("DetermineComponentFrameRoot");)a++;for(;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;if(a===v.length||r===N.length)for(a=v.length-1,r=N.length-1;1<=a&&0<=r&&v[a]!==N[r];)r--;for(;1<=a&&0<=r;a--,r--)if(v[a]!==N[r]){if(a!==1||r!==1)do if(a--,r--,0>r||v[a]!==N[r]){var x=`
`+v[a].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=a&&0<=r);break}}}finally{St=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?se(i):""}function Hn(e,t){switch(e.tag){case 26:case 27:case 5:return se(e.type);case 16:return se("Lazy");case 13:return e.child!==t&&t!==null?se("Suspense Fallback"):se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return dn(e.type,!1);case 11:return dn(e.type.render,!1);case 1:return dn(e.type,!0);case 31:return se("Activity");default:return""}}function rn(e){try{var t="",i=null;do t+=Hn(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Pu=Object.prototype.hasOwnProperty,er=s.unstable_scheduleCallback,tr=s.unstable_cancelCallback,Ey=s.unstable_shouldYield,by=s.unstable_requestPaint,wt=s.unstable_now,Cy=s.unstable_getCurrentPriorityLevel,Lf=s.unstable_ImmediatePriority,Hf=s.unstable_UserBlockingPriority,us=s.unstable_NormalPriority,Ty=s.unstable_LowPriority,Bf=s.unstable_IdlePriority,Ay=s.log,Ny=s.unstable_setDisableYieldValue,jl=null,zt=null;function Bn(e){if(typeof Ay=="function"&&Ny(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(jl,e)}catch{}}var Ut=Math.clz32?Math.clz32:Oy,Ry=Math.log,Dy=Math.LN2;function Oy(e){return e>>>=0,e===0?32:31-(Ry(e)/Dy|0)|0}var rs=256,os=262144,cs=4194304;function mi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fs(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var r=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var _=a&134217727;return _!==0?(a=_&~c,a!==0?r=mi(a):(h&=_,h!==0?r=mi(h):i||(i=_&~e,i!==0&&(r=mi(i))))):(_=a&~c,_!==0?r=mi(_):h!==0?r=mi(h):i||(i=a&~e,i!==0&&(r=mi(i)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:r}function Yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function My(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function If(){var e=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),e}function nr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Gl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xy(e,t,i,a,r,c){var h=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,N=e.hiddenUpdates;for(i=h&~i;0<i;){var x=31-Ut(i),z=1<<x;_[x]=0,v[x]=-1;var D=N[x];if(D!==null)for(N[x]=null,x=0;x<D.length;x++){var O=D[x];O!==null&&(O.lane&=-536870913)}i&=~z}a!==0&&qf(e,a,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function qf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ut(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function jf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Ut(i),r=1<<a;r&t|e[a]&t&&(e[a]|=t),i&=~r}}function Yf(e,t){var i=t&-t;return i=(i&42)!==0?1:ir(i),(i&(e.suspendedLanes|t))!==0?0:i}function ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gf(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function kf(e,t){var i=I.p;try{return I.p=e,t()}finally{I.p=i}}var In=Math.random().toString(36).slice(2),ct="__reactFiber$"+In,bt="__reactProps$"+In,Gi="__reactContainer$"+In,ar="__reactEvents$"+In,wy="__reactListeners$"+In,zy="__reactHandles$"+In,Vf="__reactResources$"+In,kl="__reactMarker$"+In;function sr(e){delete e[ct],delete e[bt],delete e[ar],delete e[wy],delete e[zy]}function ki(e){var t=e[ct];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Gi]||i[ct]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=f_(e);e!==null;){if(i=e[ct])return i;e=f_(e)}return t}e=i,i=e.parentNode}return null}function Vi(e){if(e=e[ct]||e[Gi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Qi(e){var t=e[Vf];return t||(t=e[Vf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[kl]=!0}var Qf=new Set,Xf={};function _i(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(Xf[e]=t,e=0;e<t.length;e++)Qf.add(t[e])}var Uy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kf={},Zf={};function Ly(e){return Pu.call(Zf,e)?!0:Pu.call(Kf,e)?!1:Uy.test(e)?Zf[e]=!0:(Kf[e]=!0,!1)}function hs(e,t,i){if(Ly(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ds(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function mn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ff(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hy(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){i=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ur(e){if(!e._valueTracker){var t=Ff(e)?"checked":"value";e._valueTracker=Hy(e,t,""+e[t])}}function Jf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Ff(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var By=/[\n"\\]/g;function Qt(e){return e.replace(By,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function rr(e,t,i,a,r,c,h,_){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?or(e,h,Vt(t)):i!=null?or(e,h,Vt(i)):a!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Vt(_):e.removeAttribute("name")}function Wf(e,t,i,a,r,c,h,_){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){ur(e);return}i=i!=null?""+Vt(i):"",t=t!=null?""+Vt(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=_?e.checked:!!a,e.defaultChecked=!!a,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),ur(e)}function or(e,t,i){t==="number"&&ms(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ki(e,t,i,a){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Vt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function $f(e,t,i){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Vt(i):""}function Pf(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(u(92));if(et(a)){if(1<a.length)throw Error(u(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Vt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),ur(e)}function Zi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Iy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function th(e,t,i){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&i[r]!==a&&eh(e,r,a)}else for(var c in t)t.hasOwnProperty(c)&&eh(e,c,t[c])}function cr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(e){return jy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var fr=null;function hr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Ji=null;function nh(e){var t=Vi(e);if(t&&(e=t.stateNode)){var i=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(rr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var r=a[bt]||null;if(!r)throw Error(u(90));rr(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&Jf(a)}break e;case"textarea":$f(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ki(e,!!i.multiple,t,!1)}}}var dr=!1;function ih(e,t,i){if(dr)return e(t,i);dr=!0;try{var a=e(t);return a}finally{if(dr=!1,(Fi!==null||Ji!==null)&&(nu(),Fi&&(t=Fi,e=Ji,Ji=Fi=null,nh(t),e)))for(t=0;t<e.length;t++)nh(e[t])}}function Ql(e,t){var i=e.stateNode;if(i===null)return null;var a=i[bt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(u(231,t,typeof i));return i}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(gn)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{mr=!1}var qn=null,_r=null,gs=null;function lh(){if(gs)return gs;var e,t=_r,i=t.length,a,r="value"in qn?qn.value:qn.textContent,c=r.length;for(e=0;e<i&&t[e]===r[e];e++);var h=i-e;for(a=1;a<=h&&t[i-a]===r[c-a];a++);return gs=r.slice(e,1<a?1-a:void 0)}function ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function ah(){return!1}function Ct(e){function t(i,a,r,c,h){this._reactName=i,this._targetInst=r,this.type=a,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ys:ah,this.isPropagationStopped=ah,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Ct(gi),Kl=S({},gi,{view:0,detail:0}),Yy=Ct(Kl),gr,pr,Zl,Ss=S({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(gr=e.screenX-Zl.screenX,pr=e.screenY-Zl.screenY):pr=gr=0,Zl=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:pr}}),sh=Ct(Ss),Gy=S({},Ss,{dataTransfer:0}),ky=Ct(Gy),Vy=S({},Kl,{relatedTarget:0}),yr=Ct(Vy),Qy=S({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xy=Ct(Qy),Ky=S({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zy=Ct(Ky),Fy=S({},gi,{data:0}),uh=Ct(Fy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$y[e])?!!t[e]:!1}function vr(){return Py}var ev=S({},Kl,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=Ct(ev),nv=S({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=Ct(nv),iv=S({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),lv=Ct(iv),av=S({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Ct(av),uv=S({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=Ct(uv),ov=S({},gi,{newState:0,oldState:0}),cv=Ct(ov),fv=[9,13,27,32],Sr=gn&&"CompositionEvent"in window,Fl=null;gn&&"documentMode"in document&&(Fl=document.documentMode);var hv=gn&&"TextEvent"in window&&!Fl,oh=gn&&(!Sr||Fl&&8<Fl&&11>=Fl),ch=" ",fh=!1;function hh(e,t){switch(e){case"keyup":return fv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function dv(e,t){switch(e){case"compositionend":return dh(t);case"keypress":return t.which!==32?null:(fh=!0,ch);case"textInput":return e=t.data,e===ch&&fh?null:e;default:return null}}function mv(e,t){if(Wi)return e==="compositionend"||!Sr&&hh(e,t)?(e=lh(),gs=_r=qn=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oh&&t.locale!=="ko"?null:t.data;default:return null}}var _v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_v[e.type]:t==="textarea"}function _h(e,t,i,a){Fi?Ji?Ji.push(a):Ji=[a]:Fi=a,t=ou(t,"onChange"),0<t.length&&(i=new vs("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Jl=null,Wl=null;function gv(e){Wm(e,0)}function Es(e){var t=Vl(e);if(Jf(t))return e}function gh(e,t){if(e==="change")return t}var ph=!1;if(gn){var Er;if(gn){var br="oninput"in document;if(!br){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),br=typeof yh.oninput=="function"}Er=br}else Er=!1;ph=Er&&(!document.documentMode||9<document.documentMode)}function vh(){Jl&&(Jl.detachEvent("onpropertychange",Sh),Wl=Jl=null)}function Sh(e){if(e.propertyName==="value"&&Es(Wl)){var t=[];_h(t,Wl,e,hr(e)),ih(gv,t)}}function pv(e,t,i){e==="focusin"?(vh(),Jl=t,Wl=i,Jl.attachEvent("onpropertychange",Sh)):e==="focusout"&&vh()}function yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(Wl)}function vv(e,t){if(e==="click")return Es(t)}function Sv(e,t){if(e==="input"||e==="change")return Es(t)}function Ev(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Ev;function $l(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var r=i[a];if(!Pu.call(t,r)||!Lt(e[r],t[r]))return!1}return!0}function Eh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bh(e,t){var i=Eh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Eh(i)}}function Ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ms(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ms(e.document)}return t}function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bv=gn&&"documentMode"in document&&11>=document.documentMode,$i=null,Tr=null,Pl=null,Ar=!1;function Ah(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ar||$i==null||$i!==ms(a)||(a=$i,"selectionStart"in a&&Cr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Pl&&$l(Pl,a)||(Pl=a,a=ou(Tr,"onSelect"),0<a.length&&(t=new vs("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=$i)))}function pi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Pi={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},Nr={},Nh={};gn&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function yi(e){if(Nr[e])return Nr[e];if(!Pi[e])return e;var t=Pi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Nh)return Nr[e]=t[i];return e}var Rh=yi("animationend"),Dh=yi("animationiteration"),Oh=yi("animationstart"),Cv=yi("transitionrun"),Tv=yi("transitionstart"),Av=yi("transitioncancel"),Mh=yi("transitionend"),xh=new Map,Rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rr.push("scrollEnd");function en(e,t){xh.set(e,t),_i(t,[e])}var bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],el=0,Dr=0;function Cs(){for(var e=el,t=Dr=el=0;t<e;){var i=Xt[t];Xt[t++]=null;var a=Xt[t];Xt[t++]=null;var r=Xt[t];Xt[t++]=null;var c=Xt[t];if(Xt[t++]=null,a!==null&&r!==null){var h=a.pending;h===null?r.next=r:(r.next=h.next,h.next=r),a.pending=r}c!==0&&wh(i,r,c)}}function Ts(e,t,i,a){Xt[el++]=e,Xt[el++]=t,Xt[el++]=i,Xt[el++]=a,Dr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Or(e,t,i,a){return Ts(e,t,i,a),As(e)}function vi(e,t){return Ts(e,null,null,t),As(e)}function wh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var r=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-Ut(i),e=c.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=i|536870912),c):null}function As(e){if(50<Ea)throw Ea=0,qo=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var tl={};function Nv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,i,a){return new Nv(e,t,i,a)}function Mr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var i=e.alternate;return i===null?(i=Ht(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function zh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ns(e,t,i,a,r,c){var h=0;if(a=e,typeof e=="function")Mr(e)&&(h=1);else if(typeof e=="string")h=x0(e,i,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case yt:return e=Ht(31,i,t,r),e.elementType=yt,e.lanes=c,e;case W:return Si(i.children,r,c,t);case me:h=8,r|=24;break;case ze:return e=Ht(12,i,t,r|2),e.elementType=ze,e.lanes=c,e;case rt:return e=Ht(13,i,t,r),e.elementType=rt,e.lanes=c,e;case Xe:return e=Ht(19,i,t,r),e.elementType=Xe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case be:h=10;break e;case Pe:h=9;break e;case Qe:h=11;break e;case ae:h=14;break e;case Ke:h=16,a=null;break e}h=29,i=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=Ht(h,i,t,r),t.elementType=e,t.type=a,t.lanes=c,t}function Si(e,t,i,a){return e=Ht(7,e,a,t),e.lanes=i,e}function xr(e,t,i){return e=Ht(6,e,null,t),e.lanes=i,e}function Uh(e){var t=Ht(18,null,null,0);return t.stateNode=e,t}function wr(e,t,i){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Lh=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var i=Lh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:rn(t)},Lh.set(e,t),t)}return{value:e,source:t,stack:rn(t)}}var nl=[],il=0,Rs=null,ea=0,Zt=[],Ft=0,jn=null,on=1,cn="";function yn(e,t){nl[il++]=ea,nl[il++]=Rs,Rs=e,ea=t}function Hh(e,t,i){Zt[Ft++]=on,Zt[Ft++]=cn,Zt[Ft++]=jn,jn=e;var a=on;e=cn;var r=32-Ut(a)-1;a&=~(1<<r),i+=1;var c=32-Ut(t)+r;if(30<c){var h=r-r%5;c=(a&(1<<h)-1).toString(32),a>>=h,r-=h,on=1<<32-Ut(t)+r|i<<r|a,cn=c+e}else on=1<<c|i<<r|a,cn=e}function zr(e){e.return!==null&&(yn(e,1),Hh(e,1,0))}function Ur(e){for(;e===Rs;)Rs=nl[--il],nl[il]=null,ea=nl[--il],nl[il]=null;for(;e===jn;)jn=Zt[--Ft],Zt[Ft]=null,cn=Zt[--Ft],Zt[Ft]=null,on=Zt[--Ft],Zt[Ft]=null}function Bh(e,t){Zt[Ft++]=on,Zt[Ft++]=cn,Zt[Ft++]=jn,on=t.id,cn=t.overflow,jn=e}var ft=null,Ue=null,ge=!1,Yn=null,Jt=!1,Lr=Error(u(519));function Gn(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ta(Kt(t,e)),Lr}function Ih(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[ct]=e,t[bt]=a,i){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(i=0;i<Ca.length;i++)oe(Ca[i],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),Wf(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),Pf(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||t_(t.textContent,i)?(a.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),a.onScroll!=null&&oe("scroll",t),a.onScrollEnd!=null&&oe("scrollend",t),a.onClick!=null&&(t.onclick=_n),t=!0):t=!1,t||Gn(e,!0)}function qh(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ft=ft.return}}function ll(e){if(e!==ft)return!1;if(!ge)return qh(e),ge=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ec(e.type,e.memoizedProps)),i=!i),i&&Ue&&Gn(e),qh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ue=c_(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ue=c_(e)}else t===27?(t=Ue,ni(e.type)?(e=ac,ac=null,Ue=e):Ue=t):Ue=ft?$t(e.stateNode.nextSibling):null;return!0}function Ei(){Ue=ft=null,ge=!1}function Hr(){var e=Yn;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),Yn=null),e}function ta(e){Yn===null?Yn=[e]:Yn.push(e)}var Br=y(null),bi=null,vn=null;function kn(e,t,i){L(Br,t._currentValue),t._currentValue=i}function Sn(e){e._currentValue=Br.current,M(Br)}function Ir(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function qr(e,t,i,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var h=r.child;c=c.firstContext;e:for(;c!==null;){var _=c;c=r;for(var v=0;v<t.length;v++)if(_.context===t[v]){c.lanes|=i,_=c.alternate,_!==null&&(_.lanes|=i),Ir(c.return,i,e),a||(h=null);break e}c=_.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(u(341));h.lanes|=i,c=h.alternate,c!==null&&(c.lanes|=i),Ir(h,i,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function al(e,t,i,a){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(u(387));if(h=h.memoizedProps,h!==null){var _=r.type;Lt(r.pendingProps.value,h.value)||(e!==null?e.push(_):e=[_])}}else if(r===_e.current){if(h=r.alternate,h===null)throw Error(u(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Da):e=[Da])}r=r.return}e!==null&&qr(t,e,i,a),t.flags|=262144}function Ds(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){bi=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return jh(bi,e)}function Os(e,t){return bi===null&&Ci(e),jh(e,t)}function jh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},vn===null){if(e===null)throw Error(u(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return i}var Rv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Dv=s.unstable_scheduleCallback,Ov=s.unstable_NormalPriority,Fe={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jr(){return{controller:new Rv,data:new Map,refCount:0}}function na(e){e.refCount--,e.refCount===0&&Dv(Ov,function(){e.controller.abort()})}var ia=null,Yr=0,sl=0,ul=null;function Mv(e,t){if(ia===null){var i=ia=[];Yr=0,sl=Qo(),ul={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Yr++,t.then(Yh,Yh),t}function Yh(){if(--Yr===0&&ia!==null){ul!==null&&(ul.status="fulfilled");var e=ia;ia=null,sl=0,ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function xv(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),a}var Gh=T.S;T.S=function(e,t){Am=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mv(e,t),Gh!==null&&Gh(e,t)};var Ti=y(null);function Gr(){var e=Ti.current;return e!==null?e:Oe.pooledCache}function Ms(e,t){t===null?L(Ti,Ti.current):L(Ti,t.pool)}function kh(){var e=Gr();return e===null?null:{parent:Fe._currentValue,pool:e}}var rl=Error(u(460)),kr=Error(u(474)),xs=Error(u(542)),ws={then:function(){}};function Vh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(_n,_n),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kh(e),e;default:if(typeof t.status=="string")t.then(_n,_n);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kh(e),e}throw Ni=t,rl}}function Ai(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ni=i,rl):i}}var Ni=null;function Xh(){if(Ni===null)throw Error(u(459));var e=Ni;return Ni=null,e}function Kh(e){if(e===rl||e===xs)throw Error(u(483))}var ol=null,la=0;function zs(e){var t=la;return la+=1,ol===null&&(ol=[]),Qh(ol,e,t)}function aa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Us(e,t){throw t.$$typeof===R?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zh(e){function t(b,E){if(e){var A=b.deletions;A===null?(b.deletions=[E],b.flags|=16):A.push(E)}}function i(b,E){if(!e)return null;for(;E!==null;)t(b,E),E=E.sibling;return null}function a(b){for(var E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function r(b,E){return b=pn(b,E),b.index=0,b.sibling=null,b}function c(b,E,A){return b.index=A,e?(A=b.alternate,A!==null?(A=A.index,A<E?(b.flags|=67108866,E):A):(b.flags|=67108866,E)):(b.flags|=1048576,E)}function h(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function _(b,E,A,w){return E===null||E.tag!==6?(E=xr(A,b.mode,w),E.return=b,E):(E=r(E,A),E.return=b,E)}function v(b,E,A,w){var K=A.type;return K===W?x(b,E,A.props.children,w,A.key):E!==null&&(E.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ke&&Ai(K)===E.type)?(E=r(E,A.props),aa(E,A),E.return=b,E):(E=Ns(A.type,A.key,A.props,null,b.mode,w),aa(E,A),E.return=b,E)}function N(b,E,A,w){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=wr(A,b.mode,w),E.return=b,E):(E=r(E,A.children||[]),E.return=b,E)}function x(b,E,A,w,K){return E===null||E.tag!==7?(E=Si(A,b.mode,w,K),E.return=b,E):(E=r(E,A),E.return=b,E)}function z(b,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=xr(""+E,b.mode,A),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case B:return A=Ns(E.type,E.key,E.props,null,b.mode,A),aa(A,E),A.return=b,A;case q:return E=wr(E,b.mode,A),E.return=b,E;case Ke:return E=Ai(E),z(b,E,A)}if(et(E)||Ie(E))return E=Si(E,b.mode,A,null),E.return=b,E;if(typeof E.then=="function")return z(b,zs(E),A);if(E.$$typeof===be)return z(b,Os(b,E),A);Us(b,E)}return null}function D(b,E,A,w){var K=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return K!==null?null:_(b,E,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case B:return A.key===K?v(b,E,A,w):null;case q:return A.key===K?N(b,E,A,w):null;case Ke:return A=Ai(A),D(b,E,A,w)}if(et(A)||Ie(A))return K!==null?null:x(b,E,A,w,null);if(typeof A.then=="function")return D(b,E,zs(A),w);if(A.$$typeof===be)return D(b,E,Os(b,A),w);Us(b,A)}return null}function O(b,E,A,w,K){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return b=b.get(A)||null,_(E,b,""+w,K);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case B:return b=b.get(w.key===null?A:w.key)||null,v(E,b,w,K);case q:return b=b.get(w.key===null?A:w.key)||null,N(E,b,w,K);case Ke:return w=Ai(w),O(b,E,A,w,K)}if(et(w)||Ie(w))return b=b.get(A)||null,x(E,b,w,K,null);if(typeof w.then=="function")return O(b,E,A,zs(w),K);if(w.$$typeof===be)return O(b,E,A,Os(E,w),K);Us(E,w)}return null}function k(b,E,A,w){for(var K=null,ye=null,Q=E,le=E=0,de=null;Q!==null&&le<A.length;le++){Q.index>le?(de=Q,Q=null):de=Q.sibling;var ve=D(b,Q,A[le],w);if(ve===null){Q===null&&(Q=de);break}e&&Q&&ve.alternate===null&&t(b,Q),E=c(ve,E,le),ye===null?K=ve:ye.sibling=ve,ye=ve,Q=de}if(le===A.length)return i(b,Q),ge&&yn(b,le),K;if(Q===null){for(;le<A.length;le++)Q=z(b,A[le],w),Q!==null&&(E=c(Q,E,le),ye===null?K=Q:ye.sibling=Q,ye=Q);return ge&&yn(b,le),K}for(Q=a(Q);le<A.length;le++)de=O(Q,b,le,A[le],w),de!==null&&(e&&de.alternate!==null&&Q.delete(de.key===null?le:de.key),E=c(de,E,le),ye===null?K=de:ye.sibling=de,ye=de);return e&&Q.forEach(function(ui){return t(b,ui)}),ge&&yn(b,le),K}function $(b,E,A,w){if(A==null)throw Error(u(151));for(var K=null,ye=null,Q=E,le=E=0,de=null,ve=A.next();Q!==null&&!ve.done;le++,ve=A.next()){Q.index>le?(de=Q,Q=null):de=Q.sibling;var ui=D(b,Q,ve.value,w);if(ui===null){Q===null&&(Q=de);break}e&&Q&&ui.alternate===null&&t(b,Q),E=c(ui,E,le),ye===null?K=ui:ye.sibling=ui,ye=ui,Q=de}if(ve.done)return i(b,Q),ge&&yn(b,le),K;if(Q===null){for(;!ve.done;le++,ve=A.next())ve=z(b,ve.value,w),ve!==null&&(E=c(ve,E,le),ye===null?K=ve:ye.sibling=ve,ye=ve);return ge&&yn(b,le),K}for(Q=a(Q);!ve.done;le++,ve=A.next())ve=O(Q,b,le,ve.value,w),ve!==null&&(e&&ve.alternate!==null&&Q.delete(ve.key===null?le:ve.key),E=c(ve,E,le),ye===null?K=ve:ye.sibling=ve,ye=ve);return e&&Q.forEach(function(G0){return t(b,G0)}),ge&&yn(b,le),K}function De(b,E,A,w){if(typeof A=="object"&&A!==null&&A.type===W&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case B:e:{for(var K=A.key;E!==null;){if(E.key===K){if(K=A.type,K===W){if(E.tag===7){i(b,E.sibling),w=r(E,A.props.children),w.return=b,b=w;break e}}else if(E.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ke&&Ai(K)===E.type){i(b,E.sibling),w=r(E,A.props),aa(w,A),w.return=b,b=w;break e}i(b,E);break}else t(b,E);E=E.sibling}A.type===W?(w=Si(A.props.children,b.mode,w,A.key),w.return=b,b=w):(w=Ns(A.type,A.key,A.props,null,b.mode,w),aa(w,A),w.return=b,b=w)}return h(b);case q:e:{for(K=A.key;E!==null;){if(E.key===K)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){i(b,E.sibling),w=r(E,A.children||[]),w.return=b,b=w;break e}else{i(b,E);break}else t(b,E);E=E.sibling}w=wr(A,b.mode,w),w.return=b,b=w}return h(b);case Ke:return A=Ai(A),De(b,E,A,w)}if(et(A))return k(b,E,A,w);if(Ie(A)){if(K=Ie(A),typeof K!="function")throw Error(u(150));return A=K.call(A),$(b,E,A,w)}if(typeof A.then=="function")return De(b,E,zs(A),w);if(A.$$typeof===be)return De(b,E,Os(b,A),w);Us(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(i(b,E.sibling),w=r(E,A),w.return=b,b=w):(i(b,E),w=xr(A,b.mode,w),w.return=b,b=w),h(b)):i(b,E)}return function(b,E,A,w){try{la=0;var K=De(b,E,A,w);return ol=null,K}catch(Q){if(Q===rl||Q===xs)throw Q;var ye=Ht(29,Q,null,b.mode);return ye.lanes=w,ye.return=b,ye}finally{}}}var Ri=Zh(!0),Fh=Zh(!1),Vn=!1;function Vr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Se&2)!==0){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=As(e),wh(e,null,i),t}return Ts(e,a,t,i),As(e)}function sa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,jf(e,i)}}function Xr(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var r=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var h={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?r=c=h:c=c.next=h,i=i.next}while(i!==null);c===null?r=c=t:c=c.next=t}else r=c=t;i={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Kr=!1;function ua(){if(Kr){var e=ul;if(e!==null)throw e}}function ra(e,t,i,a){Kr=!1;var r=e.updateQueue;Vn=!1;var c=r.firstBaseUpdate,h=r.lastBaseUpdate,_=r.shared.pending;if(_!==null){r.shared.pending=null;var v=_,N=v.next;v.next=null,h===null?c=N:h.next=N,h=v;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==h&&(_===null?x.firstBaseUpdate=N:_.next=N,x.lastBaseUpdate=v))}if(c!==null){var z=r.baseState;h=0,x=N=v=null,_=c;do{var D=_.lane&-536870913,O=D!==_.lane;if(O?(he&D)===D:(a&D)===D){D!==0&&D===sl&&(Kr=!0),x!==null&&(x=x.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var k=e,$=_;D=t;var De=i;switch($.tag){case 1:if(k=$.payload,typeof k=="function"){z=k.call(De,z,D);break e}z=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=$.payload,D=typeof k=="function"?k.call(De,z,D):k,D==null)break e;z=S({},z,D);break e;case 2:Vn=!0}}D=_.callback,D!==null&&(e.flags|=64,O&&(e.flags|=8192),O=r.callbacks,O===null?r.callbacks=[D]:O.push(D))}else O={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(N=x=O,v=z):x=x.next=O,h|=D;if(_=_.next,_===null){if(_=r.shared.pending,_===null)break;O=_,_=O.next,O.next=null,r.lastBaseUpdate=O,r.shared.pending=null}}while(!0);x===null&&(v=z),r.baseState=v,r.firstBaseUpdate=N,r.lastBaseUpdate=x,c===null&&(r.shared.lanes=0),Wn|=h,e.lanes=h,e.memoizedState=z}}function Jh(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Wh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Jh(i[e],t)}var cl=y(null),Ls=y(0);function $h(e,t){e=On,L(Ls,e),L(cl,t),On=e|t.baseLanes}function Zr(){L(Ls,On),L(cl,cl.current)}function Fr(){On=Ls.current,M(cl),M(Ls)}var Bt=y(null),Wt=null;function Kn(e){var t=e.alternate;L(ke,ke.current&1),L(Bt,e),Wt===null&&(t===null||cl.current!==null||t.memoizedState!==null)&&(Wt=e)}function Jr(e){L(ke,ke.current),L(Bt,e),Wt===null&&(Wt=e)}function Ph(e){e.tag===22?(L(ke,ke.current),L(Bt,e),Wt===null&&(Wt=e)):Zn()}function Zn(){L(ke,ke.current),L(Bt,Bt.current)}function It(e){M(Bt),Wt===e&&(Wt=null),M(ke)}var ke=y(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ic(i)||lc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var En=0,ie=null,Ne=null,Je=null,Bs=!1,fl=!1,Di=!1,Is=0,oa=0,hl=null,wv=0;function je(){throw Error(u(321))}function Wr(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Lt(e[i],t[i]))return!1;return!0}function $r(e,t,i,a,r,c){return En=c,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?Hd:mo,Di=!1,c=i(a,r),Di=!1,fl&&(c=td(t,i,a,r)),ed(e),c}function ed(e){T.H=ha;var t=Ne!==null&&Ne.next!==null;if(En=0,Je=Ne=ie=null,Bs=!1,oa=0,hl=null,t)throw Error(u(300));e===null||We||(e=e.dependencies,e!==null&&Ds(e)&&(We=!0))}function td(e,t,i,a){ie=e;var r=0;do{if(fl&&(hl=null),oa=0,fl=!1,25<=r)throw Error(u(301));if(r+=1,Je=Ne=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}T.H=Bd,c=t(i,a)}while(fl);return c}function zv(){var e=T.H,t=e.useState()[0];return t=typeof t.then=="function"?ca(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ie.flags|=1024),t}function Pr(){var e=Is!==0;return Is=0,e}function eo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function to(e){if(Bs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bs=!1}En=0,Je=Ne=ie=null,fl=!1,oa=Is=0,hl=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ie.memoizedState=Je=e:Je=Je.next=e,Je}function Ve(){if(Ne===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Je===null?ie.memoizedState:Je.next;if(t!==null)Je=t,Ne=e;else{if(e===null)throw ie.alternate===null?Error(u(467)):Error(u(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Je===null?ie.memoizedState=Je=e:Je=Je.next=e}return Je}function qs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ca(e){var t=oa;return oa+=1,hl===null&&(hl=[]),e=Qh(hl,e,t),t=ie,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?Hd:mo),e}function js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ca(e);if(e.$$typeof===be)return ht(e)}throw Error(u(438,String(e)))}function no(e){var t=null,i=ie.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ie.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=qs(),ie.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=kt;return t.index++,i}function bn(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=Ve();return io(t,Ne,e)}function io(e,t,i){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=i;var r=e.baseQueue,c=a.pending;if(c!==null){if(r!==null){var h=r.next;r.next=c.next,c.next=h}t.baseQueue=r=c,a.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var _=h=null,v=null,N=t,x=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(he&z)===z:(En&z)===z){var D=N.revertLane;if(D===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===sl&&(x=!0);else if((En&D)===D){N=N.next,D===sl&&(x=!0);continue}else z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=z,h=c):v=v.next=z,ie.lanes|=D,Wn|=D;z=N.action,Di&&i(c,z),c=N.hasEagerState?N.eagerState:i(c,z)}else D={lane:z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=D,h=c):v=v.next=D,ie.lanes|=z,Wn|=z;N=N.next}while(N!==null&&N!==t);if(v===null?h=c:v.next=_,!Lt(c,e.memoizedState)&&(We=!0,x&&(i=ul,i!==null)))throw i;e.memoizedState=c,e.baseState=h,e.baseQueue=v,a.lastRenderedState=c}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function lo(e){var t=Ve(),i=t.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=e;var a=i.dispatch,r=i.pending,c=t.memoizedState;if(r!==null){i.pending=null;var h=r=r.next;do c=e(c,h.action),h=h.next;while(h!==r);Lt(c,t.memoizedState)||(We=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function nd(e,t,i){var a=ie,r=Ve(),c=ge;if(c){if(i===void 0)throw Error(u(407));i=i()}else i=t();var h=!Lt((Ne||r).memoizedState,i);if(h&&(r.memoizedState=i,We=!0),r=r.queue,uo(ad.bind(null,a,r,e),[e]),r.getSnapshot!==t||h||Je!==null&&Je.memoizedState.tag&1){if(a.flags|=2048,dl(9,{destroy:void 0},ld.bind(null,a,r,i,t),null),Oe===null)throw Error(u(349));c||(En&127)!==0||id(a,t,i)}return i}function id(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ie.updateQueue,t===null?(t=qs(),ie.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ld(e,t,i,a){t.value=i,t.getSnapshot=a,sd(t)&&ud(e)}function ad(e,t,i){return i(function(){sd(t)&&ud(e)})}function sd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Lt(e,i)}catch{return!0}}function ud(e){var t=vi(e,2);t!==null&&Dt(t,e,2)}function ao(e){var t=Et();if(typeof e=="function"){var i=e;if(e=i(),Di){Bn(!0);try{i()}finally{Bn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},t}function rd(e,t,i,a){return e.baseState=i,io(e,Ne,typeof a=="function"?a:bn)}function Uv(e,t,i,a,r){if(Vs(e))throw Error(u(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};T.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,od(t,c)):(c.next=i.next,t.pending=i.next=c)}}function od(e,t){var i=t.action,a=t.payload,r=e.state;if(t.isTransition){var c=T.T,h={};T.T=h;try{var _=i(r,a),v=T.S;v!==null&&v(h,_),cd(e,t,_)}catch(N){so(e,t,N)}finally{c!==null&&h.types!==null&&(c.types=h.types),T.T=c}}else try{c=i(r,a),cd(e,t,c)}catch(N){so(e,t,N)}}function cd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){fd(e,t,a)},function(a){return so(e,t,a)}):fd(e,t,i)}function fd(e,t,i){t.status="fulfilled",t.value=i,hd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,od(e,i)))}function so(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,hd(t),t=t.next;while(t!==a)}e.action=null}function hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function dd(e,t){return t}function md(e,t){if(ge){var i=Oe.formState;if(i!==null){e:{var a=ie;if(ge){if(Ue){t:{for(var r=Ue,c=Jt;r.nodeType!==8;){if(!c){r=null;break t}if(r=$t(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Ue=$t(r.nextSibling),a=r.data==="F!";break e}}Gn(a)}a=!1}a&&(t=i[0])}}return i=Et(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:t},i.queue=a,i=zd.bind(null,ie,a),a.dispatch=i,a=ao(!1),c=ho.bind(null,ie,!1,a.queue),a=Et(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,i=Uv.bind(null,ie,r,c,i),r.dispatch=i,a.memoizedState=e,[t,i,!1]}function _d(e){var t=Ve();return gd(t,Ne,e)}function gd(e,t,i){if(t=io(e,t,dd)[0],e=Ys(bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ca(t)}catch(h){throw h===rl?xs:h}else a=t;t=Ve();var r=t.queue,c=r.dispatch;return i!==t.memoizedState&&(ie.flags|=2048,dl(9,{destroy:void 0},Lv.bind(null,r,i),null)),[a,c,e]}function Lv(e,t){e.action=t}function pd(e){var t=Ve(),i=Ne;if(i!==null)return gd(t,i,e);Ve(),t=t.memoizedState,i=Ve();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function dl(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=ie.updateQueue,t===null&&(t=qs(),ie.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function yd(){return Ve().memoizedState}function Gs(e,t,i,a){var r=Et();ie.flags|=e,r.memoizedState=dl(1|t,{destroy:void 0},i,a===void 0?null:a)}function ks(e,t,i,a){var r=Ve();a=a===void 0?null:a;var c=r.memoizedState.inst;Ne!==null&&a!==null&&Wr(a,Ne.memoizedState.deps)?r.memoizedState=dl(t,c,i,a):(ie.flags|=e,r.memoizedState=dl(1|t,c,i,a))}function vd(e,t){Gs(8390656,8,e,t)}function uo(e,t){ks(2048,8,e,t)}function Hv(e){ie.flags|=4;var t=ie.updateQueue;if(t===null)t=qs(),ie.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Sd(e){var t=Ve().memoizedState;return Hv({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function Ed(e,t){return ks(4,2,e,t)}function bd(e,t){return ks(4,4,e,t)}function Cd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,i){i=i!=null?i.concat([e]):null,ks(4,4,Cd.bind(null,t,e),i)}function ro(){}function Ad(e,t){var i=Ve();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&Wr(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Nd(e,t){var i=Ve();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&Wr(t,a[1]))return a[0];if(a=e(),Di){Bn(!0);try{e()}finally{Bn(!1)}}return i.memoizedState=[a,t],a}function oo(e,t,i){return i===void 0||(En&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Rm(),ie.lanes|=e,Wn|=e,i)}function Rd(e,t,i,a){return Lt(i,t)?i:cl.current!==null?(e=oo(e,i,a),Lt(e,t)||(We=!0),e):(En&42)===0||(En&1073741824)!==0&&(he&261930)===0?(We=!0,e.memoizedState=i):(e=Rm(),ie.lanes|=e,Wn|=e,t)}function Dd(e,t,i,a,r){var c=I.p;I.p=c!==0&&8>c?c:8;var h=T.T,_={};T.T=_,ho(e,!1,t,i);try{var v=r(),N=T.S;if(N!==null&&N(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=xv(v,a);fa(e,t,x,Yt(e))}else fa(e,t,a,Yt(e))}catch(z){fa(e,t,{then:function(){},status:"rejected",reason:z},Yt())}finally{I.p=c,h!==null&&_.types!==null&&(h.types=_.types),T.T=h}}function Bv(){}function co(e,t,i,a){if(e.tag!==5)throw Error(u(476));var r=Od(e).queue;Dd(e,r,t,U,i===null?Bv:function(){return Md(e),i(a)})}function Od(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:U},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Md(e){var t=Od(e);t.next===null&&(t=e.alternate.memoizedState),fa(e,t.next.queue,{},Yt())}function fo(){return ht(Da)}function xd(){return Ve().memoizedState}function wd(){return Ve().memoizedState}function Iv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Yt();e=Qn(i);var a=Xn(t,e,i);a!==null&&(Dt(a,t,i),sa(a,t,i)),t={cache:jr()},e.payload=t;return}t=t.return}}function qv(e,t,i){var a=Yt();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Vs(e)?Ud(t,i):(i=Or(e,t,i,a),i!==null&&(Dt(i,e,a),Ld(i,t,a)))}function zd(e,t,i){var a=Yt();fa(e,t,i,a)}function fa(e,t,i,a){var r={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))Ud(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,_=c(h,i);if(r.hasEagerState=!0,r.eagerState=_,Lt(_,h))return Ts(e,t,r,0),Oe===null&&Cs(),!1}catch{}finally{}if(i=Or(e,t,r,a),i!==null)return Dt(i,e,a),Ld(i,t,a),!0}return!1}function ho(e,t,i,a){if(a={lane:2,revertLane:Qo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(u(479))}else t=Or(e,i,a,2),t!==null&&Dt(t,e,2)}function Vs(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Ud(e,t){fl=Bs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ld(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,jf(e,i)}}var ha={readContext:ht,use:js,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};ha.useEffectEvent=je;var Hd={readContext:ht,use:js,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:vd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Gs(4194308,4,Cd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){Gs(4,2,e,t)},useMemo:function(e,t){var i=Et();t=t===void 0?null:t;var a=e();if(Di){Bn(!0);try{e()}finally{Bn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=Et();if(i!==void 0){var r=i(t);if(Di){Bn(!0);try{i(t)}finally{Bn(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=qv.bind(null,ie,e),[a.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=ao(e);var t=e.queue,i=zd.bind(null,ie,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ro,useDeferredValue:function(e,t){var i=Et();return oo(i,e,t)},useTransition:function(){var e=ao(!1);return e=Dd.bind(null,ie,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ie,r=Et();if(ge){if(i===void 0)throw Error(u(407));i=i()}else{if(i=t(),Oe===null)throw Error(u(349));(he&127)!==0||id(a,t,i)}r.memoizedState=i;var c={value:i,getSnapshot:t};return r.queue=c,vd(ad.bind(null,a,c,e),[e]),a.flags|=2048,dl(9,{destroy:void 0},ld.bind(null,a,c,i,t),null),i},useId:function(){var e=Et(),t=Oe.identifierPrefix;if(ge){var i=cn,a=on;i=(a&~(1<<32-Ut(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Is++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=wv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:fo,useFormState:md,useActionState:md,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=ho.bind(null,ie,!0,i),i.dispatch=t,[e,t]},useMemoCache:no,useCacheRefresh:function(){return Et().memoizedState=Iv.bind(null,ie)},useEffectEvent:function(e){var t=Et(),i={impl:e};return t.memoizedState=i,function(){if((Se&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},mo={readContext:ht,use:js,useCallback:Ad,useContext:ht,useEffect:uo,useImperativeHandle:Td,useInsertionEffect:Ed,useLayoutEffect:bd,useMemo:Nd,useReducer:Ys,useRef:yd,useState:function(){return Ys(bn)},useDebugValue:ro,useDeferredValue:function(e,t){var i=Ve();return Rd(i,Ne.memoizedState,e,t)},useTransition:function(){var e=Ys(bn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ca(e),t]},useSyncExternalStore:nd,useId:xd,useHostTransitionStatus:fo,useFormState:_d,useActionState:_d,useOptimistic:function(e,t){var i=Ve();return rd(i,Ne,e,t)},useMemoCache:no,useCacheRefresh:wd};mo.useEffectEvent=Sd;var Bd={readContext:ht,use:js,useCallback:Ad,useContext:ht,useEffect:uo,useImperativeHandle:Td,useInsertionEffect:Ed,useLayoutEffect:bd,useMemo:Nd,useReducer:lo,useRef:yd,useState:function(){return lo(bn)},useDebugValue:ro,useDeferredValue:function(e,t){var i=Ve();return Ne===null?oo(i,e,t):Rd(i,Ne.memoizedState,e,t)},useTransition:function(){var e=lo(bn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ca(e),t]},useSyncExternalStore:nd,useId:xd,useHostTransitionStatus:fo,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var i=Ve();return Ne!==null?rd(i,Ne,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:no,useCacheRefresh:wd};Bd.useEffectEvent=Sd;function _o(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var go={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Yt(),r=Qn(a);r.payload=t,i!=null&&(r.callback=i),t=Xn(e,r,a),t!==null&&(Dt(t,e,a),sa(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Yt(),r=Qn(a);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=Xn(e,r,a),t!==null&&(Dt(t,e,a),sa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Yt(),a=Qn(i);a.tag=2,t!=null&&(a.callback=t),t=Xn(e,a,i),t!==null&&(Dt(t,e,i),sa(t,e,i))}};function Id(e,t,i,a,r,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,h):t.prototype&&t.prototype.isPureReactComponent?!$l(i,a)||!$l(r,c):!0}function qd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function Oi(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function jd(e){bs(e)}function Yd(e){console.error(e)}function Gd(e){bs(e)}function Qs(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function kd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function po(e,t,i){return i=Qn(i),i.tag=3,i.payload={element:null},i.callback=function(){Qs(e,t)},i}function Vd(e){return e=Qn(e),e.tag=3,e}function Qd(e,t,i,a){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var c=a.value;e.payload=function(){return r(c)},e.callback=function(){kd(t,i,a)}}var h=i.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){kd(t,i,a),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})})}function jv(e,t,i,a,r){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&al(t,i,r,!0),i=Bt.current,i!==null){switch(i.tag){case 31:case 13:return Wt===null?iu():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=r,a===ws?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Go(e,a,r)),!1;case 22:return i.flags|=65536,a===ws?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Go(e,a,r)),!1}throw Error(u(435,i.tag))}return Go(e,a,r),iu(),!1}if(ge)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==Lr&&(e=Error(u(422),{cause:a}),ta(Kt(e,i)))):(a!==Lr&&(t=Error(u(423),{cause:a}),ta(Kt(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Kt(a,i),r=po(e.stateNode,a,r),Xr(e,r),Ye!==4&&(Ye=2)),!1;var c=Error(u(520),{cause:a});if(c=Kt(c,i),Sa===null?Sa=[c]:Sa.push(c),Ye!==4&&(Ye=2),t===null)return!0;a=Kt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=po(i.stateNode,a,e),Xr(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&($n===null||!$n.has(c))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Vd(r),Qd(r,e,i,a),Xr(i,r),!1}i=i.return}while(i!==null);return!1}var yo=Error(u(461)),We=!1;function dt(e,t,i,a){t.child=e===null?Fh(t,null,i,a):Ri(t,e.child,i,a)}function Xd(e,t,i,a,r){i=i.render;var c=t.ref;if("ref"in a){var h={};for(var _ in a)_!=="ref"&&(h[_]=a[_])}else h=a;return Ci(t),a=$r(e,t,i,h,c,r),_=Pr(),e!==null&&!We?(eo(e,t,r),Cn(e,t,r)):(ge&&_&&zr(t),t.flags|=1,dt(e,t,a,r),t.child)}function Kd(e,t,i,a,r){if(e===null){var c=i.type;return typeof c=="function"&&!Mr(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Zd(e,t,c,a,r)):(e=Ns(i.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!No(e,r)){var h=c.memoizedProps;if(i=i.compare,i=i!==null?i:$l,i(h,a)&&e.ref===t.ref)return Cn(e,t,r)}return t.flags|=1,e=pn(c,a),e.ref=t.ref,e.return=t,t.child=e}function Zd(e,t,i,a,r){if(e!==null){var c=e.memoizedProps;if($l(c,a)&&e.ref===t.ref)if(We=!1,t.pendingProps=a=c,No(e,r))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,Cn(e,t,r)}return vo(e,t,i,a,r)}function Fd(e,t,i,a){var r=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~c}else a=0,t.child=null;return Jd(e,t,c,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ms(t,c!==null?c.cachePool:null),c!==null?$h(t,c):Zr(),Ph(t);else return a=t.lanes=536870912,Jd(e,t,c!==null?c.baseLanes|i:i,i,a)}else c!==null?(Ms(t,c.cachePool),$h(t,c),Zn(),t.memoizedState=null):(e!==null&&Ms(t,null),Zr(),Zn());return dt(e,t,r,i),t.child}function da(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jd(e,t,i,a,r){var c=Gr();return c=c===null?null:{parent:Fe._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Ms(t,null),Zr(),Ph(t),e!==null&&al(e,t,a,!0),t.childLanes=r,null}function Xs(e,t){return t=Zs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wd(e,t,i){return Ri(t,e.child,null,i),e=Xs(t,t.pendingProps),e.flags|=2,It(t),t.memoizedState=null,e}function Yv(e,t,i){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(a.mode==="hidden")return e=Xs(t,a),t.lanes=536870912,da(null,e);if(Jr(t),(e=Ue)?(e=o_(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},i=Uh(e),i.return=t,t.child=i,ft=t,Ue=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return Xs(t,a)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(Jr(t),r)if(t.flags&256)t.flags&=-257,t=Wd(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(We||al(e,t,i,!1),r=(i&e.childLanes)!==0,We||r){if(a=Oe,a!==null&&(h=Yf(a,i),h!==0&&h!==c.retryLane))throw c.retryLane=h,vi(e,h),Dt(a,e,h),yo;iu(),t=Wd(e,t,i)}else e=c.treeContext,Ue=$t(h.nextSibling),ft=t,ge=!0,Yn=null,Jt=!1,e!==null&&Bh(t,e),t=Xs(t,a),t.flags|=4096;return t}return e=pn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ks(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function vo(e,t,i,a,r){return Ci(t),i=$r(e,t,i,a,void 0,r),a=Pr(),e!==null&&!We?(eo(e,t,r),Cn(e,t,r)):(ge&&a&&zr(t),t.flags|=1,dt(e,t,i,r),t.child)}function $d(e,t,i,a,r,c){return Ci(t),t.updateQueue=null,i=td(t,a,i,r),ed(e),a=Pr(),e!==null&&!We?(eo(e,t,c),Cn(e,t,c)):(ge&&a&&zr(t),t.flags|=1,dt(e,t,i,c),t.child)}function Pd(e,t,i,a,r){if(Ci(t),t.stateNode===null){var c=tl,h=i.contextType;typeof h=="object"&&h!==null&&(c=ht(h)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=go,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Vr(t),h=i.contextType,c.context=typeof h=="object"&&h!==null?ht(h):tl,c.state=t.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(_o(t,i,h,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&go.enqueueReplaceState(c,c.state,null),ra(t,a,c,r),ua(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var _=t.memoizedProps,v=Oi(i,_);c.props=v;var N=c.context,x=i.contextType;h=tl,typeof x=="object"&&x!==null&&(h=ht(x));var z=i.getDerivedStateFromProps;x=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_||N!==h)&&qd(t,c,a,h),Vn=!1;var D=t.memoizedState;c.state=D,ra(t,a,c,r),ua(),N=t.memoizedState,_||D!==N||Vn?(typeof z=="function"&&(_o(t,i,z,a),N=t.memoizedState),(v=Vn||Id(t,i,v,a,D,N,h))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),c.props=a,c.state=N,c.context=h,a=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Qr(e,t),h=t.memoizedProps,x=Oi(i,h),c.props=x,z=t.pendingProps,D=c.context,N=i.contextType,v=tl,typeof N=="object"&&N!==null&&(v=ht(N)),_=i.getDerivedStateFromProps,(N=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==z||D!==v)&&qd(t,c,a,v),Vn=!1,D=t.memoizedState,c.state=D,ra(t,a,c,r),ua();var O=t.memoizedState;h!==z||D!==O||Vn||e!==null&&e.dependencies!==null&&Ds(e.dependencies)?(typeof _=="function"&&(_o(t,i,_,a),O=t.memoizedState),(x=Vn||Id(t,i,x,a,D,O,v)||e!==null&&e.dependencies!==null&&Ds(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,O,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,O,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=O),c.props=a,c.state=O,c.context=v,a=x):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Ks(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Ri(t,e.child,null,r),t.child=Ri(t,null,i,r)):dt(e,t,i,r),t.memoizedState=c.state,e=t.child):e=Cn(e,t,r),e}function em(e,t,i,a){return Ei(),t.flags|=256,dt(e,t,i,a),t.child}var So={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eo(e){return{baseLanes:e,cachePool:kh()}}function bo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=jt),e}function tm(e,t,i){var a=t.pendingProps,r=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(r?Kn(t):Zn(),(e=Ue)?(e=o_(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},i=Uh(e),i.return=t,t.child=i,ft=t,Ue=null)):e=null,e===null)throw Gn(t);return lc(e)?t.lanes=32:t.lanes=536870912,null}var _=a.children;return a=a.fallback,r?(Zn(),r=t.mode,_=Zs({mode:"hidden",children:_},r),a=Si(a,r,i,null),_.return=t,a.return=t,_.sibling=a,t.child=_,a=t.child,a.memoizedState=Eo(i),a.childLanes=bo(e,h,i),t.memoizedState=So,da(null,a)):(Kn(t),Co(t,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(c)t.flags&256?(Kn(t),t.flags&=-257,t=To(e,t,i)):t.memoizedState!==null?(Zn(),t.child=e.child,t.flags|=128,t=null):(Zn(),_=a.fallback,r=t.mode,a=Zs({mode:"visible",children:a.children},r),_=Si(_,r,i,null),_.flags|=2,a.return=t,_.return=t,a.sibling=_,t.child=a,Ri(t,e.child,null,i),a=t.child,a.memoizedState=Eo(i),a.childLanes=bo(e,h,i),t.memoizedState=So,t=da(null,a));else if(Kn(t),lc(_)){if(h=_.nextSibling&&_.nextSibling.dataset,h)var N=h.dgst;h=N,a=Error(u(419)),a.stack="",a.digest=h,ta({value:a,source:null,stack:null}),t=To(e,t,i)}else if(We||al(e,t,i,!1),h=(i&e.childLanes)!==0,We||h){if(h=Oe,h!==null&&(a=Yf(h,i),a!==0&&a!==v.retryLane))throw v.retryLane=a,vi(e,a),Dt(h,e,a),yo;ic(_)||iu(),t=To(e,t,i)}else ic(_)?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,Ue=$t(_.nextSibling),ft=t,ge=!0,Yn=null,Jt=!1,e!==null&&Bh(t,e),t=Co(t,a.children),t.flags|=4096);return t}return r?(Zn(),_=a.fallback,r=t.mode,v=e.child,N=v.sibling,a=pn(v,{mode:"hidden",children:a.children}),a.subtreeFlags=v.subtreeFlags&65011712,N!==null?_=pn(N,_):(_=Si(_,r,i,null),_.flags|=2),_.return=t,a.return=t,a.sibling=_,t.child=a,da(null,a),a=t.child,_=e.child.memoizedState,_===null?_=Eo(i):(r=_.cachePool,r!==null?(v=Fe._currentValue,r=r.parent!==v?{parent:v,pool:v}:r):r=kh(),_={baseLanes:_.baseLanes|i,cachePool:r}),a.memoizedState=_,a.childLanes=bo(e,h,i),t.memoizedState=So,da(e.child,a)):(Kn(t),i=e.child,e=i.sibling,i=pn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=i,t.memoizedState=null,i)}function Co(e,t){return t=Zs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zs(e,t){return e=Ht(22,e,null,t),e.lanes=0,e}function To(e,t,i){return Ri(t,e.child,null,i),e=Co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nm(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ir(e.return,t,i)}function Ao(e,t,i,a,r,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:r,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=r,h.treeForkCount=c)}function im(e,t,i){var a=t.pendingProps,r=a.revealOrder,c=a.tail;a=a.children;var h=ke.current,_=(h&2)!==0;if(_?(h=h&1|2,t.flags|=128):h&=1,L(ke,h),dt(e,t,a,i),a=ge?ea:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nm(e,i,t);else if(e.tag===19)nm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&Hs(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),Ao(t,!1,r,i,c,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Hs(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}Ao(t,!0,i,null,c,a);break;case"together":Ao(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Cn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(al(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,i=pn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=pn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function No(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ds(e)))}function Gv(e,t,i){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),kn(t,Fe,e.memoizedState.cache),Ei();break;case 27:case 5:te(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Kn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?tm(e,t,i):(Kn(t),e=Cn(e,t,i),e!==null?e.sibling:null);Kn(t);break;case 19:var r=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(al(e,t,i,!1),a=(i&t.childLanes)!==0),r){if(a)return im(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),L(ke,ke.current),a)break;return null;case 22:return t.lanes=0,Fd(e,t,i,t.pendingProps);case 24:kn(t,Fe,e.memoizedState.cache)}return Cn(e,t,i)}function lm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!No(e,i)&&(t.flags&128)===0)return We=!1,Gv(e,t,i);We=(e.flags&131072)!==0}else We=!1,ge&&(t.flags&1048576)!==0&&Hh(t,ea,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ai(t.elementType),t.type=e,typeof e=="function")Mr(e)?(a=Oi(e,a),t.tag=1,t=Pd(null,t,e,a,i)):(t.tag=0,t=vo(null,t,e,a,i));else{if(e!=null){var r=e.$$typeof;if(r===Qe){t.tag=11,t=Xd(null,t,e,a,i);break e}else if(r===ae){t.tag=14,t=Kd(null,t,e,a,i);break e}}throw t=Ae(e)||e,Error(u(306,t,""))}}return t;case 0:return vo(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,r=Oi(a,t.pendingProps),Pd(e,t,a,r,i);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var c=t.memoizedState;r=c.element,Qr(e,t),ra(t,a,null,i);var h=t.memoizedState;if(a=h.cache,kn(t,Fe,a),a!==c.cache&&qr(t,[Fe],i,!0),ua(),a=h.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=em(e,t,a,i);break e}else if(a!==r){r=Kt(Error(u(424)),t),ta(r),t=em(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=$t(e.firstChild),ft=t,ge=!0,Yn=null,Jt=!0,i=Fh(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ei(),a===r){t=Cn(e,t,i);break e}dt(e,t,a,i)}t=t.child}return t;case 26:return Ks(e,t),e===null?(i=__(t.type,null,t.pendingProps,null))?t.memoizedState=i:ge||(i=t.type,e=t.pendingProps,a=cu(J.current).createElement(i),a[ct]=t,a[bt]=e,mt(a,i,e),it(a),t.stateNode=a):t.memoizedState=__(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),e===null&&ge&&(a=t.stateNode=h_(t.type,t.pendingProps,J.current),ft=t,Jt=!0,r=Ue,ni(t.type)?(ac=r,Ue=$t(a.firstChild)):Ue=r),dt(e,t,t.pendingProps.children,i),Ks(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((r=a=Ue)&&(a=y0(a,t.type,t.pendingProps,Jt),a!==null?(t.stateNode=a,ft=t,Ue=$t(a.firstChild),Jt=!1,r=!0):r=!1),r||Gn(t)),te(t),r=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,a=c.children,ec(r,c)?a=null:h!==null&&ec(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=$r(e,t,zv,null,null,i),Da._currentValue=r),Ks(e,t),dt(e,t,a,i),t.child;case 6:return e===null&&ge&&((e=i=Ue)&&(i=v0(i,t.pendingProps,Jt),i!==null?(t.stateNode=i,ft=t,Ue=null,e=!0):e=!1),e||Gn(t)),null;case 13:return tm(e,t,i);case 4:return ot(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ri(t,null,a,i):dt(e,t,a,i),t.child;case 11:return Xd(e,t,t.type,t.pendingProps,i);case 7:return dt(e,t,t.pendingProps,i),t.child;case 8:return dt(e,t,t.pendingProps.children,i),t.child;case 12:return dt(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,kn(t,t.type,a.value),dt(e,t,a.children,i),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Ci(t),r=ht(r),a=a(r),t.flags|=1,dt(e,t,a,i),t.child;case 14:return Kd(e,t,t.type,t.pendingProps,i);case 15:return Zd(e,t,t.type,t.pendingProps,i);case 19:return im(e,t,i);case 31:return Yv(e,t,i);case 22:return Fd(e,t,i,t.pendingProps);case 24:return Ci(t),a=ht(Fe),e===null?(r=Gr(),r===null&&(r=Oe,c=jr(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=i),r=c),t.memoizedState={parent:a,cache:r},Vr(t),kn(t,Fe,r)):((e.lanes&i)!==0&&(Qr(e,t),ra(t,null,null,i),ua()),r=e.memoizedState,c=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),kn(t,Fe,a)):(a=c.cache,kn(t,Fe,a),a!==r.cache&&qr(t,[Fe],i,!0))),dt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Tn(e){e.flags|=4}function Ro(e,t,i,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(xm())e.flags|=8192;else throw Ni=ws,kr}else e.flags&=-16777217}function am(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(t))if(xm())e.flags|=8192;else throw Ni=ws,kr}function Fs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?If():536870912,e.lanes|=t,pl|=t)}function ma(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function kv(e,t,i){var a=t.pendingProps;switch(Ur(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sn(Fe),qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ll(t)?Tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hr())),Le(t),null;case 26:var r=t.type,c=t.memoizedState;return e===null?(Tn(t),c!==null?(Le(t),am(t,c)):(Le(t),Ro(t,r,null,a,i))):c?c!==e.memoizedState?(Tn(t),Le(t),am(t,c)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Tn(t),Le(t),Ro(t,r,e,a,i)),null;case 27:if(V(t),i=J.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Tn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Le(t),null}e=j.current,ll(t)?Ih(t):(e=h_(r,a,i),t.stateNode=e,Tn(t))}return Le(t),null;case 5:if(V(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Tn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Le(t),null}if(c=j.current,ll(t))Ih(t);else{var h=cu(J.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?h.createElement("select",{is:a.is}):h.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?h.createElement(r,{is:a.is}):h.createElement(r)}}c[ct]=t,c[bt]=a;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(mt(c,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Tn(t)}}return Le(t),Ro(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Tn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=J.current,ll(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,r=ft,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[ct]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||t_(e.nodeValue,i)),e||Gn(t,!0)}else e=cu(e).createTextNode(a),e[ct]=t,t.stateNode=e}return Le(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=ll(t),i!==null){if(e===null){if(!a)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[ct]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else i=Hr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(It(t),t):(It(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Le(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ll(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(u(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(u(317));r[ct]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),r=!1}else r=Hr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(It(t),t):(It(t),null)}return It(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Fs(t,t.updateQueue),Le(t),null);case 4:return qe(),e===null&&Fo(t.stateNode.containerInfo),Le(t),null;case 10:return Sn(t.type),Le(t),null;case 19:if(M(ke),a=t.memoizedState,a===null)return Le(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)ma(a,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Hs(e),c!==null){for(t.flags|=128,ma(a,!1),e=c.updateQueue,t.updateQueue=e,Fs(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)zh(i,e),i=i.sibling;return L(ke,ke.current&1|2),ge&&yn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&wt()>eu&&(t.flags|=128,r=!0,ma(a,!1),t.lanes=4194304)}else{if(!r)if(e=Hs(c),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Fs(t,e),ma(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ge)return Le(t),null}else 2*wt()-a.renderingStartTime>eu&&i!==536870912&&(t.flags|=128,r=!0,ma(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wt(),e.sibling=null,i=ke.current,L(ke,r?i&1|2:i&1),ge&&yn(t,a.treeForkCount),e):(Le(t),null);case 22:case 23:return It(t),Fr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),i=t.updateQueue,i!==null&&Fs(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&M(Ti),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Sn(Fe),Le(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Vv(e,t){switch(Ur(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sn(Fe),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return V(t),null;case 31:if(t.memoizedState!==null){if(It(t),t.alternate===null)throw Error(u(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(It(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(ke),null;case 4:return qe(),null;case 10:return Sn(t.type),null;case 22:case 23:return It(t),Fr(),e!==null&&M(Ti),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sn(Fe),null;case 25:return null;default:return null}}function sm(e,t){switch(Ur(t),t.tag){case 3:Sn(Fe),qe();break;case 26:case 27:case 5:V(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&It(t);break;case 13:It(t);break;case 19:M(ke);break;case 10:Sn(t.type);break;case 22:case 23:It(t),Fr(),e!==null&&M(Ti);break;case 24:Sn(Fe)}}function _a(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){a=void 0;var c=i.create,h=i.inst;a=c(),h.destroy=a}i=i.next}while(i!==r)}}catch(_){Te(t,t.return,_)}}function Fn(e,t,i){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){var h=a.inst,_=h.destroy;if(_!==void 0){h.destroy=void 0,r=t;var v=i,N=_;try{N()}catch(x){Te(r,v,x)}}}a=a.next}while(a!==c)}}catch(x){Te(t,t.return,x)}}function um(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Wh(t,i)}catch(a){Te(e,e.return,a)}}}function rm(e,t,i){i.props=Oi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Te(e,t,a)}}function ga(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(r){Te(e,t,r)}}function fn(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(r){Te(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Te(e,t,r)}else i.current=null}function om(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(r){Te(e,e.return,r)}}function Do(e,t,i){try{var a=e.stateNode;h0(a,e.type,i,t),a[bt]=t}catch(r){Te(e,e.return,r)}}function cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ni(e.type)||e.tag===4}function Oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_n));else if(a!==4&&(a===27&&ni(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Mo(e,t,i),e=e.sibling;e!==null;)Mo(e,t,i),e=e.sibling}function Js(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&ni(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Js(e,t,i),e=e.sibling;e!==null;)Js(e,t,i),e=e.sibling}function fm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mt(t,a,i),t[ct]=e,t[bt]=i}catch(c){Te(e,e.return,c)}}var An=!1,$e=!1,xo=!1,hm=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Qv(e,t){if(e=e.containerInfo,$o=pu,e=Th(e),Cr(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var r=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var h=0,_=-1,v=-1,N=0,x=0,z=e,D=null;t:for(;;){for(var O;z!==i||r!==0&&z.nodeType!==3||(_=h+r),z!==c||a!==0&&z.nodeType!==3||(v=h+a),z.nodeType===3&&(h+=z.nodeValue.length),(O=z.firstChild)!==null;)D=z,z=O;for(;;){if(z===e)break t;if(D===i&&++N===r&&(_=h),D===c&&++x===a&&(v=h),(O=z.nextSibling)!==null)break;z=D,D=z.parentNode}z=O}i=_===-1||v===-1?null:{start:_,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(Po={focusedElem:e,selectionRange:i},pu=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,r=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var k=Oi(i.type,r);e=a.getSnapshotBeforeUpdate(k,c),a.__reactInternalSnapshotBeforeUpdate=e}catch($){Te(i,i.return,$)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)nc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function dm(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Rn(e,i),a&4&&_a(5,i);break;case 1:if(Rn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(h){Te(i,i.return,h)}else{var r=Oi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Te(i,i.return,h)}}a&64&&um(i),a&512&&ga(i,i.return);break;case 3:if(Rn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Wh(e,t)}catch(h){Te(i,i.return,h)}}break;case 27:t===null&&a&4&&fm(i);case 26:case 5:Rn(e,i),t===null&&a&4&&om(i),a&512&&ga(i,i.return);break;case 12:Rn(e,i);break;case 31:Rn(e,i),a&4&&gm(e,i);break;case 13:Rn(e,i),a&4&&pm(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=e0.bind(null,i),S0(e,i))));break;case 22:if(a=i.memoizedState!==null||An,!a){t=t!==null&&t.memoizedState!==null||$e,r=An;var c=$e;An=a,($e=t)&&!c?Dn(e,i,(i.subtreeFlags&8772)!==0):Rn(e,i),An=r,$e=c}break;case 30:break;default:Rn(e,i)}}function mm(e){var t=e.alternate;t!==null&&(e.alternate=null,mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,Tt=!1;function Nn(e,t,i){for(i=i.child;i!==null;)_m(e,t,i),i=i.sibling}function _m(e,t,i){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(jl,i)}catch{}switch(i.tag){case 26:$e||fn(i,t),Nn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:$e||fn(i,t);var a=Be,r=Tt;ni(i.type)&&(Be=i.stateNode,Tt=!1),Nn(e,t,i),Aa(i.stateNode),Be=a,Tt=r;break;case 5:$e||fn(i,t);case 6:if(a=Be,r=Tt,Be=null,Nn(e,t,i),Be=a,Tt=r,Be!==null)if(Tt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(i.stateNode)}catch(c){Te(i,t,c)}else try{Be.removeChild(i.stateNode)}catch(c){Te(i,t,c)}break;case 18:Be!==null&&(Tt?(e=Be,u_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Al(e)):u_(Be,i.stateNode));break;case 4:a=Be,r=Tt,Be=i.stateNode.containerInfo,Tt=!0,Nn(e,t,i),Be=a,Tt=r;break;case 0:case 11:case 14:case 15:Fn(2,i,t),$e||Fn(4,i,t),Nn(e,t,i);break;case 1:$e||(fn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&rm(i,t,a)),Nn(e,t,i);break;case 21:Nn(e,t,i);break;case 22:$e=(a=$e)||i.memoizedState!==null,Nn(e,t,i),$e=a;break;default:Nn(e,t,i)}}function gm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Al(e)}catch(i){Te(t,t.return,i)}}}function pm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(i){Te(t,t.return,i)}}function Xv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hm),t;default:throw Error(u(435,e.tag))}}function Ws(e,t){var i=Xv(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var r=t0.bind(null,e,a);a.then(r,r)}})}function At(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var r=i[a],c=e,h=t,_=h;e:for(;_!==null;){switch(_.tag){case 27:if(ni(_.type)){Be=_.stateNode,Tt=!1;break e}break;case 5:Be=_.stateNode,Tt=!1;break e;case 3:case 4:Be=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(Be===null)throw Error(u(160));_m(c,h,r),Be=null,Tt=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ym(t,e),t=t.sibling}var tn=null;function ym(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Nt(e),a&4&&(Fn(3,e,e.return),_a(3,e),Fn(5,e,e.return));break;case 1:At(t,e),Nt(e),a&512&&($e||i===null||fn(i,i.return)),a&64&&An&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var r=tn;if(At(t,e),Nt(e),a&512&&($e||i===null||fn(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":c=r.getElementsByTagName("title")[0],(!c||c[kl]||c[ct]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(a),r.head.insertBefore(c,r.querySelector("head > title"))),mt(c,a,i),c[ct]=e,it(c),a=c;break e;case"link":var h=y_("link","href",r).get(a+(i.href||""));if(h){for(var _=0;_<h.length;_++)if(c=h[_],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){h.splice(_,1);break t}}c=r.createElement(a),mt(c,a,i),r.head.appendChild(c);break;case"meta":if(h=y_("meta","content",r).get(a+(i.content||""))){for(_=0;_<h.length;_++)if(c=h[_],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){h.splice(_,1);break t}}c=r.createElement(a),mt(c,a,i),r.head.appendChild(c);break;default:throw Error(u(468,a))}c[ct]=e,it(c),a=c}e.stateNode=a}else v_(r,e.type,e.stateNode);else e.stateNode=p_(r,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?v_(r,e.type,e.stateNode):p_(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Do(e,e.memoizedProps,i.memoizedProps)}break;case 27:At(t,e),Nt(e),a&512&&($e||i===null||fn(i,i.return)),i!==null&&a&4&&Do(e,e.memoizedProps,i.memoizedProps);break;case 5:if(At(t,e),Nt(e),a&512&&($e||i===null||fn(i,i.return)),e.flags&32){r=e.stateNode;try{Zi(r,"")}catch(k){Te(e,e.return,k)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Do(e,r,i!==null?i.memoizedProps:r)),a&1024&&(xo=!0);break;case 6:if(At(t,e),Nt(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(k){Te(e,e.return,k)}}break;case 3:if(du=null,r=tn,tn=fu(t.containerInfo),At(t,e),tn=r,Nt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(k){Te(e,e.return,k)}xo&&(xo=!1,vm(e));break;case 4:a=tn,tn=fu(e.stateNode.containerInfo),At(t,e),Nt(e),tn=a;break;case 12:At(t,e),Nt(e);break;case 31:At(t,e),Nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ws(e,a)));break;case 13:At(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ps=wt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ws(e,a)));break;case 22:r=e.memoizedState!==null;var v=i!==null&&i.memoizedState!==null,N=An,x=$e;if(An=N||r,$e=x||v,At(t,e),$e=x,An=N,Nt(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||v||An||$e||Mi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){v=i=t;try{if(c=v.stateNode,r)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=v.stateNode;var z=v.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(k){Te(v,v.return,k)}}}else if(t.tag===6){if(i===null){v=t;try{v.stateNode.nodeValue=r?"":v.memoizedProps}catch(k){Te(v,v.return,k)}}}else if(t.tag===18){if(i===null){v=t;try{var O=v.stateNode;r?r_(O,!0):r_(v.stateNode,!1)}catch(k){Te(v,v.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Ws(e,i))));break;case 19:At(t,e),Nt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ws(e,a)));break;case 30:break;case 21:break;default:At(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(cm(a)){i=a;break}a=a.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var r=i.stateNode,c=Oo(e);Js(e,c,r);break;case 5:var h=i.stateNode;i.flags&32&&(Zi(h,""),i.flags&=-33);var _=Oo(e);Js(e,_,h);break;case 3:case 4:var v=i.stateNode.containerInfo,N=Oo(e);Mo(e,N,v);break;default:throw Error(u(161))}}catch(x){Te(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dm(e,t.alternate,t),t=t.sibling}function Mi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),Mi(t);break;case 1:fn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&rm(t,t.return,i),Mi(t);break;case 27:Aa(t.stateNode);case 26:case 5:fn(t,t.return),Mi(t);break;case 22:t.memoizedState===null&&Mi(t);break;case 30:Mi(t);break;default:Mi(t)}e=e.sibling}}function Dn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Dn(r,c,i),_a(4,c);break;case 1:if(Dn(r,c,i),a=c,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(N){Te(a,a.return,N)}if(a=c,r=a.updateQueue,r!==null){var _=a.stateNode;try{var v=r.shared.hiddenCallbacks;if(v!==null)for(r.shared.hiddenCallbacks=null,r=0;r<v.length;r++)Jh(v[r],_)}catch(N){Te(a,a.return,N)}}i&&h&64&&um(c),ga(c,c.return);break;case 27:fm(c);case 26:case 5:Dn(r,c,i),i&&a===null&&h&4&&om(c),ga(c,c.return);break;case 12:Dn(r,c,i);break;case 31:Dn(r,c,i),i&&h&4&&gm(r,c);break;case 13:Dn(r,c,i),i&&h&4&&pm(r,c);break;case 22:c.memoizedState===null&&Dn(r,c,i),ga(c,c.return);break;case 30:break;default:Dn(r,c,i)}t=t.sibling}}function wo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&na(i))}function zo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&na(e))}function nn(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sm(e,t,i,a),t=t.sibling}function Sm(e,t,i,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,i,a),r&2048&&_a(9,t);break;case 1:nn(e,t,i,a);break;case 3:nn(e,t,i,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&na(e)));break;case 12:if(r&2048){nn(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,_=c.onPostCommit;typeof _=="function"&&_(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Te(t,t.return,v)}}else nn(e,t,i,a);break;case 31:nn(e,t,i,a);break;case 13:nn(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?nn(e,t,i,a):pa(e,t):c._visibility&2?nn(e,t,i,a):(c._visibility|=2,ml(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&wo(h,t);break;case 24:nn(e,t,i,a),r&2048&&zo(t.alternate,t);break;default:nn(e,t,i,a)}}function ml(e,t,i,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,_=i,v=a,N=h.flags;switch(h.tag){case 0:case 11:case 15:ml(c,h,_,v,r),_a(8,h);break;case 23:break;case 22:var x=h.stateNode;h.memoizedState!==null?x._visibility&2?ml(c,h,_,v,r):pa(c,h):(x._visibility|=2,ml(c,h,_,v,r)),r&&N&2048&&wo(h.alternate,h);break;case 24:ml(c,h,_,v,r),r&&N&2048&&zo(h.alternate,h);break;default:ml(c,h,_,v,r)}t=t.sibling}}function pa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,r=a.flags;switch(a.tag){case 22:pa(i,a),r&2048&&wo(a.alternate,a);break;case 24:pa(i,a),r&2048&&zo(a.alternate,a);break;default:pa(i,a)}t=t.sibling}}var ya=8192;function _l(e,t,i){if(e.subtreeFlags&ya)for(e=e.child;e!==null;)Em(e,t,i),e=e.sibling}function Em(e,t,i){switch(e.tag){case 26:_l(e,t,i),e.flags&ya&&e.memoizedState!==null&&w0(i,tn,e.memoizedState,e.memoizedProps);break;case 5:_l(e,t,i);break;case 3:case 4:var a=tn;tn=fu(e.stateNode.containerInfo),_l(e,t,i),tn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ya,ya=16777216,_l(e,t,i),ya=a):_l(e,t,i));break;default:_l(e,t,i)}}function bm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function va(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];lt=a,Tm(a,e)}bm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cm(e),e=e.sibling}function Cm(e){switch(e.tag){case 0:case 11:case 15:va(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:va(e);break;case 12:va(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$s(e)):va(e);break;default:va(e)}}function $s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];lt=a,Tm(a,e)}bm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),$s(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,$s(t));break;default:$s(t)}e=e.sibling}}function Tm(e,t){for(;lt!==null;){var i=lt;switch(i.tag){case 0:case 11:case 15:Fn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:na(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,lt=a;else e:for(i=e;lt!==null;){a=lt;var r=a.sibling,c=a.return;if(mm(a),a===i){lt=null;break e}if(r!==null){r.return=c,lt=r;break e}lt=c}}}var Kv={getCacheForType:function(e){var t=ht(Fe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ht(Fe).controller.signal}},Zv=typeof WeakMap=="function"?WeakMap:Map,Se=0,Oe=null,re=null,he=0,Ce=0,qt=null,Jn=!1,gl=!1,Uo=!1,On=0,Ye=0,Wn=0,xi=0,Lo=0,jt=0,pl=0,Sa=null,Rt=null,Ho=!1,Ps=0,Am=0,eu=1/0,tu=null,$n=null,tt=0,Pn=null,yl=null,Mn=0,Bo=0,Io=null,Nm=null,Ea=0,qo=null;function Yt(){return(Se&2)!==0&&he!==0?he&-he:T.T!==null?Qo():Gf()}function Rm(){if(jt===0)if((he&536870912)===0||ge){var e=os;os<<=1,(os&3932160)===0&&(os=262144),jt=e}else jt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),jt}function Dt(e,t,i){(e===Oe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(vl(e,0),ei(e,he,jt,!1)),Gl(e,i),((Se&2)===0||e!==Oe)&&(e===Oe&&((Se&2)===0&&(xi|=i),Ye===4&&ei(e,he,jt,!1)),hn(e))}function Dm(e,t,i){if((Se&6)!==0)throw Error(u(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Yl(e,t),r=a?Wv(e,t):Yo(e,t,!0),c=a;do{if(r===0){gl&&!a&&ei(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!Fv(i)){r=Yo(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var _=e;r=Sa;var v=_.current.memoizedState.isDehydrated;if(v&&(vl(_,h).flags|=256),h=Yo(_,h,!1),h!==2){if(Uo&&!v){_.errorRecoveryDisabledLanes|=c,xi|=c,r=4;break e}c=Rt,Rt=r,c!==null&&(Rt===null?Rt=c:Rt.push.apply(Rt,c))}r=h}if(c=!1,r!==2)continue}}if(r===1){vl(e,0),ei(e,t,0,!0);break}e:{switch(a=e,c=r,c){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:ei(a,t,jt,!Jn);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(r=Ps+300-wt(),10<r)){if(ei(a,t,jt,!Jn),fs(a,0,!0)!==0)break e;Mn=t,a.timeoutHandle=a_(Om.bind(null,a,i,Rt,tu,Ho,t,jt,xi,pl,Jn,c,"Throttled",-0,0),r);break e}Om(a,i,Rt,tu,Ho,t,jt,xi,pl,Jn,c,null,-0,0)}}break}while(!0);hn(e)}function Om(e,t,i,a,r,c,h,_,v,N,x,z,D,O){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},Em(t,c,z);var k=(c&62914560)===c?Ps-wt():(c&4194048)===c?Am-wt():0;if(k=z0(z,k),k!==null){Mn=c,e.cancelPendingCommit=k(Bm.bind(null,e,t,c,i,a,r,h,_,v,x,z,null,D,O)),ei(e,c,h,!N);return}}Bm(e,t,c,i,a,r,h,_,v)}function Fv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var r=i[a],c=r.getSnapshot;r=r.value;try{if(!Lt(c(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ei(e,t,i,a){t&=~Lo,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var c=31-Ut(r),h=1<<c;a[c]=-1,r&=~h}i!==0&&qf(e,i,t)}function nu(){return(Se&6)===0?(ba(0),!1):!0}function jo(){if(re!==null){if(Ce===0)var e=re.return;else e=re,vn=bi=null,to(e),ol=null,la=0,e=re;for(;e!==null;)sm(e.alternate,e),e=e.return;re=null}}function vl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,_0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Mn=0,jo(),Oe=e,re=i=pn(e.current,null),he=t,Ce=0,qt=null,Jn=!1,gl=Yl(e,t),Uo=!1,pl=jt=Lo=xi=Wn=Ye=0,Rt=Sa=null,Ho=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Ut(a),c=1<<r;t|=e[r],a&=~c}return On=t,Cs(),i}function Mm(e,t){ie=null,T.H=ha,t===rl||t===xs?(t=Xh(),Ce=3):t===kr?(t=Xh(),Ce=4):Ce=t===yo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,re===null&&(Ye=1,Qs(e,Kt(t,e.current)))}function xm(){var e=Bt.current;return e===null?!0:(he&4194048)===he?Wt===null:(he&62914560)===he||(he&536870912)!==0?e===Wt:!1}function wm(){var e=T.H;return T.H=ha,e===null?ha:e}function zm(){var e=T.A;return T.A=Kv,e}function iu(){Ye=4,Jn||(he&4194048)!==he&&Bt.current!==null||(gl=!0),(Wn&134217727)===0&&(xi&134217727)===0||Oe===null||ei(Oe,he,jt,!1)}function Yo(e,t,i){var a=Se;Se|=2;var r=wm(),c=zm();(Oe!==e||he!==t)&&(tu=null,vl(e,t)),t=!1;var h=Ye;e:do try{if(Ce!==0&&re!==null){var _=re,v=qt;switch(Ce){case 8:jo(),h=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var N=Ce;if(Ce=0,qt=null,Sl(e,_,v,N),i&&gl){h=0;break e}break;default:N=Ce,Ce=0,qt=null,Sl(e,_,v,N)}}Jv(),h=Ye;break}catch(x){Mm(e,x)}while(!0);return t&&e.shellSuspendCounter++,vn=bi=null,Se=a,T.H=r,T.A=c,re===null&&(Oe=null,he=0,Cs()),h}function Jv(){for(;re!==null;)Um(re)}function Wv(e,t){var i=Se;Se|=2;var a=wm(),r=zm();Oe!==e||he!==t?(tu=null,eu=wt()+500,vl(e,t)):gl=Yl(e,t);e:do try{if(Ce!==0&&re!==null){t=re;var c=qt;t:switch(Ce){case 1:Ce=0,qt=null,Sl(e,t,c,1);break;case 2:case 9:if(Vh(c)){Ce=0,qt=null,Lm(t);break}t=function(){Ce!==2&&Ce!==9||Oe!==e||(Ce=7),hn(e)},c.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Vh(c)?(Ce=0,qt=null,Lm(t)):(Ce=0,qt=null,Sl(e,t,c,7));break;case 5:var h=null;switch(re.tag){case 26:h=re.memoizedState;case 5:case 27:var _=re;if(h?S_(h):_.stateNode.complete){Ce=0,qt=null;var v=_.sibling;if(v!==null)re=v;else{var N=_.return;N!==null?(re=N,lu(N)):re=null}break t}}Ce=0,qt=null,Sl(e,t,c,5);break;case 6:Ce=0,qt=null,Sl(e,t,c,6);break;case 8:jo(),Ye=6;break e;default:throw Error(u(462))}}$v();break}catch(x){Mm(e,x)}while(!0);return vn=bi=null,T.H=a,T.A=r,Se=i,re!==null?0:(Oe=null,he=0,Cs(),Ye)}function $v(){for(;re!==null&&!Ey();)Um(re)}function Um(e){var t=lm(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?lu(e):re=t}function Lm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=$d(i,t,t.pendingProps,t.type,void 0,he);break;case 11:t=$d(i,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:to(t);default:sm(i,t),t=re=zh(t,On),t=lm(i,t,On)}e.memoizedProps=e.pendingProps,t===null?lu(e):re=t}function Sl(e,t,i,a){vn=bi=null,to(t),ol=null,la=0;var r=t.return;try{if(jv(e,r,t,i,he)){Ye=1,Qs(e,Kt(i,e.current)),re=null;return}}catch(c){if(r!==null)throw re=r,c;Ye=1,Qs(e,Kt(i,e.current)),re=null;return}t.flags&32768?(ge||a===1?e=!0:gl||(he&536870912)!==0?e=!1:(Jn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Bt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Hm(t,e)):lu(t)}function lu(e){var t=e;do{if((t.flags&32768)!==0){Hm(t,Jn);return}e=t.return;var i=kv(t.alternate,t,On);if(i!==null){re=i;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);Ye===0&&(Ye=5)}function Hm(e,t){do{var i=Vv(e.alternate,e);if(i!==null){i.flags&=32767,re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=i}while(e!==null);Ye=6,re=null}function Bm(e,t,i,a,r,c,h,_,v){e.cancelPendingCommit=null;do au();while(tt!==0);if((Se&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(c=t.lanes|t.childLanes,c|=Dr,xy(e,i,c,h,_,v),e===Oe&&(re=Oe=null,he=0),yl=t,Pn=e,Mn=i,Bo=c,Io=r,Nm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,n0(us,function(){return Gm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=T.T,T.T=null,r=I.p,I.p=2,h=Se,Se|=4;try{Qv(e,t,i)}finally{Se=h,I.p=r,T.T=a}}tt=1,Im(),qm(),jm()}}function Im(){if(tt===1){tt=0;var e=Pn,t=yl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=T.T,T.T=null;var a=I.p;I.p=2;var r=Se;Se|=4;try{ym(t,e);var c=Po,h=Th(e.containerInfo),_=c.focusedElem,v=c.selectionRange;if(h!==_&&_&&_.ownerDocument&&Ch(_.ownerDocument.documentElement,_)){if(v!==null&&Cr(_)){var N=v.start,x=v.end;if(x===void 0&&(x=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(x,_.value.length);else{var z=_.ownerDocument||document,D=z&&z.defaultView||window;if(D.getSelection){var O=D.getSelection(),k=_.textContent.length,$=Math.min(v.start,k),De=v.end===void 0?$:Math.min(v.end,k);!O.extend&&$>De&&(h=De,De=$,$=h);var b=bh(_,$),E=bh(_,De);if(b&&E&&(O.rangeCount!==1||O.anchorNode!==b.node||O.anchorOffset!==b.offset||O.focusNode!==E.node||O.focusOffset!==E.offset)){var A=z.createRange();A.setStart(b.node,b.offset),O.removeAllRanges(),$>De?(O.addRange(A),O.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),O.addRange(A))}}}}for(z=[],O=_;O=O.parentNode;)O.nodeType===1&&z.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var w=z[_];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}pu=!!$o,Po=$o=null}finally{Se=r,I.p=a,T.T=i}}e.current=t,tt=2}}function qm(){if(tt===2){tt=0;var e=Pn,t=yl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=T.T,T.T=null;var a=I.p;I.p=2;var r=Se;Se|=4;try{dm(e,t.alternate,t)}finally{Se=r,I.p=a,T.T=i}}tt=3}}function jm(){if(tt===4||tt===3){tt=0,by();var e=Pn,t=yl,i=Mn,a=Nm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,yl=Pn=null,Ym(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&($n=null),lr(i),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(jl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=T.T,r=I.p,I.p=2,T.T=null;try{for(var c=e.onRecoverableError,h=0;h<a.length;h++){var _=a[h];c(_.value,{componentStack:_.stack})}}finally{T.T=t,I.p=r}}(Mn&3)!==0&&au(),hn(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===qo?Ea++:(Ea=0,qo=e):Ea=0,ba(0)}}function Ym(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,na(t)))}function au(){return Im(),qm(),jm(),Gm()}function Gm(){if(tt!==5)return!1;var e=Pn,t=Bo;Bo=0;var i=lr(Mn),a=T.T,r=I.p;try{I.p=32>i?32:i,T.T=null,i=Io,Io=null;var c=Pn,h=Mn;if(tt=0,yl=Pn=null,Mn=0,(Se&6)!==0)throw Error(u(331));var _=Se;if(Se|=4,Cm(c.current),Sm(c,c.current,h,i),Se=_,ba(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(jl,c)}catch{}return!0}finally{I.p=r,T.T=a,Ym(e,t)}}function km(e,t,i){t=Kt(i,t),t=po(e.stateNode,t,2),e=Xn(e,t,2),e!==null&&(Gl(e,2),hn(e))}function Te(e,t,i){if(e.tag===3)km(e,e,i);else for(;t!==null;){if(t.tag===3){km(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($n===null||!$n.has(a))){e=Kt(i,e),i=Vd(2),a=Xn(t,i,2),a!==null&&(Qd(i,a,t,e),Gl(a,2),hn(a));break}}t=t.return}}function Go(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Zv;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(i)||(Uo=!0,r.add(i),e=Pv.bind(null,e,t,i),t.then(e,e))}function Pv(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Oe===e&&(he&i)===i&&(Ye===4||Ye===3&&(he&62914560)===he&&300>wt()-Ps?(Se&2)===0&&vl(e,0):Lo|=i,pl===he&&(pl=0)),hn(e)}function Vm(e,t){t===0&&(t=If()),e=vi(e,t),e!==null&&(Gl(e,t),hn(e))}function e0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Vm(e,i)}function t0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),Vm(e,i)}function n0(e,t){return er(e,t)}var su=null,El=null,ko=!1,uu=!1,Vo=!1,ti=0;function hn(e){e!==El&&e.next===null&&(El===null?su=El=e:El=El.next=e),uu=!0,ko||(ko=!0,l0())}function ba(e,t){if(!Vo&&uu){Vo=!0;do for(var i=!1,a=su;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var c=0;else{var h=a.suspendedLanes,_=a.pingedLanes;c=(1<<31-Ut(42|e)+1)-1,c&=r&~(h&~_),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,Zm(a,c))}else c=he,c=fs(a,a===Oe?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Yl(a,c)||(i=!0,Zm(a,c));a=a.next}while(i);Vo=!1}}function i0(){Qm()}function Qm(){uu=ko=!1;var e=0;ti!==0&&m0()&&(e=ti);for(var t=wt(),i=null,a=su;a!==null;){var r=a.next,c=Xm(a,t);c===0?(a.next=null,i===null?su=r:i.next=r,r===null&&(El=i)):(i=a,(e!==0||(c&3)!==0)&&(uu=!0)),a=r}tt!==0&&tt!==5||ba(e),ti!==0&&(ti=0)}function Xm(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-Ut(c),_=1<<h,v=r[h];v===-1?((_&i)===0||(_&a)!==0)&&(r[h]=My(_,t)):v<=t&&(e.expiredLanes|=_),c&=~_}if(t=Oe,i=he,i=fs(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&tr(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Yl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&tr(a),lr(i)){case 2:case 8:i=Hf;break;case 32:i=us;break;case 268435456:i=Bf;break;default:i=us}return a=Km.bind(null,e),i=er(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&tr(a),e.callbackPriority=2,e.callbackNode=null,2}function Km(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(au()&&e.callbackNode!==i)return null;var a=he;return a=fs(e,e===Oe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Dm(e,a,t),Xm(e,wt()),e.callbackNode!=null&&e.callbackNode===i?Km.bind(null,e):null)}function Zm(e,t){if(au())return null;Dm(e,t,!0)}function l0(){g0(function(){(Se&6)!==0?er(Lf,i0):Qm()})}function Qo(){if(ti===0){var e=sl;e===0&&(e=rs,rs<<=1,(rs&261888)===0&&(rs=256)),ti=e}return ti}function Fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_s(""+e)}function Jm(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function a0(e,t,i,a,r){if(t==="submit"&&i&&i.stateNode===r){var c=Fm((r[bt]||null).action),h=a.submitter;h&&(t=(t=h[bt]||null)?Fm(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var _=new vs("action","action",null,a,r);e.push({event:_,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ti!==0){var v=h?Jm(r,h):new FormData(r);co(i,{pending:!0,data:v,method:r.method,action:c},null,v)}}else typeof c=="function"&&(_.preventDefault(),v=h?Jm(r,h):new FormData(r),co(i,{pending:!0,data:v,method:r.method,action:c},c,v))},currentTarget:r}]})}}for(var Xo=0;Xo<Rr.length;Xo++){var Ko=Rr[Xo],s0=Ko.toLowerCase(),u0=Ko[0].toUpperCase()+Ko.slice(1);en(s0,"on"+u0)}en(Rh,"onAnimationEnd"),en(Dh,"onAnimationIteration"),en(Oh,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Cv,"onTransitionRun"),en(Tv,"onTransitionStart"),en(Av,"onTransitionCancel"),en(Mh,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function Wm(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],r=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var h=a.length-1;0<=h;h--){var _=a[h],v=_.instance,N=_.currentTarget;if(_=_.listener,v!==c&&r.isPropagationStopped())break e;c=_,r.currentTarget=N;try{c(r)}catch(x){bs(x)}r.currentTarget=null,c=v}else for(h=0;h<a.length;h++){if(_=a[h],v=_.instance,N=_.currentTarget,_=_.listener,v!==c&&r.isPropagationStopped())break e;c=_,r.currentTarget=N;try{c(r)}catch(x){bs(x)}r.currentTarget=null,c=v}}}}function oe(e,t){var i=t[ar];i===void 0&&(i=t[ar]=new Set);var a=e+"__bubble";i.has(a)||($m(t,e,2,!1),i.add(a))}function Zo(e,t,i){var a=0;t&&(a|=4),$m(i,e,a,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[ru]){e[ru]=!0,Qf.forEach(function(i){i!=="selectionchange"&&(r0.has(i)||Zo(i,!1,e),Zo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ru]||(t[ru]=!0,Zo("selectionchange",!1,t))}}function $m(e,t,i,a){switch(R_(t)){case 2:var r=H0;break;case 8:r=B0;break;default:r=cc}i=r.bind(null,t,i,e),r=void 0,!mr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Jo(e,t,i,a,r){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var _=a.stateNode.containerInfo;if(_===r)break;if(h===4)for(h=a.return;h!==null;){var v=h.tag;if((v===3||v===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;_!==null;){if(h=ki(_),h===null)return;if(v=h.tag,v===5||v===6||v===26||v===27){a=c=h;continue e}_=_.parentNode}}a=a.return}ih(function(){var N=c,x=hr(i),z=[];e:{var D=xh.get(e);if(D!==void 0){var O=vs,k=e;switch(e){case"keypress":if(ps(i)===0)break e;case"keydown":case"keyup":O=tv;break;case"focusin":k="focus",O=yr;break;case"focusout":k="blur",O=yr;break;case"beforeblur":case"afterblur":O=yr;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=ky;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=lv;break;case Rh:case Dh:case Oh:O=Xy;break;case Mh:O=sv;break;case"scroll":case"scrollend":O=Yy;break;case"wheel":O=rv;break;case"copy":case"cut":case"paste":O=Zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=rh;break;case"toggle":case"beforetoggle":O=cv}var $=(t&4)!==0,De=!$&&(e==="scroll"||e==="scrollend"),b=$?D!==null?D+"Capture":null:D;$=[];for(var E=N,A;E!==null;){var w=E;if(A=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||A===null||b===null||(w=Ql(E,b),w!=null&&$.push(Ta(E,w,A))),De)break;E=E.return}0<$.length&&(D=new O(D,k,null,i,x),z.push({event:D,listeners:$}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",D&&i!==fr&&(k=i.relatedTarget||i.fromElement)&&(ki(k)||k[Gi]))break e;if((O||D)&&(D=x.window===x?x:(D=x.ownerDocument)?D.defaultView||D.parentWindow:window,O?(k=i.relatedTarget||i.toElement,O=N,k=k?ki(k):null,k!==null&&(De=f(k),$=k.tag,k!==De||$!==5&&$!==27&&$!==6)&&(k=null)):(O=null,k=N),O!==k)){if($=sh,w="onMouseLeave",b="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&($=rh,w="onPointerLeave",b="onPointerEnter",E="pointer"),De=O==null?D:Vl(O),A=k==null?D:Vl(k),D=new $(w,E+"leave",O,i,x),D.target=De,D.relatedTarget=A,w=null,ki(x)===N&&($=new $(b,E+"enter",k,i,x),$.target=A,$.relatedTarget=De,w=$),De=w,O&&k)t:{for($=o0,b=O,E=k,A=0,w=b;w;w=$(w))A++;w=0;for(var K=E;K;K=$(K))w++;for(;0<A-w;)b=$(b),A--;for(;0<w-A;)E=$(E),w--;for(;A--;){if(b===E||E!==null&&b===E.alternate){$=b;break t}b=$(b),E=$(E)}$=null}else $=null;O!==null&&Pm(z,D,O,$,!1),k!==null&&De!==null&&Pm(z,De,k,$,!0)}}e:{if(D=N?Vl(N):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var ye=gh;else if(mh(D))if(ph)ye=Sv;else{ye=yv;var Q=pv}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?N&&cr(N.elementType)&&(ye=gh):ye=vv;if(ye&&(ye=ye(e,N))){_h(z,ye,i,x);break e}Q&&Q(e,D,N),e==="focusout"&&N&&D.type==="number"&&N.memoizedProps.value!=null&&or(D,"number",D.value)}switch(Q=N?Vl(N):window,e){case"focusin":(mh(Q)||Q.contentEditable==="true")&&($i=Q,Tr=N,Pl=null);break;case"focusout":Pl=Tr=$i=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,Ah(z,i,x);break;case"selectionchange":if(bv)break;case"keydown":case"keyup":Ah(z,i,x)}var le;if(Sr)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Wi?hh(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(oh&&i.locale!=="ko"&&(Wi||de!=="onCompositionStart"?de==="onCompositionEnd"&&Wi&&(le=lh()):(qn=x,_r="value"in qn?qn.value:qn.textContent,Wi=!0)),Q=ou(N,de),0<Q.length&&(de=new uh(de,e,null,i,x),z.push({event:de,listeners:Q}),le?de.data=le:(le=dh(i),le!==null&&(de.data=le)))),(le=hv?dv(e,i):mv(e,i))&&(de=ou(N,"onBeforeInput"),0<de.length&&(Q=new uh("onBeforeInput","beforeinput",null,i,x),z.push({event:Q,listeners:de}),Q.data=le)),a0(z,e,N,i,x)}Wm(z,t)})}function Ta(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ou(e,t){for(var i=t+"Capture",a=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Ql(e,i),r!=null&&a.unshift(Ta(e,r,c)),r=Ql(e,t),r!=null&&a.push(Ta(e,r,c))),e.tag===3)return a;e=e.return}return[]}function o0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pm(e,t,i,a,r){for(var c=t._reactName,h=[];i!==null&&i!==a;){var _=i,v=_.alternate,N=_.stateNode;if(_=_.tag,v!==null&&v===a)break;_!==5&&_!==26&&_!==27||N===null||(v=N,r?(N=Ql(i,c),N!=null&&h.unshift(Ta(i,N,v))):r||(N=Ql(i,c),N!=null&&h.push(Ta(i,N,v)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var c0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(f0,"")}function t_(e,t){return t=e_(t),e_(e)===t}function Re(e,t,i,a,r,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Zi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Zi(e,""+a);break;case"className":ds(e,"class",a);break;case"tabIndex":ds(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(e,i,a);break;case"style":th(e,a,c);break;case"data":if(t!=="object"){ds(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=_s(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Re(e,t,"name",r.name,r,null),Re(e,t,"formEncType",r.formEncType,r,null),Re(e,t,"formMethod",r.formMethod,r,null),Re(e,t,"formTarget",r.formTarget,r,null)):(Re(e,t,"encType",r.encType,r,null),Re(e,t,"method",r.method,r,null),Re(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=_s(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=_n);break;case"onScroll":a!=null&&oe("scroll",e);break;case"onScrollEnd":a!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(i=a.__html,i!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=_s(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":oe("beforetoggle",e),oe("toggle",e),hs(e,"popover",a);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":hs(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=qy.get(i)||i,hs(e,i,a))}}function Wo(e,t,i,a,r,c){switch(i){case"style":th(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(i=a.__html,i!=null){if(r.children!=null)throw Error(u(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Zi(e,a):(typeof a=="number"||typeof a=="bigint")&&Zi(e,""+a);break;case"onScroll":a!=null&&oe("scroll",e);break;case"onScrollEnd":a!=null&&oe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),c=e[bt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,r);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):hs(e,i,a)}}}function mt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var a=!1,r=!1,c;for(c in i)if(i.hasOwnProperty(c)){var h=i[c];if(h!=null)switch(c){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Re(e,t,c,h,i,null)}}r&&Re(e,t,"srcSet",i.srcSet,i,null),a&&Re(e,t,"src",i.src,i,null);return;case"input":oe("invalid",e);var _=c=h=r=null,v=null,N=null;for(a in i)if(i.hasOwnProperty(a)){var x=i[a];if(x!=null)switch(a){case"name":r=x;break;case"type":h=x;break;case"checked":v=x;break;case"defaultChecked":N=x;break;case"value":c=x;break;case"defaultValue":_=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(u(137,t));break;default:Re(e,t,a,x,i,null)}}Wf(e,c,_,v,N,h,r,!1);return;case"select":oe("invalid",e),a=h=c=null;for(r in i)if(i.hasOwnProperty(r)&&(_=i[r],_!=null))switch(r){case"value":c=_;break;case"defaultValue":h=_;break;case"multiple":a=_;default:Re(e,t,r,_,i,null)}t=c,i=h,e.multiple=!!a,t!=null?Ki(e,!!a,t,!1):i!=null&&Ki(e,!!a,i,!0);return;case"textarea":oe("invalid",e),c=r=a=null;for(h in i)if(i.hasOwnProperty(h)&&(_=i[h],_!=null))switch(h){case"value":a=_;break;case"defaultValue":r=_;break;case"children":c=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(u(91));break;default:Re(e,t,h,_,i,null)}Pf(e,a,r,c);return;case"option":for(v in i)if(i.hasOwnProperty(v)&&(a=i[v],a!=null))switch(v){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Re(e,t,v,a,i,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(a=0;a<Ca.length;a++)oe(Ca[a],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Re(e,t,N,a,i,null)}return;default:if(cr(t)){for(x in i)i.hasOwnProperty(x)&&(a=i[x],a!==void 0&&Wo(e,t,x,a,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(a=i[_],a!=null&&Re(e,t,_,a,i,null))}function h0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,h=null,_=null,v=null,N=null,x=null;for(O in i){var z=i[O];if(i.hasOwnProperty(O)&&z!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":v=z;default:a.hasOwnProperty(O)||Re(e,t,O,null,a,z)}}for(var D in a){var O=a[D];if(z=i[D],a.hasOwnProperty(D)&&(O!=null||z!=null))switch(D){case"type":c=O;break;case"name":r=O;break;case"checked":N=O;break;case"defaultChecked":x=O;break;case"value":h=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(u(137,t));break;default:O!==z&&Re(e,t,D,O,a,z)}}rr(e,h,_,v,N,x,c,r);return;case"select":O=h=_=D=null;for(c in i)if(v=i[c],i.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":O=v;default:a.hasOwnProperty(c)||Re(e,t,c,null,a,v)}for(r in a)if(c=a[r],v=i[r],a.hasOwnProperty(r)&&(c!=null||v!=null))switch(r){case"value":D=c;break;case"defaultValue":_=c;break;case"multiple":h=c;default:c!==v&&Re(e,t,r,c,a,v)}t=_,i=h,a=O,D!=null?Ki(e,!!i,D,!1):!!a!=!!i&&(t!=null?Ki(e,!!i,t,!0):Ki(e,!!i,i?[]:"",!1));return;case"textarea":O=D=null;for(_ in i)if(r=i[_],i.hasOwnProperty(_)&&r!=null&&!a.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Re(e,t,_,null,a,r)}for(h in a)if(r=a[h],c=i[h],a.hasOwnProperty(h)&&(r!=null||c!=null))switch(h){case"value":D=r;break;case"defaultValue":O=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(u(91));break;default:r!==c&&Re(e,t,h,r,a,c)}$f(e,D,O);return;case"option":for(var k in i)if(D=i[k],i.hasOwnProperty(k)&&D!=null&&!a.hasOwnProperty(k))switch(k){case"selected":e.selected=!1;break;default:Re(e,t,k,null,a,D)}for(v in a)if(D=a[v],O=i[v],a.hasOwnProperty(v)&&D!==O&&(D!=null||O!=null))switch(v){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Re(e,t,v,D,a,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in i)D=i[$],i.hasOwnProperty($)&&D!=null&&!a.hasOwnProperty($)&&Re(e,t,$,null,a,D);for(N in a)if(D=a[N],O=i[N],a.hasOwnProperty(N)&&D!==O&&(D!=null||O!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(u(137,t));break;default:Re(e,t,N,D,a,O)}return;default:if(cr(t)){for(var De in i)D=i[De],i.hasOwnProperty(De)&&D!==void 0&&!a.hasOwnProperty(De)&&Wo(e,t,De,void 0,a,D);for(x in a)D=a[x],O=i[x],!a.hasOwnProperty(x)||D===O||D===void 0&&O===void 0||Wo(e,t,x,D,a,O);return}}for(var b in i)D=i[b],i.hasOwnProperty(b)&&D!=null&&!a.hasOwnProperty(b)&&Re(e,t,b,null,a,D);for(z in a)D=a[z],O=i[z],!a.hasOwnProperty(z)||D===O||D==null&&O==null||Re(e,t,z,D,a,O)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var r=i[a],c=r.transferSize,h=r.initiatorType,_=r.duration;if(c&&_&&n_(h)){for(h=0,_=r.responseEnd,a+=1;a<i.length;a++){var v=i[a],N=v.startTime;if(N>_)break;var x=v.transferSize,z=v.initiatorType;x&&n_(z)&&(v=v.responseEnd,h+=x*(v<_?1:(_-N)/(v-N)))}if(--a,t+=8*(c+h)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $o=null,Po=null;function cu(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tc=null;function m0(){var e=window.event;return e&&e.type==="popstate"?e===tc?!1:(tc=e,!0):(tc=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(p0)}:a_;function p0(e){setTimeout(function(){throw e})}function ni(e){return e==="head"}function u_(e,t){var i=t,a=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(r),Al(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")Aa(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Aa(i);for(var c=i.firstChild;c;){var h=c.nextSibling,_=c.nodeName;c[kl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=h}}else i==="body"&&Aa(e.ownerDocument.body);i=r}while(i);Al(t)}function r_(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function nc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":nc(i),sr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function y0(e,t,i,a){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[kl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function v0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$t(e.nextSibling),e===null))return null;return e}function o_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$t(e.nextSibling),e===null))return null;return e}function ic(e){return e.data==="$?"||e.data==="$~"}function lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function S0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ac=null;function c_(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return $t(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function h_(e,t,i){switch(t=cu(i),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Aa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sr(e)}var Pt=new Map,d_=new Set;function fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xn=I.d;I.d={f:E0,r:b0,D:C0,C:T0,L:A0,m:N0,X:D0,S:R0,M:O0};function E0(){var e=xn.f(),t=nu();return e||t}function b0(e){var t=Vi(e);t!==null&&t.tag===5&&t.type==="form"?Md(t):xn.r(e)}var bl=typeof document>"u"?null:document;function m_(e,t,i){var a=bl;if(a&&typeof t=="string"&&t){var r=Qt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),d_.has(r)||(d_.add(r),e={rel:e,crossOrigin:i,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),mt(t,"link",e),it(t),a.head.appendChild(t)))}}function C0(e){xn.D(e),m_("dns-prefetch",e,null)}function T0(e,t){xn.C(e,t),m_("preconnect",e,t)}function A0(e,t,i){xn.L(e,t,i);var a=bl;if(a&&e&&t){var r='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+Qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+Qt(i.imageSizes)+'"]')):r+='[href="'+Qt(e)+'"]';var c=r;switch(t){case"style":c=Cl(e);break;case"script":c=Tl(e)}Pt.has(c)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Pt.set(c,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(Na(c))||t==="script"&&a.querySelector(Ra(c))||(t=a.createElement("link"),mt(t,"link",e),it(t),a.head.appendChild(t)))}}function N0(e,t){xn.m(e,t);var i=bl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Qt(a)+'"][href="'+Qt(e)+'"]',c=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Tl(e)}if(!Pt.has(c)&&(e=S({rel:"modulepreload",href:e},t),Pt.set(c,e),i.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ra(c)))return}a=i.createElement("link"),mt(a,"link",e),it(a),i.head.appendChild(a)}}}function R0(e,t,i){xn.S(e,t,i);var a=bl;if(a&&e){var r=Qi(a).hoistableStyles,c=Cl(e);t=t||"default";var h=r.get(c);if(!h){var _={loading:0,preload:null};if(h=a.querySelector(Na(c)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Pt.get(c))&&sc(e,i);var v=h=a.createElement("link");it(v),mt(v,"link",e),v._p=new Promise(function(N,x){v.onload=N,v.onerror=x}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,hu(h,t,a)}h={type:"stylesheet",instance:h,count:1,state:_},r.set(c,h)}}}function D0(e,t){xn.X(e,t);var i=bl;if(i&&e){var a=Qi(i).hoistableScripts,r=Tl(e),c=a.get(r);c||(c=i.querySelector(Ra(r)),c||(e=S({src:e,async:!0},t),(t=Pt.get(r))&&uc(e,t),c=i.createElement("script"),it(c),mt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function O0(e,t){xn.M(e,t);var i=bl;if(i&&e){var a=Qi(i).hoistableScripts,r=Tl(e),c=a.get(r);c||(c=i.querySelector(Ra(r)),c||(e=S({src:e,async:!0,type:"module"},t),(t=Pt.get(r))&&uc(e,t),c=i.createElement("script"),it(c),mt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function __(e,t,i,a){var r=(r=J.current)?fu(r):null;if(!r)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Cl(i.href),i=Qi(r).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Cl(i.href);var c=Qi(r).hoistableStyles,h=c.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=r.querySelector(Na(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Pt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pt.set(e,i),c||M0(r,e,i,h.state))),t&&a===null)throw Error(u(528,""));return h}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Tl(i),i=Qi(r).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Cl(e){return'href="'+Qt(e)+'"'}function Na(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function M0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),mt(t,"link",i),it(t),e.head.appendChild(t))}function Tl(e){return'[src="'+Qt(e)+'"]'}function Ra(e){return"script[async]"+e}function p_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Qt(i.href)+'"]');if(a)return t.instance=a,it(a),a;var r=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),it(a),mt(a,"style",r),hu(a,i.precedence,e),t.instance=a;case"stylesheet":r=Cl(i.href);var c=e.querySelector(Na(r));if(c)return t.state.loading|=4,t.instance=c,it(c),c;a=g_(i),(r=Pt.get(r))&&sc(a,r),c=(e.ownerDocument||e).createElement("link"),it(c);var h=c;return h._p=new Promise(function(_,v){h.onload=_,h.onerror=v}),mt(c,"link",a),t.state.loading|=4,hu(c,i.precedence,e),t.instance=c;case"script":return c=Tl(i.src),(r=e.querySelector(Ra(c)))?(t.instance=r,it(r),r):(a=i,(r=Pt.get(c))&&(a=S({},i),uc(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),it(r),mt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,hu(a,i.precedence,e));return t.instance}function hu(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,c=r,h=0;h<a.length;h++){var _=a[h];if(_.dataset.precedence===t)c=_;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var du=null;function y_(e,t,i){if(du===null){var a=new Map,r=du=new Map;r.set(i,a)}else r=du,a=r.get(i),a||(a=new Map,r.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var c=i[r];if(!(c[kl]||c[ct]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var _=a.get(h);_?_.push(c):a.set(h,[c])}}return a}function v_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function x0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function w0(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=Cl(a.href),c=t.querySelector(Na(r));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=mu.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,it(c);return}c=t.ownerDocument||t,a=g_(a),(r=Pt.get(r))&&sc(a,r),c=c.createElement("link"),it(c);var h=c;h._p=new Promise(function(_,v){h.onload=_,h.onerror=v}),mt(c,"link",a),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=mu.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var rc=0;function z0(e,t){return e.stylesheets&&e.count===0&&gu(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&gu(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&rc===0&&(rc=62500*d0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gu(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>rc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _u=null;function gu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_u=new Map,t.forEach(U0,e),_u=null,mu.call(e))}function U0(e,t){if(!(t.state.loading&4)){var i=_u.get(e);if(i)var a=i.get(null);else{i=new Map,_u.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var h=r[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(i.set(h.dataset.precedence,h),a=h)}a&&i.set(null,a)}r=t.instance,h=r.getAttribute("data-precedence"),c=i.get(h)||a,c===a&&i.set(null,r),i.set(h,r),this.count++,a=mu.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Da={$$typeof:be,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function L0(e,t,i,a,r,c,h,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function E_(e,t,i,a,r,c,h,_,v,N,x,z){return e=new L0(e,t,i,h,v,N,x,z,_),t=1,c===!0&&(t|=24),c=Ht(3,null,null,t),e.current=c,c.stateNode=e,t=jr(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},Vr(c),e}function b_(e){return e?(e=tl,e):tl}function C_(e,t,i,a,r,c){r=b_(r),a.context===null?a.context=r:a.pendingContext=r,a=Qn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Xn(e,a,t),i!==null&&(Dt(i,e,t),sa(i,e,t))}function T_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function oc(e,t){T_(e,t),(e=e.alternate)&&T_(e,t)}function A_(e){if(e.tag===13||e.tag===31){var t=vi(e,67108864);t!==null&&Dt(t,e,67108864),oc(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var t=Yt();t=ir(t);var i=vi(e,t);i!==null&&Dt(i,e,t),oc(e,t)}}var pu=!0;function H0(e,t,i,a){var r=T.T;T.T=null;var c=I.p;try{I.p=2,cc(e,t,i,a)}finally{I.p=c,T.T=r}}function B0(e,t,i,a){var r=T.T;T.T=null;var c=I.p;try{I.p=8,cc(e,t,i,a)}finally{I.p=c,T.T=r}}function cc(e,t,i,a){if(pu){var r=fc(a);if(r===null)Jo(e,t,a,yu,i),D_(e,a);else if(q0(r,e,t,i,a))a.stopPropagation();else if(D_(e,a),t&4&&-1<I0.indexOf(e)){for(;r!==null;){var c=Vi(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=mi(c.pendingLanes);if(h!==0){var _=c;for(_.pendingLanes|=2,_.entangledLanes|=2;h;){var v=1<<31-Ut(h);_.entanglements[1]|=v,h&=~v}hn(c),(Se&6)===0&&(eu=wt()+500,ba(0))}}break;case 31:case 13:_=vi(c,2),_!==null&&Dt(_,c,2),nu(),oc(c,2)}if(c=fc(a),c===null&&Jo(e,t,a,yu,i),c===r)break;r=c}r!==null&&a.stopPropagation()}else Jo(e,t,a,null,i)}}function fc(e){return e=hr(e),hc(e)}var yu=null;function hc(e){if(yu=null,e=ki(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yu=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cy()){case Lf:return 2;case Hf:return 8;case us:case Ty:return 32;case Bf:return 268435456;default:return 32}default:return 32}}var dc=!1,ii=null,li=null,ai=null,Oa=new Map,Ma=new Map,si=[],I0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,t){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":Oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(t.pointerId)}}function xa(e,t,i,a,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Vi(t),t!==null&&A_(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function q0(e,t,i,a,r){switch(t){case"focusin":return ii=xa(ii,e,t,i,a,r),!0;case"dragenter":return li=xa(li,e,t,i,a,r),!0;case"mouseover":return ai=xa(ai,e,t,i,a,r),!0;case"pointerover":var c=r.pointerId;return Oa.set(c,xa(Oa.get(c)||null,e,t,i,a,r)),!0;case"gotpointercapture":return c=r.pointerId,Ma.set(c,xa(Ma.get(c)||null,e,t,i,a,r)),!0}return!1}function O_(e){var t=ki(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,kf(e.priority,function(){N_(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,kf(e.priority,function(){N_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=fc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);fr=a,i.target.dispatchEvent(a),fr=null}else return t=Vi(i),t!==null&&A_(t),e.blockedOn=i,!1;t.shift()}return!0}function M_(e,t,i){vu(e)&&i.delete(t)}function j0(){dc=!1,ii!==null&&vu(ii)&&(ii=null),li!==null&&vu(li)&&(li=null),ai!==null&&vu(ai)&&(ai=null),Oa.forEach(M_),Ma.forEach(M_)}function Su(e,t){e.blockedOn===t&&(e.blockedOn=null,dc||(dc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,j0)))}var Eu=null;function x_(e){Eu!==e&&(Eu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eu===e&&(Eu=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(hc(a||i)===null)continue;break}var c=Vi(i);c!==null&&(e.splice(t,3),t-=3,co(c,{pending:!0,data:r,method:i.method,action:a},a,r))}}))}function Al(e){function t(v){return Su(v,e)}ii!==null&&Su(ii,e),li!==null&&Su(li,e),ai!==null&&Su(ai,e),Oa.forEach(t),Ma.forEach(t);for(var i=0;i<si.length;i++){var a=si[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<si.length&&(i=si[0],i.blockedOn===null);)O_(i),i.blockedOn===null&&si.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var r=i[a],c=i[a+1],h=r[bt]||null;if(typeof c=="function")h||x_(i);else if(h){var _=null;if(c&&c.hasAttribute("formAction")){if(r=c,h=c[bt]||null)_=h.formAction;else if(hc(r)!==null)continue}else _=h.action;typeof _=="function"?i[a+1]=_:(i.splice(a,3),a-=3),x_(i)}}}function w_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return r=h})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function mc(e){this._internalRoot=e}bu.prototype.render=mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var i=t.current,a=Yt();C_(i,a,e,t,null,null)},bu.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;C_(e.current,2,null,e,null,null),nu(),t[Gi]=null}};function bu(e){this._internalRoot=e}bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<si.length&&t!==0&&t<si[i].priority;i++);si.splice(i,0,e),i===0&&O_(e)}};var z_=n.version;if(z_!=="19.2.1")throw Error(u(527,z_,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=g(t),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var Y0={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{jl=Cu.inject(Y0),zt=Cu}catch{}}return za.createRoot=function(e,t){if(!o(e))throw Error(u(299));var i=!1,a="",r=jd,c=Yd,h=Gd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=E_(e,1,!1,null,null,i,a,null,r,c,h,w_),e[Gi]=t.current,Fo(e),new mc(t)},za.hydrateRoot=function(e,t,i){if(!o(e))throw Error(u(299));var a=!1,r="",c=jd,h=Yd,_=Gd,v=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(v=i.formState)),t=E_(e,1,!0,t,i??null,a,r,v,c,h,_,w_),t.context=b_(null),i=t.current,a=Yt(),a=ir(a),r=Qn(a),r.callback=null,Xn(i,r,a),i=a,t.current.lanes=i,Gl(t,i),hn(t),e[Gi]=t.current,Fo(e),new bu(t)},za.version="19.2.1",za}var k_;function $0(){if(k_)return pc.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),pc.exports=W0(),pc.exports}var P0=$0();const eS=Gg(P0);var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(s,n){if(!s)throw Bl(n)},Bl=function(s){return new Error("Firebase Database ("+kg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=function(s){const n=[];let l=0;for(let u=0;u<s.length;u++){let o=s.charCodeAt(u);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&u+1<s.length&&(s.charCodeAt(u+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++u)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},tS=function(s){const n=[];let l=0,u=0;for(;l<s.length;){const o=s[l++];if(o<128)n[u++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[l++];n[u++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[l++],d=s[l++],m=s[l++],p=((o&7)<<18|(f&63)<<12|(d&63)<<6|m&63)-65536;n[u++]=String.fromCharCode(55296+(p>>10)),n[u++]=String.fromCharCode(56320+(p&1023))}else{const f=s[l++],d=s[l++];n[u++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return n.join("")},nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let o=0;o<s.length;o+=3){const f=s[o],d=o+1<s.length,m=d?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,C=f>>2,S=(f&3)<<4|m>>4;let R=(m&15)<<2|g>>6,B=g&63;p||(B=64,d||(R=64)),u.push(l[C],l[S],l[R],l[B])}return u.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(Vg(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):tS(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let o=0;o<s.length;){const f=l[s.charAt(o++)],m=o<s.length?l[s.charAt(o)]:0;++o;const g=o<s.length?l[s.charAt(o)]:64;++o;const S=o<s.length?l[s.charAt(o)]:64;if(++o,f==null||m==null||g==null||S==null)throw new nS;const R=f<<2|m>>4;if(u.push(R),g!==64){const B=m<<4&240|g>>2;if(u.push(B),S!==64){const q=g<<6&192|S;u.push(q)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qg=function(s){const n=Vg(s);return nf.encodeByteArray(n,!0)},Ru=function(s){return Qg(s).replace(/\./g,"")},zc=function(s){try{return nf.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(s){return Xg(void 0,s)}function Xg(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!lS(l)||(s[l]=Xg(s[l],n[l]));return s}function lS(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=()=>aS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof V_>"u")return;const s=V_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&zc(s[1]);return n&&JSON.parse(n)},Kg=()=>{try{return sS()||uS()||rS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},oS=s=>{var n,l;return(l=(n=Kg())===null||n===void 0?void 0:n.emulatorHosts)===null||l===void 0?void 0:l[s]},cS=s=>{const n=oS(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const u=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),u]:[n.substring(0,l),u]},Zg=()=>{var s;return(s=Kg())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,u)=>{l?this.reject(l):this.resolve(u),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,u))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},u=n||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${u}`,aud:u,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ru(JSON.stringify(l)),Ru(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hS())}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){return kg.NODE_ADMIN===!0}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((s,n)=>{try{let l=!0;const u="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(u);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(u),s(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{var f;n(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class es extends Error{constructor(n,l,u){super(l),this.code=n,this.customData=u,this.name=pS,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jg.prototype.create)}}class Jg{constructor(n,l,u){this.service=n,this.serviceName=l,this.errors=u}create(n,...l){const u=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],d=f?yS(f,u):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new es(o,m,u)}}function yS(s,n){return s.replace(vS,(l,u)=>{const o=n[u];return o!=null?String(o):`<${u}?>`})}const vS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(s){return JSON.parse(s)}function ut(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=function(s){let n={},l={},u={},o="";try{const f=s.split(".");n=Qa(zc(f[0])||""),l=Qa(zc(f[1])||""),o=f[2],u=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:u,signature:o}},SS=function(s){const n=Wg(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},ES=function(s){const n=Wg(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function zl(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Q_(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Du(s,n,l){const u={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(u[o]=n.call(l,s[o],o,s));return u}function Uc(s,n){if(s===n)return!0;const l=Object.keys(s),u=Object.keys(n);for(const o of l){if(!u.includes(o))return!1;const f=s[o],d=n[o];if(X_(f)&&X_(d)){if(!Uc(f,d))return!1}else if(f!==d)return!1}for(const o of u)if(!l.includes(o))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(s){const n=[];for(const[l,u]of Object.entries(s))Array.isArray(u)?u.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(u));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const u=this.W_;if(typeof n=="string")for(let S=0;S<16;S++)u[S]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let S=0;S<16;S++)u[S]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let S=16;S<80;S++){const R=u[S-3]^u[S-8]^u[S-14]^u[S-16];u[S]=(R<<1|R>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,C;for(let S=0;S<80;S++){S<40?S<20?(g=m^f&(d^m),C=1518500249):(g=f^d^m,C=1859775393):S<60?(g=f&d|m&(f|d),C=2400959708):(g=f^d^m,C=3395469782);const R=(o<<5|o>>>27)+g+p+C+u[S]&4294967295;p=m,m=d,d=(f<<30|f>>>2)&4294967295,f=o,o=R}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const u=l-this.blockSize;let o=0;const f=this.buf_;let d=this.inbuf_;for(;o<l;){if(d===0)for(;o<=u;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[d]=n.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}else for(;o<l;)if(f[d]=n[o],++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let u=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[u]=this.chain_[o]>>f&255,++u;return n}}function $g(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=function(s){const n=[];let l=0;for(let u=0;u<s.length;u++){let o=s.charCodeAt(u);if(o>=55296&&o<=56319){const f=o-55296;u++,H(u<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(u)-56320;o=65536+(f<<10)+d}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Vu=function(s){let n=0;for(let l=0;l<s.length;l++){const u=s.charCodeAt(l);u<128?n++:u<2048?n+=2:u>=55296&&u<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(s){return s&&s._delegate?s._delegate:s}class Xa{constructor(n,l,u){this.name=n,this.instanceFactory=l,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const u=new lf;if(this.instancesDeferred.set(l,u),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&u.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){var l;const u=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),o=(l=n==null?void 0:n.optional)!==null&&l!==void 0?l:!1;if(this.isInitialized(u)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:u})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(RS(n))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[l,u]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});u.resolve(f)}catch{}}}}clearInstance(n=wi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=wi){return this.instances.has(n)}getOptions(n=wi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,u=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:u,options:l});for(const[f,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);u===m&&d.resolve(o)}return o}onInit(n,l){var u;const o=this.normalizeInstanceIdentifier(l),f=(u=this.onInitCallbacks.get(o))!==null&&u!==void 0?u:new Set;f.add(n),this.onInitCallbacks.set(o,f);const d=this.instances.get(o);return d&&n(d,o),()=>{f.delete(n)}}invokeOnInitCallbacks(n,l){const u=this.onInitCallbacks.get(l);if(u)for(const o of u)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:NS(n),options:l}),this.instances.set(n,u),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null}normalizeInstanceIdentifier(n=wi){return this.component?this.component.multipleInstances?n:wi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(s){return s===wi?void 0:s}function RS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new AS(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xe||(xe={}));const OS={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},MS=xe.INFO,xS={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},wS=(s,n,...l)=>{if(n<s.logLevel)return;const u=new Date().toISOString(),o=xS[n];if(o)console[o](`[${u}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Pg{constructor(n){this.name=n,this._logLevel=MS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in xe))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?OS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...n),this._logHandler(this,xe.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...n),this._logHandler(this,xe.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...n),this._logHandler(this,xe.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...n),this._logHandler(this,xe.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...n),this._logHandler(this,xe.ERROR,...n)}}const zS=(s,n)=>n.some(l=>s instanceof l);let K_,Z_;function US(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ep=new WeakMap,Lc=new WeakMap,tp=new WeakMap,Ec=new WeakMap,af=new WeakMap;function HS(s){const n=new Promise((l,u)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{l(ri(s.result)),o()},d=()=>{u(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",d)});return n.then(l=>{l instanceof IDBCursor&&ep.set(l,s)}).catch(()=>{}),af.set(n,s),n}function BS(s){if(Lc.has(s))return;const n=new Promise((l,u)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{l(),o()},d=()=>{u(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});Lc.set(s,n)}let Hc={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Lc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||tp.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ri(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function IS(s){Hc=s(Hc)}function qS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const u=s.call(bc(this),n,...l);return tp.set(u,n.sort?n.sort():[n]),ri(u)}:LS().includes(s)?function(...n){return s.apply(bc(this),n),ri(ep.get(this))}:function(...n){return ri(s.apply(bc(this),n))}}function jS(s){return typeof s=="function"?qS(s):(s instanceof IDBTransaction&&BS(s),zS(s,US())?new Proxy(s,Hc):s)}function ri(s){if(s instanceof IDBRequest)return HS(s);if(Ec.has(s))return Ec.get(s);const n=jS(s);return n!==s&&(Ec.set(s,n),af.set(n,s)),n}const bc=s=>af.get(s);function YS(s,n,{blocked:l,upgrade:u,blocking:o,terminated:f}={}){const d=indexedDB.open(s,n),m=ri(d);return u&&d.addEventListener("upgradeneeded",p=>{u(ri(d.result),p.oldVersion,p.newVersion,ri(d.transaction),p)}),l&&d.addEventListener("blocked",p=>l(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const GS=["get","getKey","getAll","getAllKeys","count"],kS=["put","add","delete","clear"],Cc=new Map;function F_(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Cc.get(n))return Cc.get(n);const l=n.replace(/FromIndex$/,""),u=n!==l,o=kS.includes(l);if(!(l in(u?IDBIndex:IDBObjectStore).prototype)||!(o||GS.includes(l)))return;const f=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return u&&(g=g.index(m.shift())),(await Promise.all([g[l](...m),o&&p.done]))[0]};return Cc.set(n,f),f}IS(s=>({...s,get:(n,l,u)=>F_(n,l)||s.get(n,l,u),has:(n,l)=>!!F_(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(QS(l)){const u=l.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(l=>l).join(" ")}}function QS(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Bc="@firebase/app",J_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Pg("@firebase/app"),XS="@firebase/app-compat",KS="@firebase/analytics-compat",ZS="@firebase/analytics",FS="@firebase/app-check-compat",JS="@firebase/app-check",WS="@firebase/auth",$S="@firebase/auth-compat",PS="@firebase/database",eE="@firebase/database-compat",tE="@firebase/functions",nE="@firebase/functions-compat",iE="@firebase/installations",lE="@firebase/installations-compat",aE="@firebase/messaging",sE="@firebase/messaging-compat",uE="@firebase/performance",rE="@firebase/performance-compat",oE="@firebase/remote-config",cE="@firebase/remote-config-compat",fE="@firebase/storage",hE="@firebase/storage-compat",dE="@firebase/firestore",mE="@firebase/vertexai-preview",_E="@firebase/firestore-compat",gE="firebase",pE="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="[DEFAULT]",yE={[Bc]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[KS]:"fire-analytics-compat",[JS]:"fire-app-check",[FS]:"fire-app-check-compat",[WS]:"fire-auth",[$S]:"fire-auth-compat",[PS]:"fire-rtdb",[eE]:"fire-rtdb-compat",[tE]:"fire-fn",[nE]:"fire-fn-compat",[iE]:"fire-iid",[lE]:"fire-iid-compat",[aE]:"fire-fcm",[sE]:"fire-fcm-compat",[uE]:"fire-perf",[rE]:"fire-perf-compat",[oE]:"fire-rc",[cE]:"fire-rc-compat",[fE]:"fire-gcs",[hE]:"fire-gcs-compat",[dE]:"fire-fst",[_E]:"fire-fst-compat",[mE]:"fire-vertex","fire-js":"fire-js",[gE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,vE=new Map,qc=new Map;function W_(s,n){try{s.container.addComponent(n)}catch(l){Li.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Mu(s){const n=s.name;if(qc.has(n))return Li.debug(`There were multiple attempts to register component ${n}.`),!1;qc.set(n,s);for(const l of Ou.values())W_(l,s);for(const l of vE.values())W_(l,s);return!0}function SE(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Jg("app","Firebase",EE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(n,l,u){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},l),this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=u,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=pE;function np(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const u=Object.assign({name:Ic,automaticDataCollectionEnabled:!1},n),o=u.name;if(typeof o!="string"||!o)throw oi.create("bad-app-name",{appName:String(o)});if(l||(l=Zg()),!l)throw oi.create("no-options");const f=Ou.get(o);if(f){if(Uc(l,f.options)&&Uc(u,f.config))return f;throw oi.create("duplicate-app",{appName:o})}const d=new DS(o);for(const p of qc.values())d.addComponent(p);const m=new bE(l,u,d);return Ou.set(o,m),m}function TE(s=Ic){const n=Ou.get(s);if(!n&&s===Ic&&Zg())return np();if(!n)throw oi.create("no-app",{appName:s});return n}function Ol(s,n,l){var u;let o=(u=yE[s])!==null&&u!==void 0?u:s;l&&(o+=`-${l}`);const f=o.match(/\s|\//),d=n.match(/\s|\//);if(f||d){const m=[`Unable to register library "${o}" with version "${n}":`];f&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&d&&m.push("and"),d&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Li.warn(m.join(" "));return}Mu(new Xa(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebase-heartbeat-database",NE=1,Ka="firebase-heartbeat-store";let Tc=null;function ip(){return Tc||(Tc=YS(AE,NE,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Ka)}catch(l){console.warn(l)}}}}).catch(s=>{throw oi.create("idb-open",{originalErrorMessage:s.message})})),Tc}async function RE(s){try{const l=(await ip()).transaction(Ka),u=await l.objectStore(Ka).get(lp(s));return await l.done,u}catch(n){if(n instanceof es)Li.warn(n.message);else{const l=oi.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Li.warn(l.message)}}}async function $_(s,n){try{const u=(await ip()).transaction(Ka,"readwrite");await u.objectStore(Ka).put(n,lp(s)),await u.done}catch(l){if(l instanceof es)Li.warn(l.message);else{const u=oi.create("idb-set",{originalErrorMessage:l==null?void 0:l.message});Li.warn(u.message)}}}function lp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=1024,OE=720*60*60*1e3;class ME{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new wE(l),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){var n,l;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=P_();if(!(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((l=this._heartbeatsCache)===null||l===void 0?void 0:l.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)))return this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=OE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var n;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=P_(),{heartbeatsToSend:u,unsentEntries:o}=xE(this._heartbeatsCache.heartbeats),f=Ru(JSON.stringify({version:2,heartbeats:u}));return this._heartbeatsCache.lastSentHeartbeatDate=l,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}}function P_(){return new Date().toISOString().substring(0,10)}function xE(s,n=DE){const l=[];let u=s.slice();for(const o of s){const f=l.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),eg(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),eg(l)>n){l.pop();break}u=u.slice(1)}return{heartbeatsToSend:l,unsentEntries:u}}class wE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await RE(this.app);return l!=null&&l.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var l;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(l=n.lastSentHeartbeatDate)!==null&&l!==void 0?l:o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var l;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(l=n.lastSentHeartbeatDate)!==null&&l!==void 0?l:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return}}function eg(s){return Ru(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(s){Mu(new Xa("platform-logger",n=>new VS(n),"PRIVATE")),Mu(new Xa("heartbeat",n=>new ME(n),"PRIVATE")),Ol(Bc,J_,s),Ol(Bc,J_,"esm2017"),Ol("fire-js","")}zE("");var tg={};const ng="@firebase/database",ig="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap="";function UE(s){ap=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),ut(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Qa(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return Ln(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new LE(n)}}catch{}return new HE},Ui=sp("localStorage"),BE=sp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Pg("@firebase/database"),IE=(function(){let s=1;return function(){return s++}})(),up=function(s){const n=TS(s),l=new CS;l.update(n);const u=l.digest();return nf.encodeByteArray(u)},ts=function(...s){let n="";for(let l=0;l<s.length;l++){const u=s[l];Array.isArray(u)||u&&typeof u=="object"&&typeof u.length=="number"?n+=ts.apply(null,u):typeof u=="object"?n+=ut(u):n+=u,n+=" "}return n};let ja=null,lg=!0;const qE=function(s,n){H(!0,"Can't turn on custom loggers persistently."),Ml.logLevel=xe.VERBOSE,ja=Ml.log.bind(Ml)},gt=function(...s){if(lg===!0&&(lg=!1,ja===null&&BE.get("logging_enabled")===!0&&qE()),ja){const n=ts.apply(null,s);ja(n)}},ns=function(s){return function(...n){gt(s,...n)}},jc=function(...s){const n="FIREBASE INTERNAL ERROR: "+ts(...s);Ml.error(n)},Un=function(...s){const n=`FIREBASE FATAL ERROR: ${ts(...s)}`;throw Ml.error(n),new Error(n)},Gt=function(...s){const n="FIREBASE WARNING: "+ts(...s);Ml.warn(n)},jE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rp=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},YE=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Ul="[MIN_NAME]",Hi="[MAX_NAME]",Il=function(s,n){if(s===n)return 0;if(s===Ul||n===Hi)return-1;if(n===Ul||s===Hi)return 1;{const l=ag(s),u=ag(n);return l!==null?u!==null?l-u===0?s.length-n.length:l-u:-1:u!==null?1:s<n?-1:1}},GE=function(s,n){return s===n?0:s<n?-1:1},Ua=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+ut(n))},sf=function(s){if(typeof s!="object"||s===null)return ut(s);const n=[];for(const u in s)n.push(u);n.sort();let l="{";for(let u=0;u<n.length;u++)u!==0&&(l+=","),l+=ut(n[u]),l+=":",l+=sf(s[n[u]]);return l+="}",l},op=function(s,n){const l=s.length;if(l<=n)return[s];const u=[];for(let o=0;o<l;o+=n)o+n>l?u.push(s.substring(o,l)):u.push(s.substring(o,o+n));return u};function xt(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const cp=function(s){H(!rp(s),"Invalid JSON number");const n=11,l=52,u=(1<<n-1)-1;let o,f,d,m,p;s===0?(f=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-u)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),u),f=m+u,d=Math.round(s*Math.pow(2,l-m)-Math.pow(2,l))):(f=0,d=Math.round(s/Math.pow(2,1-u-l))));const g=[];for(p=l;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(o?1:0),g.reverse();const C=g.join("");let S="";for(p=0;p<64;p+=8){let R=parseInt(C.substr(p,8),2).toString(16);R.length===1&&(R="0"+R),S=S+R}return S.toLowerCase()},kE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},VE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function QE(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const u=new Error(s+" at "+n._path.toString()+": "+l);return u.code=s.toUpperCase(),u}const XE=new RegExp("^-?(0*)\\d{1,10}$"),KE=-2147483648,ZE=2147483647,ag=function(s){if(XE.test(s)){const n=Number(s);if(n>=KE&&n<=ZE)return n}return null},is=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw Gt("Exception was thrown by user callback.",l),n},Math.floor(0))}},FE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ya=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(n,l){this.appName_=n,this.appCheckProvider=l,this.appCheck=l==null?void 0:l.getImmediate({optional:!0}),this.appCheck||l==null||l.get().then(u=>this.appCheck=u)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((l,u)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,u):l(null)},0)})}addTokenChangeListener(n){var l;(l=this.appCheckProvider)===null||l===void 0||l.get().then(u=>u.addTokenListener(n))}notifyForInvalidToken(){Gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(n,l,u){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,u)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,u):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(n)}}class Nu{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Nu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="5",fp="v",hp="s",dp="r",mp="f",_p=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gp="ls",pp="p",Yc="ac",yp="websocket",vp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(n,l,u,o,f=!1,d="",m=!1,p=!1){this.secure=l,this.namespace=u,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function $E(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Ep(s,n,l){H(typeof n=="string","typeof type must == string"),H(typeof l=="object","typeof params must == object");let u;if(n===yp)u=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===vp)u=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);$E(s)&&(l.ns=s.namespace);const o=[];return xt(l,(f,d)=>{o.push(f+"="+d)}),u+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.counters_={}}incrementCounter(n,l=1){Ln(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return iS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={},Nc={};function rf(s){const n=s.toString();return Ac[n]||(Ac[n]=new PE),Ac[n]}function eb(s,n){const l=s.toString();return Nc[l]||(Nc[l]=n()),Nc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<u.length;++o)u[o]&&is(()=>{this.onMessage_(u[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="start",nb="close",ib="pLPCommand",lb="pRTLPCB",bp="id",Cp="pw",Tp="ser",ab="cb",sb="seg",ub="ts",rb="d",ob="dframe",Ap=1870,Np=30,cb=Ap-Np,fb=25e3,hb=3e4;class Rl{constructor(n,l,u,o,f,d,m){this.connId=n,this.repoInfo=l,this.applicationId=u,this.appCheckToken=o,this.authToken=f,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ns(n),this.stats_=rf(l),this.urlFn=p=>(this.appCheckToken&&(p[Yc]=this.appCheckToken),Ep(l,vp,p))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new tb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hb)),YE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new of((...f)=>{const[d,m,p,g,C]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===sg)this.id=m,this.password=p;else if(d===nb)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const u={};u[sg]="t",u[Tp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(u[ab]=this.scriptTagHolder.uniqueCallbackIdentifier),u[fp]=uf,this.transportSessionId&&(u[hp]=this.transportSessionId),this.lastSessionId&&(u[gp]=this.lastSessionId),this.applicationId&&(u[pp]=this.applicationId),this.appCheckToken&&(u[Yc]=this.appCheckToken),typeof location<"u"&&location.hostname&&_p.test(location.hostname)&&(u[dp]=mp);const o=this.urlFn(u);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rl.forceAllow_=!0}static forceDisallow(){Rl.forceDisallow_=!0}static isAvailable(){return Rl.forceAllow_?!0:!Rl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kE()&&!VE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=ut(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const u=Qg(l),o=op(u,cb);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const u={};u[ob]="t",u[bp]=n,u[Cp]=l,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=ut(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class of{constructor(n,l,u,o){this.onDisconnect=u,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IE(),window[ib+this.uniqueCallbackIdentifier]=n,window[lb+this.uniqueCallbackIdentifier]=l,this.myIFrame=of.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){gt("frame writing exception"),m.stack&&gt(m.stack),gt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||gt("No IE domain setting required")}catch{const u=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[bp]=this.myID,n[Cp]=this.myPW,n[Tp]=this.currentSerial;let l=this.urlFn(n),u="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Np+u.length<=Ap;){const d=this.pendingSegs.shift();u=u+"&"+sb+o+"="+d.seg+"&"+ub+o+"="+d.ts+"&"+rb+o+"="+d.d,o++}return l=l+u,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,u){this.pendingSegs.push({seg:n,ts:l,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const u=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(u,Math.floor(fb)),f=()=>{clearTimeout(o),u()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=n,u.onload=u.onreadystatechange=function(){const o=u.readyState;(!o||o==="loaded"||o==="complete")&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),l())},u.onerror=()=>{gt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=16384,mb=45e3;let xu=null;typeof MozWebSocket<"u"?xu=MozWebSocket:typeof WebSocket<"u"&&(xu=WebSocket);class ln{constructor(n,l,u,o,f,d,m){this.connId=n,this.applicationId=u,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ns(this.connId),this.stats_=rf(l),this.connURL=ln.connectionURL_(l,d,m,o,u),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,u,o,f){const d={};return d[fp]=uf,typeof location<"u"&&location.hostname&&_p.test(location.hostname)&&(d[dp]=mp),l&&(d[hp]=l),u&&(d[gp]=u),o&&(d[Yc]=o),f&&(d[pp]=f),Ep(n,yp,d)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let u;mS(),this.mySock=new xu(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const o=u.message||u.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const o=u.message||u.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,u=navigator.userAgent.match(l);u&&u.length>1&&parseFloat(u[1])<4.4&&(n=!0)}return!n&&xu!==null&&!ln.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const u=Qa(l);this.onMessage(u)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(H(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const u=this.extractFrameCount_(l);u!==null&&this.appendFrame_(u)}}send(n){this.resetKeepAlive();const l=ut(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const u=op(l,db);u.length>1&&this.sendString_(String(u.length));for(let o=0;o<u.length;o++)this.sendString_(u[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mb))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Rl,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const l=ln&&ln.isAvailable();let u=l&&!ln.previouslyFailed();if(n.webSocketOnly&&(l||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[ln];else{const o=this.transports_=[];for(const f of Za.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Za.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Za.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=6e4,gb=5e3,pb=10*1024,yb=100*1024,Rc="t",ug="d",vb="s",rg="r",Sb="e",og="o",cg="a",fg="n",hg="p",Eb="h";class bb{constructor(n,l,u,o,f,d,m,p,g,C){this.id=n,this.repoInfo_=l,this.applicationId_=u,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ns("c:"+this.id+":"),this.transportManager_=new Za(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,u)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ya(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Rc in n){const l=n[Rc];l===cg?this.upgradeIfSecondaryHealthy_():l===rg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===og&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Ua("t",n),u=Ua("d",n);if(l==="c")this.onSecondaryControl_(u);else if(l==="d")this.pendingDataMessages.push(u);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Ua("t",n),u=Ua("d",n);l==="c"?this.onControl_(u):l==="d"&&this.onDataMessage_(u)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Ua(Rc,n);if(ug in n){const u=n[ug];if(l===Eb){const o=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===fg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===vb?this.onConnectionShutdown_(u):l===rg?this.onReset_(u):l===Sb?jc("Server Error: "+u):l===og?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jc("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,u=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),uf!==u&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,u),Ya(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_b))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ya(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hg,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{put(n,l,u,o){}merge(n,l,u,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,u){}onDisconnectMerge(n,l,u){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(n){this.allowedEvents_=n,this.listeners_={},H(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const u=[...this.listeners_[n]];for(let o=0;o<u.length;o++)u[o].callback.apply(u[o].context,l)}}on(n,l,u){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:u});const o=this.getInitialEvent(n);o&&l.apply(u,o)}off(n,l,u){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!u||u===o[f].context)){o.splice(f,1);return}}validateEventType_(n){H(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Dp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wu}getInitialEvent(n){return H(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=32,mg=768;class Me{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let u=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[u]=this.pieces_[o],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function Ee(){return new Me("")}function ce(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function fi(s){return s.pieces_.length-s.pieceNum_}function we(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new Me(s.pieces_,n)}function Op(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function Cb(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function Mp(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function xp(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new Me(n,0)}function nt(s,n){const l=[];for(let u=s.pieceNum_;u<s.pieces_.length;u++)l.push(s.pieces_[u]);if(n instanceof Me)for(let u=n.pieceNum_;u<n.pieces_.length;u++)l.push(n.pieces_[u]);else{const u=n.split("/");for(let o=0;o<u.length;o++)u[o].length>0&&l.push(u[o])}return new Me(l,0)}function fe(s){return s.pieceNum_>=s.pieces_.length}function Ot(s,n){const l=ce(s),u=ce(n);if(l===null)return n;if(l===u)return Ot(we(s),we(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function cf(s,n){if(fi(s)!==fi(n))return!1;for(let l=s.pieceNum_,u=n.pieceNum_;l<=s.pieces_.length;l++,u++)if(s.pieces_[l]!==n.pieces_[u])return!1;return!0}function an(s,n){let l=s.pieceNum_,u=n.pieceNum_;if(fi(s)>fi(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[u])return!1;++l,++u}return!0}class Tb{constructor(n,l){this.errorPrefix_=l,this.parts_=Mp(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=Vu(this.parts_[u]);wp(this)}}function Ab(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Vu(n),wp(s)}function Nb(s){const n=s.parts_.pop();s.byteLength_-=Vu(n),s.parts_.length>0&&(s.byteLength_-=1)}function wp(s){if(s.byteLength_>mg)throw new Error(s.errorPrefix_+"has a key path longer than "+mg+" bytes ("+s.byteLength_+").");if(s.parts_.length>dg)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dg+") or object contains a cycle "+zi(s))}function zi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Dp{constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const u=!document[n];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new ff}getInitialEvent(n){return H(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=1e3,Rb=300*1e3,_g=30*1e3,Db=1.3,Ob=3e4,Mb="server_kill",gg=3;class zn extends Rp{constructor(n,l,u,o,f,d,m,p){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=u,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=zn.nextPersistentConnectionId_++,this.log_=ns("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=La,this.maxReconnectDelay_=Rb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ff.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&wu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,u){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(ut(f)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),u&&(this.requestCBHash_[o]=u)}get(n){this.initConnection_();const l=new lf,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?l.resolve(m):l.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,u,o){this.initConnection_();const f=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:l,query:n,tag:u};this.listens.get(d).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,u=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(u)})}sendListen_(n){const l=n.query,u=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+u+" for "+o);const f={p:u},d="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(d,f,m=>{const p=m.d,g=m.s;zn.warnOnListenWarnings_(p,l),(this.listens.get(u)&&this.listens.get(u).get(o))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(u,o),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&Ln(n,"w")){const u=zl(n,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();Gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ES(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_g)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=SS(n)?"auth":"gauth",u={cred:n};this.authOverride_===null?u.noauth=!0:typeof this.authOverride_=="object"&&(u.authvar=this.authOverride_),this.sendRequest(l,u,o=>{const f=o.s,d=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,u=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,u)})}unlisten(n,l){const u=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+u+" "+o),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,o)&&this.connected_&&this.sendUnlisten_(u,o,n._queryObject,l)}sendUnlisten_(n,l,u,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},d="n";o&&(f.q=u,f.t=o),this.sendRequest(d,f)}onDisconnectPut(n,l,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:u})}onDisconnectMerge(n,l,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:u})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,u,o){const f={p:l,d:u};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(n,l,u,o){this.putInternal("p",n,l,u,o)}merge(n,l,u,o){this.putInternal("m",n,l,u,o)}putInternal(n,l,u,o,f){this.initConnection_();const d={p:l,d:u};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:n,request:d,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,u=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,u,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,u=>{if(u.s!=="ok"){const f=u.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ut(n));const l=n.r,u=this.requestCBHash_[l];u&&(delete this.requestCBHash_[l],u(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):jc("Unrecognized action received from server: "+ut(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ob&&(this.reconnectDelay_=La),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=new Date().getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Db)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),u=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+zn.nextConnectionId_++,f=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,u())},g=function(S){H(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(S)};this.realtime_={close:p,sendRequest:g};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,R]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);d?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=R&&R.token,m=new bb(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,u,B=>{Gt(B+" ("+this.repoInfo_.toString()+")"),this.interrupt(Mb)},f))}catch(S){this.log_("Failed to get token: "+S),d||(this.repoInfo_.nodeAdmin&&Gt(S),p())}}}interrupt(n){gt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){gt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Q_(this.interruptReasons_)&&(this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let u;l?u=l.map(f=>sf(f)).join("$"):u="default";const o=this.removeListen_(n,u);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const u=new Me(n).toString();let o;if(this.listens.has(u)){const f=this.listens.get(u);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(u)}else o=void 0;return o}onAuthRevoked_(n,l){gt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gg&&(this.reconnectDelay_=_g,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){gt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+ap.replace(/\./g,"-")]=1,Fg()?n["framework.cordova"]=1:dS()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=wu.getInstance().currentlyOnline();return Q_(this.interruptReasons_)&&n}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ue(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const u=new ue(Ul,n),o=new ue(Ul,l);return this.compare(u,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;class zp extends Xu{static get __EMPTY_NODE(){return Tu}static set __EMPTY_NODE(n){Tu=n}compare(n,l){return Il(n.name,l.name)}isDefinedOn(n){throw Bl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Hi,Tu)}makePost(n,l){return H(typeof n=="string","KeyIndex indexValue must always be a string."),new ue(n,Tu)}toString(){return".key"}}const xl=new zp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(n,l,u,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=l?u(n.key,l):1,o&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class st{constructor(n,l,u,o,f){this.key=n,this.value=l,this.color=u??st.RED,this.left=o??Mt.EMPTY_NODE,this.right=f??Mt.EMPTY_NODE}copy(n,l,u,o,f){return new st(n??this.key,l??this.value,u??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,u){let o=this;const f=u(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,u),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,u)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let u,o;if(u=this,l(n,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(n,l),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),l(n,u.key)===0){if(u.right.isEmpty())return Mt.EMPTY_NODE;o=u.right.min_(),u=u.copy(o.key,o.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(n,l))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class xb{copy(n,l,u,o,f){return this}insert(n,l,u){return new st(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(n,l=Mt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Mt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(n){return new Mt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,st.BLACK,null,null))}get(n){let l,u=this.root_;for(;!u.isEmpty();){if(l=this.comparator_(n,u.key),l===0)return u.value;l<0?u=u.left:l>0&&(u=u.right)}return null}getPredecessorKey(n){let l,u=this.root_,o=null;for(;!u.isEmpty();)if(l=this.comparator_(n,u.key),l===0){if(u.left.isEmpty())return o?o.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}else l<0?u=u.left:l>0&&(o=u,u=u.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Au(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Au(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Au(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Au(this.root_,null,this.comparator_,!0,n)}}Mt.EMPTY_NODE=new xb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(s,n){return Il(s.name,n.name)}function hf(s,n){return Il(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc;function zb(s){Gc=s}const Up=function(s){return typeof s=="number"?"number:"+cp(s):"string:"+s},Lp=function(s){if(s.isLeafNode()){const n=s.val();H(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Ln(n,".sv"),"Priority must be a string or number.")}else H(s===Gc||s.isEmpty(),"priority of unexpected type.");H(s===Gc||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg;class at{constructor(n,l=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Lp(this.priorityNode_)}static set __childrenNodeConstructor(n){pg=n}static get __childrenNodeConstructor(){return pg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new at(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return fe(n)?this:ce(n)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const u=ce(n);return u===null?l:l.isEmpty()&&u!==".priority"?this:(H(u!==".priority"||fi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(u,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Up(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=cp(this.value_):n+=this.value_,this.lazyHash_=up(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===at.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof at.__childrenNodeConstructor?-1:(H(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,u=typeof this.value_,o=at.VALUE_TYPE_ORDER.indexOf(l),f=at.VALUE_TYPE_ORDER.indexOf(u);return H(o>=0,"Unknown leaf type: "+l),H(f>=0,"Unknown leaf type: "+u),o===f?u==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp,Bp;function Ub(s){Hp=s}function Lb(s){Bp=s}class Hb extends Xu{compare(n,l){const u=n.node.getPriority(),o=l.node.getPriority(),f=u.compareTo(o);return f===0?Il(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Hi,new at("[PRIORITY-POST]",Bp))}makePost(n,l){const u=Hp(n);return new ue(l,new at("[PRIORITY-POST]",u))}toString(){return".priority"}}const Ge=new Hb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=Math.log(2);class Ib{constructor(n){const l=f=>parseInt(Math.log(f)/Bb,10),u=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=u(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const zu=function(s,n,l,u){s.sort(n);const o=function(p,g){const C=g-p;let S,R;if(C===0)return null;if(C===1)return S=s[p],R=l?l(S):S,new st(R,S.node,st.BLACK,null,null);{const B=parseInt(C/2,10)+p,q=o(p,B),W=o(B+1,g);return S=s[B],R=l?l(S):S,new st(R,S.node,st.BLACK,q,W)}},f=function(p){let g=null,C=null,S=s.length;const R=function(q,W){const me=S-q,ze=S;S-=q;const Pe=o(me+1,ze),be=s[me],Qe=l?l(be):be;B(new st(Qe,be.node,W,null,Pe))},B=function(q){g?(g.left=q,g=q):(C=q,g=q)};for(let q=0;q<p.count;++q){const W=p.nextBitIsOne(),me=Math.pow(2,p.count-(q+1));W?R(me,st.BLACK):(R(me,st.BLACK),R(me,st.RED))}return C},d=new Ib(s.length),m=f(d);return new Mt(u||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;const Nl={};class wn{constructor(n,l){this.indexes_=n,this.indexSet_=l}static get Default(){return H(Nl&&Ge,"ChildrenNode.ts has not been loaded"),Dc=Dc||new wn({".priority":Nl},{".priority":Ge}),Dc}get(n){const l=zl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Mt?l:null}hasIndex(n){return Ln(this.indexSet_,n.toString())}addIndex(n,l){H(n!==xl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let o=!1;const f=l.getIterator(ue.Wrap);let d=f.getNext();for(;d;)o=o||n.isDefinedOn(d.node),u.push(d),d=f.getNext();let m;o?m=zu(u,n.getCompare()):m=Nl;const p=n.toString(),g=Object.assign({},this.indexSet_);g[p]=n;const C=Object.assign({},this.indexes_);return C[p]=m,new wn(C,g)}addToIndexes(n,l){const u=Du(this.indexes_,(o,f)=>{const d=zl(this.indexSet_,f);if(H(d,"Missing index implementation for "+f),o===Nl)if(d.isDefinedOn(n.node)){const m=[],p=l.getIterator(ue.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&m.push(g),g=p.getNext();return m.push(n),zu(m,d.getCompare())}else return Nl;else{const m=l.get(n.name);let p=o;return m&&(p=p.remove(new ue(n.name,m))),p.insert(n,n.node)}});return new wn(u,this.indexSet_)}removeFromIndexes(n,l){const u=Du(this.indexes_,o=>{if(o===Nl)return o;{const f=l.get(n.name);return f?o.remove(new ue(n.name,f)):o}});return new wn(u,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;class P{constructor(n,l,u){this.children_=n,this.priorityNode_=l,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Lp(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ha||(Ha=new P(new Mt(hf),null,wn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ha}updatePriority(n){return this.children_.isEmpty()?this:new P(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Ha:l}}getChild(n){const l=ce(n);return l===null?this:this.getImmediateChild(l).getChild(we(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(H(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const u=new ue(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(u,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(u,this.children_));const d=o.isEmpty()?Ha:this.priorityNode_;return new P(o,d,f)}}updateChild(n,l){const u=ce(n);if(u===null)return l;{H(ce(n)!==".priority"||fi(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(u).updateChild(we(n),l);return this.updateImmediateChild(u,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let u=0,o=0,f=!0;if(this.forEachChild(Ge,(d,m)=>{l[d]=m.val(n),u++,f&&P.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):f=!1}),!n&&f&&o<2*u){const d=[];for(const m in l)d[m]=l[m];return d}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Up(this.getPriority().val())+":"),this.forEachChild(Ge,(l,u)=>{const o=u.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":up(n)}return this.lazyHash_}getPredecessorChildName(n,l,u){const o=this.resolveIndex_(u);if(o){const f=o.getPredecessorKey(new ue(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const u=l.minKey();return u&&u.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ue(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const u=l.maxKey();return u&&u.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ue(l,this.children_.get(l)):null}forEachChild(n,l){const u=this.resolveIndex_(n);return u?u.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const u=this.resolveIndex_(l);if(u)return u.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ue.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const u=this.resolveIndex_(l);if(u)return u.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ue.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ls?-1:0}withIndex(n){if(n===xl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new P(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===xl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const u=this.getIterator(Ge),o=l.getIterator(Ge);let f=u.getNext(),d=o.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=u.getNext(),d=o.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===xl?null:this.indexMap_.get(n.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qb extends P{constructor(){super(new Mt(hf),P.EMPTY_NODE,wn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return P.EMPTY_NODE}isEmpty(){return!1}}const ls=new qb;Object.defineProperties(ue,{MIN:{value:new ue(Ul,P.EMPTY_NODE)},MAX:{value:new ue(Hi,ls)}});zp.__EMPTY_NODE=P.EMPTY_NODE;at.__childrenNodeConstructor=P;zb(ls);Lb(ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=!0;function pt(s,n=null){if(s===null)return P.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),H(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new at(l,pt(n))}if(!(s instanceof Array)&&jb){const l=[];let u=!1;if(xt(s,(d,m)=>{if(d.substring(0,1)!=="."){const p=pt(m);p.isEmpty()||(u=u||!p.getPriority().isEmpty(),l.push(new ue(d,p)))}}),l.length===0)return P.EMPTY_NODE;const f=zu(l,wb,d=>d.name,hf);if(u){const d=zu(l,Ge.getCompare());return new P(f,pt(n),new wn({".priority":d},{".priority":Ge}))}else return new P(f,pt(n),wn.Default)}else{let l=P.EMPTY_NODE;return xt(s,(u,o)=>{if(Ln(s,u)&&u.substring(0,1)!=="."){const f=pt(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(u,f))}}),l.updatePriority(pt(n))}}Ub(pt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends Xu{constructor(n){super(),this.indexPath_=n,H(!fe(n)&&ce(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const u=this.extractChild(n.node),o=this.extractChild(l.node),f=u.compareTo(o);return f===0?Il(n.name,l.name):f}makePost(n,l){const u=pt(n),o=P.EMPTY_NODE.updateChild(this.indexPath_,u);return new ue(l,o)}maxPost(){const n=P.EMPTY_NODE.updateChild(this.indexPath_,ls);return new ue(Hi,n)}toString(){return Mp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Xu{compare(n,l){const u=n.node.compareTo(l.node);return u===0?Il(n.name,l.name):u}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(n,l){const u=pt(n);return new ue(l,u)}toString(){return".value"}}const kb=new Gb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(s){return{type:"value",snapshotNode:s}}function Ll(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Fa(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Ja(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function Vb(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(n){this.index_=n}updateChild(n,l,u,o,f,d){H(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(l);return m.getChild(o).equals(u.getChild(o))&&m.isEmpty()===u.isEmpty()||(d!=null&&(u.isEmpty()?n.hasChild(l)?d.trackChildChange(Fa(l,m)):H(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Ll(l,u)):d.trackChildChange(Ja(l,u,m))),n.isLeafNode()&&u.isEmpty())?n:n.updateImmediateChild(l,u).withIndex(this.index_)}updateFullNode(n,l,u){return u!=null&&(n.isLeafNode()||n.forEachChild(Ge,(o,f)=>{l.hasChild(o)||u.trackChildChange(Fa(o,f))}),l.isLeafNode()||l.forEachChild(Ge,(o,f)=>{if(n.hasChild(o)){const d=n.getImmediateChild(o);d.equals(f)||u.trackChildChange(Ja(o,f,d))}else u.trackChildChange(Ll(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?P.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(n){this.indexedFilter_=new df(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Wa.getStartPost_(n),this.endPost_=Wa.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,u=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&u}updateChild(n,l,u,o,f,d){return this.matches(new ue(l,u))||(u=P.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,u,o,f,d)}updateFullNode(n,l,u){l.isLeafNode()&&(l=P.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(P.EMPTY_NODE);const f=this;return l.forEachChild(Ge,(d,m)=>{f.matches(new ue(d,m))||(o=o.updateImmediateChild(d,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,u)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=l=>{const u=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new Wa(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,u,o,f,d){return this.rangedFilter_.matches(new ue(l,u))||(u=P.EMPTY_NODE),n.getImmediateChild(l).equals(u)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,u,o,f,d):this.fullLimitUpdateChild_(n,l,u,f,d)}updateFullNode(n,l,u){let o;if(l.isLeafNode()||l.isEmpty())o=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=P.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(P.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let d=0;for(;f.hasNext();){const m=f.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:o=o.updateImmediateChild(m.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,u)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,u,o,f){let d;if(this.reverse_){const S=this.index_.getCompare();d=(R,B)=>S(B,R)}else d=this.index_.getCompare();const m=n;H(m.numChildren()===this.limit_,"");const p=new ue(l,u),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(m.hasChild(l)){const S=m.getImmediateChild(l);let R=o.getChildAfterChild(this.index_,g,this.reverse_);for(;R!=null&&(R.name===l||m.hasChild(R.name));)R=o.getChildAfterChild(this.index_,R,this.reverse_);const B=R==null?1:d(R,p);if(C&&!u.isEmpty()&&B>=0)return f!=null&&f.trackChildChange(Ja(l,u,S)),m.updateImmediateChild(l,u);{f!=null&&f.trackChildChange(Fa(l,S));const W=m.updateImmediateChild(l,P.EMPTY_NODE);return R!=null&&this.rangedFilter_.matches(R)?(f!=null&&f.trackChildChange(Ll(R.name,R.node)),W.updateImmediateChild(R.name,R.node)):W}}else return u.isEmpty()?n:C&&d(g,p)>=0?(f!=null&&(f.trackChildChange(Fa(g.name,g.node)),f.trackChildChange(Ll(l,u))),m.updateImmediateChild(l,u).updateImmediateChild(g.name,P.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ul}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const n=new mf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Xb(s){return s.loadsAllData()?new df(s.getIndex()):s.hasLimit()?new Qb(s):new Wa(s)}function yg(s){const n={};if(s.isDefault())return n;let l;if(s.index_===Ge?l="$priority":s.index_===kb?l="$value":s.index_===xl?l="$key":(H(s.index_ instanceof Yb,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=ut(l),s.startSet_){const u=s.startAfterSet_?"startAfter":"startAt";n[u]=ut(s.indexStartValue_),s.startNameSet_&&(n[u]+=","+ut(s.indexStartName_))}if(s.endSet_){const u=s.endBeforeSet_?"endBefore":"endAt";n[u]=ut(s.indexEndValue_),s.endNameSet_&&(n[u]+=","+ut(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function vg(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==Ge&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Rp{constructor(n,l,u,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=o,this.log_=ns("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(H(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,l,u,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const d=Uu.getListenId_(n,u),m={};this.listens_[d]=m;const p=yg(n._queryParams);this.restRequest_(f+".json",p,(g,C)=>{let S=C;if(g===404&&(S=null,g=null),g===null&&this.onDataUpdate_(f,S,!1,u),zl(this.listens_,d)===m){let R;g?g===401?R="permission_denied":R="rest_error:"+g:R="ok",o(R,null)}})}unlisten(n,l){const u=Uu.getListenId_(n,l);delete this.listens_[u]}get(n){const l=yg(n._queryParams),u=n._path.toString(),o=new lf;return this.restRequest_(u+".json",l,(f,d)=>{let m=d;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(u,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},u){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+bS(l);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(u&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Qa(m.responseText)}catch{Gt("Failed to parse JSON response for "+d+": "+m.responseText)}u(null,p)}else m.status!==401&&m.status!==404&&Gt("Got unsuccessful REST response for "+d+" Status: "+m.status),u(m.status);u=null}},m.open("GET",d,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(){return{value:null,children:new Map}}function qp(s,n,l){if(fe(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const u=ce(n);s.children.has(u)||s.children.set(u,Lu());const o=s.children.get(u);n=we(n),qp(o,n,l)}}function kc(s,n,l){s.value!==null?l(n,s.value):Zb(s,(u,o)=>{const f=new Me(n.toString()+"/"+u);kc(o,f,l)})}function Zb(s,n){s.children.forEach((l,u)=>{n(u,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l=Object.assign({},n);return this.last_&&xt(this.last_,(u,o)=>{l[u]=l[u]-o}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=10*1e3,Jb=30*1e3,Wb=300*1e3;class $b{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Fb(n);const u=Sg+(Jb-Sg)*Math.random();Ya(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const n=this.statsListener_.get(),l={};let u=!1;xt(n,(o,f)=>{f>0&&Ln(this.statsToReport_,o)&&(l[o]=f,u=!0)}),u&&this.server_.reportStats(l),Ya(this.reportStats_.bind(this),Math.floor(Math.random()*2*Wb))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function jp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _f(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(n,l,u){this.path=n,this.affectedTree=l,this.revert=u,this.type=sn.ACK_USER_WRITE,this.source=jp()}operationForChild(n){if(fe(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Me(n));return new Hu(Ee(),l,this.revert)}}else return H(ce(this.path)===n,"operationForChild called for unrelated child."),new Hu(we(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(n,l){this.source=n,this.path=l,this.type=sn.LISTEN_COMPLETE}operationForChild(n){return fe(this.path)?new $a(this.source,Ee()):new $a(this.source,we(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(n,l,u){this.source=n,this.path=l,this.snap=u,this.type=sn.OVERWRITE}operationForChild(n){return fe(this.path)?new Bi(this.source,Ee(),this.snap.getImmediateChild(n)):new Bi(this.source,we(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(n,l,u){this.source=n,this.path=l,this.children=u,this.type=sn.MERGE}operationForChild(n){if(fe(this.path)){const l=this.children.subtree(new Me(n));return l.isEmpty()?null:l.value?new Bi(this.source,Ee(),l.value):new Pa(this.source,Ee(),l)}else return H(ce(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Pa(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(n,l,u){this.node_=n,this.fullyInitialized_=l,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(fe(n))return this.isFullyInitialized()&&!this.filtered_;const l=ce(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function e1(s,n,l,u){const o=[],f=[];return n.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(Vb(d.childName,d.snapshotNode))}),Ba(s,o,"child_removed",n,u,l),Ba(s,o,"child_added",n,u,l),Ba(s,o,"child_moved",f,u,l),Ba(s,o,"child_changed",n,u,l),Ba(s,o,"value",n,u,l),o}function Ba(s,n,l,u,o,f){const d=u.filter(m=>m.type===l);d.sort((m,p)=>n1(s,m,p)),d.forEach(m=>{const p=t1(s,m,f);o.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(p,s.query_))})})}function t1(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function n1(s,n,l){if(n.childName==null||l.childName==null)throw Bl("Should only compare child_ events.");const u=new ue(n.childName,n.snapshotNode),o=new ue(l.childName,l.snapshotNode);return s.index_.compare(u,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(s,n){return{eventCache:s,serverCache:n}}function Ga(s,n,l,u){return Ku(new Ii(n,l,u),s.serverCache)}function Yp(s,n,l,u){return Ku(s.eventCache,new Ii(n,l,u))}function Vc(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function qi(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc;const i1=()=>(Oc||(Oc=new Mt(GE)),Oc);class He{constructor(n,l=i1()){this.value=n,this.children=l}static fromObject(n){let l=new He(null);return xt(n,(u,o)=>{l=l.set(new Me(u),o)}),l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:Ee(),value:this.value};if(fe(n))return null;{const u=ce(n),o=this.children.get(u);if(o!==null){const f=o.findRootMostMatchingPathAndValue(we(n),l);return f!=null?{path:nt(new Me(u),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(fe(n))return this;{const l=ce(n),u=this.children.get(l);return u!==null?u.subtree(we(n)):new He(null)}}set(n,l){if(fe(n))return new He(l,this.children);{const u=ce(n),f=(this.children.get(u)||new He(null)).set(we(n),l),d=this.children.insert(u,f);return new He(this.value,d)}}remove(n){if(fe(n))return this.children.isEmpty()?new He(null):new He(null,this.children);{const l=ce(n),u=this.children.get(l);if(u){const o=u.remove(we(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new He(null):new He(this.value,f)}else return this}}get(n){if(fe(n))return this.value;{const l=ce(n),u=this.children.get(l);return u?u.get(we(n)):null}}setTree(n,l){if(fe(n))return l;{const u=ce(n),f=(this.children.get(u)||new He(null)).setTree(we(n),l);let d;return f.isEmpty()?d=this.children.remove(u):d=this.children.insert(u,f),new He(this.value,d)}}fold(n){return this.fold_(Ee(),n)}fold_(n,l){const u={};return this.children.inorderTraversal((o,f)=>{u[o]=f.fold_(nt(n,o),l)}),l(n,this.value,u)}findOnPath(n,l){return this.findOnPath_(n,Ee(),l)}findOnPath_(n,l,u){const o=this.value?u(l,this.value):!1;if(o)return o;if(fe(n))return null;{const f=ce(n),d=this.children.get(f);return d?d.findOnPath_(we(n),nt(l,f),u):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,Ee(),l)}foreachOnPath_(n,l,u){if(fe(n))return this;{this.value&&u(l,this.value);const o=ce(n),f=this.children.get(o);return f?f.foreachOnPath_(we(n),nt(l,o),u):new He(null)}}foreach(n){this.foreach_(Ee(),n)}foreach_(n,l){this.children.inorderTraversal((u,o)=>{o.foreach_(nt(n,u),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,u)=>{u.value&&n(l,u.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(n){this.writeTree_=n}static empty(){return new un(new He(null))}}function ka(s,n,l){if(fe(n))return new un(new He(l));{const u=s.writeTree_.findRootMostValueAndPath(n);if(u!=null){const o=u.path;let f=u.value;const d=Ot(o,n);return f=f.updateChild(d,l),new un(s.writeTree_.set(o,f))}else{const o=new He(l),f=s.writeTree_.setTree(n,o);return new un(f)}}}function Eg(s,n,l){let u=s;return xt(l,(o,f)=>{u=ka(u,nt(n,o),f)}),u}function bg(s,n){if(fe(n))return un.empty();{const l=s.writeTree_.setTree(n,new He(null));return new un(l)}}function Qc(s,n){return ji(s,n)!=null}function ji(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(Ot(l.path,n)):null}function Cg(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Ge,(u,o)=>{n.push(new ue(u,o))}):s.writeTree_.children.inorderTraversal((u,o)=>{o.value!=null&&n.push(new ue(u,o.value))}),n}function ci(s,n){if(fe(n))return s;{const l=ji(s,n);return l!=null?new un(new He(l)):new un(s.writeTree_.subtree(n))}}function Xc(s){return s.writeTree_.isEmpty()}function Hl(s,n){return Gp(Ee(),s.writeTree_,n)}function Gp(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let u=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(H(f.value!==null,"Priority writes must always be leaf nodes"),u=f.value):l=Gp(nt(s,o),f,l)}),!l.getChild(s).isEmpty()&&u!==null&&(l=l.updateChild(nt(s,".priority"),u)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(s,n){return Xp(n,s)}function l1(s,n,l,u,o){H(u>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:l,writeId:u,visible:o}),o&&(s.visibleWrites=ka(s.visibleWrites,n,l)),s.lastWriteId=u}function a1(s,n){for(let l=0;l<s.allWrites.length;l++){const u=s.allWrites[l];if(u.writeId===n)return u}return null}function s1(s,n){const l=s.allWrites.findIndex(m=>m.writeId===n);H(l>=0,"removeWrite called with nonexistent writeId.");const u=s.allWrites[l];s.allWrites.splice(l,1);let o=u.visible,f=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const m=s.allWrites[d];m.visible&&(d>=l&&u1(m,u.path)?o=!1:an(u.path,m.path)&&(f=!0)),d--}if(o){if(f)return r1(s),!0;if(u.snap)s.visibleWrites=bg(s.visibleWrites,u.path);else{const m=u.children;xt(m,p=>{s.visibleWrites=bg(s.visibleWrites,nt(u.path,p))})}return!0}else return!1}function u1(s,n){if(s.snap)return an(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&an(nt(s.path,l),n))return!0;return!1}function r1(s){s.visibleWrites=kp(s.allWrites,o1,Ee()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function o1(s){return s.visible}function kp(s,n,l){let u=un.empty();for(let o=0;o<s.length;++o){const f=s[o];if(n(f)){const d=f.path;let m;if(f.snap)an(l,d)?(m=Ot(l,d),u=ka(u,m,f.snap)):an(d,l)&&(m=Ot(d,l),u=ka(u,Ee(),f.snap.getChild(m)));else if(f.children){if(an(l,d))m=Ot(l,d),u=Eg(u,m,f.children);else if(an(d,l))if(m=Ot(d,l),fe(m))u=Eg(u,Ee(),f.children);else{const p=zl(f.children,ce(m));if(p){const g=p.getChild(we(m));u=ka(u,Ee(),g)}}}else throw Bl("WriteRecord should have .snap or .children")}}return u}function Vp(s,n,l,u,o){if(!u&&!o){const f=ji(s.visibleWrites,n);if(f!=null)return f;{const d=ci(s.visibleWrites,n);if(Xc(d))return l;if(l==null&&!Qc(d,Ee()))return null;{const m=l||P.EMPTY_NODE;return Hl(d,m)}}}else{const f=ci(s.visibleWrites,n);if(!o&&Xc(f))return l;if(!o&&l==null&&!Qc(f,Ee()))return null;{const d=function(g){return(g.visible||o)&&(!u||!~u.indexOf(g.writeId))&&(an(g.path,n)||an(n,g.path))},m=kp(s.allWrites,d,n),p=l||P.EMPTY_NODE;return Hl(m,p)}}}function c1(s,n,l){let u=P.EMPTY_NODE;const o=ji(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Ge,(f,d)=>{u=u.updateImmediateChild(f,d)}),u;if(l){const f=ci(s.visibleWrites,n);return l.forEachChild(Ge,(d,m)=>{const p=Hl(ci(f,new Me(d)),m);u=u.updateImmediateChild(d,p)}),Cg(f).forEach(d=>{u=u.updateImmediateChild(d.name,d.node)}),u}else{const f=ci(s.visibleWrites,n);return Cg(f).forEach(d=>{u=u.updateImmediateChild(d.name,d.node)}),u}}function f1(s,n,l,u,o){H(u||o,"Either existingEventSnap or existingServerSnap must exist");const f=nt(n,l);if(Qc(s.visibleWrites,f))return null;{const d=ci(s.visibleWrites,f);return Xc(d)?o.getChild(l):Hl(d,o.getChild(l))}}function h1(s,n,l,u){const o=nt(n,l),f=ji(s.visibleWrites,o);if(f!=null)return f;if(u.isCompleteForChild(l)){const d=ci(s.visibleWrites,o);return Hl(d,u.getNode().getImmediateChild(l))}else return null}function d1(s,n){return ji(s.visibleWrites,n)}function m1(s,n,l,u,o,f,d){let m;const p=ci(s.visibleWrites,n),g=ji(p,Ee());if(g!=null)m=g;else if(l!=null)m=Hl(p,l);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const C=[],S=d.getCompare(),R=f?m.getReverseIteratorFrom(u,d):m.getIteratorFrom(u,d);let B=R.getNext();for(;B&&C.length<o;)S(B,u)!==0&&C.push(B),B=R.getNext();return C}else return[]}function _1(){return{visibleWrites:un.empty(),allWrites:[],lastWriteId:-1}}function Bu(s,n,l,u){return Vp(s.writeTree,s.treePath,n,l,u)}function yf(s,n){return c1(s.writeTree,s.treePath,n)}function Tg(s,n,l,u){return f1(s.writeTree,s.treePath,n,l,u)}function Iu(s,n){return d1(s.writeTree,nt(s.treePath,n))}function g1(s,n,l,u,o,f){return m1(s.writeTree,s.treePath,n,l,u,o,f)}function vf(s,n,l){return h1(s.writeTree,s.treePath,n,l)}function Qp(s,n){return Xp(nt(s.treePath,n),s.writeTree)}function Xp(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,u=n.childName;H(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),H(u!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(u);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(u,Ja(u,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(u);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(u,Fa(u,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(u,Ll(u,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(u,Ja(u,n.snapshotNode,o.oldSnap));else throw Bl("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(u,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{getCompleteChild(n){return null}getChildAfterChild(n,l,u){return null}}const Kp=new y1;class Sf{constructor(n,l,u=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=u}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const u=this.optCompleteServerCache_!=null?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vf(this.writes_,n,u)}}getChildAfterChild(n,l,u){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qi(this.viewCache_),f=g1(this.writes_,o,l,1,u,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(s){return{filter:s}}function S1(s,n){H(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function E1(s,n,l,u,o){const f=new p1;let d,m;if(l.type===sn.OVERWRITE){const g=l;g.source.fromUser?d=Kc(s,n,g.path,g.snap,u,o,f):(H(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!fe(g.path),d=qu(s,n,g.path,g.snap,u,o,m,f))}else if(l.type===sn.MERGE){const g=l;g.source.fromUser?d=C1(s,n,g.path,g.children,u,o,f):(H(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),d=Zc(s,n,g.path,g.children,u,o,m,f))}else if(l.type===sn.ACK_USER_WRITE){const g=l;g.revert?d=N1(s,n,g.path,u,o,f):d=T1(s,n,g.path,g.affectedTree,u,o,f)}else if(l.type===sn.LISTEN_COMPLETE)d=A1(s,n,l.path,u,f);else throw Bl("Unknown operation type: "+l.type);const p=f.getChanges();return b1(n,d,p),{viewCache:d,changes:p}}function b1(s,n,l){const u=n.eventCache;if(u.isFullyInitialized()){const o=u.getNode().isLeafNode()||u.getNode().isEmpty(),f=Vc(s);(l.length>0||!s.eventCache.isFullyInitialized()||o&&!u.getNode().equals(f)||!u.getNode().getPriority().equals(f.getPriority()))&&l.push(Ip(Vc(n)))}}function Zp(s,n,l,u,o,f){const d=n.eventCache;if(Iu(u,l)!=null)return n;{let m,p;if(fe(l))if(H(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=qi(n),C=g instanceof P?g:P.EMPTY_NODE,S=yf(u,C);m=s.filter.updateFullNode(n.eventCache.getNode(),S,f)}else{const g=Bu(u,qi(n));m=s.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=ce(l);if(g===".priority"){H(fi(l)===1,"Can't have a priority with additional path components");const C=d.getNode();p=n.serverCache.getNode();const S=Tg(u,l,C,p);S!=null?m=s.filter.updatePriority(C,S):m=d.getNode()}else{const C=we(l);let S;if(d.isCompleteForChild(g)){p=n.serverCache.getNode();const R=Tg(u,l,d.getNode(),p);R!=null?S=d.getNode().getImmediateChild(g).updateChild(C,R):S=d.getNode().getImmediateChild(g)}else S=vf(u,g,n.serverCache);S!=null?m=s.filter.updateChild(d.getNode(),g,S,C,o,f):m=d.getNode()}}return Ga(n,m,d.isFullyInitialized()||fe(l),s.filter.filtersNodes())}}function qu(s,n,l,u,o,f,d,m){const p=n.serverCache;let g;const C=d?s.filter:s.filter.getIndexedFilter();if(fe(l))g=C.updateFullNode(p.getNode(),u,null);else if(C.filtersNodes()&&!p.isFiltered()){const B=p.getNode().updateChild(l,u);g=C.updateFullNode(p.getNode(),B,null)}else{const B=ce(l);if(!p.isCompleteForPath(l)&&fi(l)>1)return n;const q=we(l),me=p.getNode().getImmediateChild(B).updateChild(q,u);B===".priority"?g=C.updatePriority(p.getNode(),me):g=C.updateChild(p.getNode(),B,me,q,Kp,null)}const S=Yp(n,g,p.isFullyInitialized()||fe(l),C.filtersNodes()),R=new Sf(o,S,f);return Zp(s,S,l,o,R,m)}function Kc(s,n,l,u,o,f,d){const m=n.eventCache;let p,g;const C=new Sf(o,n,f);if(fe(l))g=s.filter.updateFullNode(n.eventCache.getNode(),u,d),p=Ga(n,g,!0,s.filter.filtersNodes());else{const S=ce(l);if(S===".priority")g=s.filter.updatePriority(n.eventCache.getNode(),u),p=Ga(n,g,m.isFullyInitialized(),m.isFiltered());else{const R=we(l),B=m.getNode().getImmediateChild(S);let q;if(fe(R))q=u;else{const W=C.getCompleteChild(S);W!=null?Op(R)===".priority"&&W.getChild(xp(R)).isEmpty()?q=W:q=W.updateChild(R,u):q=P.EMPTY_NODE}if(B.equals(q))p=n;else{const W=s.filter.updateChild(m.getNode(),S,q,R,C,d);p=Ga(n,W,m.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function Ag(s,n){return s.eventCache.isCompleteForChild(n)}function C1(s,n,l,u,o,f,d){let m=n;return u.foreach((p,g)=>{const C=nt(l,p);Ag(n,ce(C))&&(m=Kc(s,m,C,g,o,f,d))}),u.foreach((p,g)=>{const C=nt(l,p);Ag(n,ce(C))||(m=Kc(s,m,C,g,o,f,d))}),m}function Ng(s,n,l){return l.foreach((u,o)=>{n=n.updateChild(u,o)}),n}function Zc(s,n,l,u,o,f,d,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;fe(l)?g=u:g=new He(null).setTree(l,u);const C=n.serverCache.getNode();return g.children.inorderTraversal((S,R)=>{if(C.hasChild(S)){const B=n.serverCache.getNode().getImmediateChild(S),q=Ng(s,B,R);p=qu(s,p,new Me(S),q,o,f,d,m)}}),g.children.inorderTraversal((S,R)=>{const B=!n.serverCache.isCompleteForChild(S)&&R.value===null;if(!C.hasChild(S)&&!B){const q=n.serverCache.getNode().getImmediateChild(S),W=Ng(s,q,R);p=qu(s,p,new Me(S),W,o,f,d,m)}}),p}function T1(s,n,l,u,o,f,d){if(Iu(o,l)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(u.value!=null){if(fe(l)&&p.isFullyInitialized()||p.isCompleteForPath(l))return qu(s,n,l,p.getNode().getChild(l),o,f,m,d);if(fe(l)){let g=new He(null);return p.getNode().forEachChild(xl,(C,S)=>{g=g.set(new Me(C),S)}),Zc(s,n,l,g,o,f,m,d)}else return n}else{let g=new He(null);return u.foreach((C,S)=>{const R=nt(l,C);p.isCompleteForPath(R)&&(g=g.set(C,p.getNode().getChild(R)))}),Zc(s,n,l,g,o,f,m,d)}}function A1(s,n,l,u,o){const f=n.serverCache,d=Yp(n,f.getNode(),f.isFullyInitialized()||fe(l),f.isFiltered());return Zp(s,d,l,u,Kp,o)}function N1(s,n,l,u,o,f){let d;if(Iu(u,l)!=null)return n;{const m=new Sf(u,n,o),p=n.eventCache.getNode();let g;if(fe(l)||ce(l)===".priority"){let C;if(n.serverCache.isFullyInitialized())C=Bu(u,qi(n));else{const S=n.serverCache.getNode();H(S instanceof P,"serverChildren would be complete if leaf node"),C=yf(u,S)}C=C,g=s.filter.updateFullNode(p,C,f)}else{const C=ce(l);let S=vf(u,C,n.serverCache);S==null&&n.serverCache.isCompleteForChild(C)&&(S=p.getImmediateChild(C)),S!=null?g=s.filter.updateChild(p,C,S,we(l),m,f):n.eventCache.getNode().hasChild(C)?g=s.filter.updateChild(p,C,P.EMPTY_NODE,we(l),m,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=Bu(u,qi(n)),d.isLeafNode()&&(g=s.filter.updateFullNode(g,d,f)))}return d=n.serverCache.isFullyInitialized()||Iu(u,Ee())!=null,Ga(n,g,d,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const u=this.query_._queryParams,o=new df(u.getIndex()),f=Xb(u);this.processor_=v1(f);const d=l.serverCache,m=l.eventCache,p=o.updateFullNode(P.EMPTY_NODE,d.getNode(),null),g=f.updateFullNode(P.EMPTY_NODE,m.getNode(),null),C=new Ii(p,d.isFullyInitialized(),o.filtersNodes()),S=new Ii(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Ku(S,C),this.eventGenerator_=new Pb(this.query_)}get query(){return this.query_}}function D1(s){return s.viewCache_.serverCache.getNode()}function O1(s,n){const l=qi(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!fe(n)&&!l.getImmediateChild(ce(n)).isEmpty())?l.getChild(n):null}function Rg(s){return s.eventRegistrations_.length===0}function M1(s,n){s.eventRegistrations_.push(n)}function Dg(s,n,l){const u=[];if(l){H(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(l,o);d&&u.push(d)})}if(n){let o=[];for(let f=0;f<s.eventRegistrations_.length;++f){const d=s.eventRegistrations_[f];if(!d.matches(n))o.push(d);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return u}function Og(s,n,l,u){n.type===sn.MERGE&&n.source.queryId!==null&&(H(qi(s.viewCache_),"We should always have a full cache before handling merges"),H(Vc(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,f=E1(s.processor_,o,n,l,u);return S1(s.processor_,f.viewCache),H(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,Fp(s,f.changes,f.viewCache.eventCache.getNode(),null)}function x1(s,n){const l=s.viewCache_.eventCache,u=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ge,(f,d)=>{u.push(Ll(f,d))}),l.isFullyInitialized()&&u.push(Ip(l.getNode())),Fp(s,u,l.getNode(),n)}function Fp(s,n,l,u){const o=u?[u]:s.eventRegistrations_;return e1(s.eventGenerator_,n,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;class w1{constructor(){this.views=new Map}}function z1(s){H(!ju,"__referenceConstructor has already been defined"),ju=s}function U1(){return H(ju,"Reference.ts has not been loaded"),ju}function L1(s){return s.views.size===0}function Ef(s,n,l,u){const o=n.source.queryId;if(o!==null){const f=s.views.get(o);return H(f!=null,"SyncTree gave us an op for an invalid query."),Og(f,n,l,u)}else{let f=[];for(const d of s.views.values())f=f.concat(Og(d,n,l,u));return f}}function H1(s,n,l,u,o){const f=n._queryIdentifier,d=s.views.get(f);if(!d){let m=Bu(l,o?u:null),p=!1;m?p=!0:u instanceof P?(m=yf(l,u),p=!1):(m=P.EMPTY_NODE,p=!1);const g=Ku(new Ii(m,p,!1),new Ii(u,o,!1));return new R1(n,g)}return d}function B1(s,n,l,u,o,f){const d=H1(s,n,u,o,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,d),M1(d,l),x1(d,l)}function I1(s,n,l,u){const o=n._queryIdentifier,f=[];let d=[];const m=hi(s);if(o==="default")for(const[p,g]of s.views.entries())d=d.concat(Dg(g,l,u)),Rg(g)&&(s.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=s.views.get(o);p&&(d=d.concat(Dg(p,l,u)),Rg(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!hi(s)&&f.push(new(U1())(n._repo,n._path)),{removed:f,events:d}}function Jp(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function wl(s,n){let l=null;for(const u of s.views.values())l=l||O1(u,n);return l}function Wp(s,n){if(n._queryParams.loadsAllData())return Zu(s);{const u=n._queryIdentifier;return s.views.get(u)}}function $p(s,n){return Wp(s,n)!=null}function hi(s){return Zu(s)!=null}function Zu(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu;function q1(s){H(!Yu,"__referenceConstructor has already been defined"),Yu=s}function j1(){return H(Yu,"Reference.ts has not been loaded"),Yu}let Y1=1;class Mg{constructor(n){this.listenProvider_=n,this.syncPointTree_=new He(null),this.pendingWriteTree_=_1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function G1(s,n,l,u,o){return l1(s.pendingWriteTree_,n,l,u,o),o?as(s,new Bi(jp(),n,l)):[]}function Dl(s,n,l=!1){const u=a1(s.pendingWriteTree_,n);if(s1(s.pendingWriteTree_,n)){let f=new He(null);return u.snap!=null?f=f.set(Ee(),!0):xt(u.children,d=>{f=f.set(new Me(d),!0)}),as(s,new Hu(u.path,f,l))}else return[]}function Fu(s,n,l){return as(s,new Bi(_f(),n,l))}function k1(s,n,l){const u=He.fromObject(l);return as(s,new Pa(_f(),n,u))}function V1(s,n){return as(s,new $a(_f(),n))}function Q1(s,n,l){const u=bf(s,l);if(u){const o=Cf(u),f=o.path,d=o.queryId,m=Ot(f,n),p=new $a(gf(d),m);return Tf(s,f,p)}else return[]}function Fc(s,n,l,u,o=!1){const f=n._path,d=s.syncPointTree_.get(f);let m=[];if(d&&(n._queryIdentifier==="default"||$p(d,n))){const p=I1(d,n,l,u);L1(d)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!o){const C=g.findIndex(R=>R._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(f,(R,B)=>hi(B));if(C&&!S){const R=s.syncPointTree_.subtree(f);if(!R.isEmpty()){const B=Z1(R);for(let q=0;q<B.length;++q){const W=B[q],me=W.query,ze=ny(s,W);s.listenProvider_.startListening(Va(me),Gu(s,me),ze.hashFn,ze.onComplete)}}}!S&&g.length>0&&!u&&(C?s.listenProvider_.stopListening(Va(n),null):g.forEach(R=>{const B=s.queryToTagMap.get(Ju(R));s.listenProvider_.stopListening(Va(R),B)}))}F1(s,g)}return m}function X1(s,n,l,u){const o=bf(s,u);if(o!=null){const f=Cf(o),d=f.path,m=f.queryId,p=Ot(d,n),g=new Bi(gf(m),p,l);return Tf(s,d,g)}else return[]}function K1(s,n,l,u){const o=bf(s,u);if(o){const f=Cf(o),d=f.path,m=f.queryId,p=Ot(d,n),g=He.fromObject(l),C=new Pa(gf(m),p,g);return Tf(s,d,C)}else return[]}function xg(s,n,l,u=!1){const o=n._path;let f=null,d=!1;s.syncPointTree_.foreachOnPath(o,(R,B)=>{const q=Ot(R,o);f=f||wl(B,q),d=d||hi(B)});let m=s.syncPointTree_.get(o);m?(d=d||hi(m),f=f||wl(m,Ee())):(m=new w1,s.syncPointTree_=s.syncPointTree_.set(o,m));let p;f!=null?p=!0:(p=!1,f=P.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((B,q)=>{const W=wl(q,Ee());W&&(f=f.updateImmediateChild(B,W))}));const g=$p(m,n);if(!g&&!n._queryParams.loadsAllData()){const R=Ju(n);H(!s.queryToTagMap.has(R),"View does not exist, but we have a tag");const B=J1();s.queryToTagMap.set(R,B),s.tagToQueryMap.set(B,R)}const C=pf(s.pendingWriteTree_,o);let S=B1(m,n,l,C,f,p);if(!g&&!d&&!u){const R=Wp(m,n);S=S.concat(W1(s,n,R))}return S}function Pp(s,n,l){const o=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(d,m)=>{const p=Ot(d,n),g=wl(m,p);if(g)return g});return Vp(o,n,f,l,!0)}function as(s,n){return ey(n,s.syncPointTree_,null,pf(s.pendingWriteTree_,Ee()))}function ey(s,n,l,u){if(fe(s.path))return ty(s,n,l,u);{const o=n.get(Ee());l==null&&o!=null&&(l=wl(o,Ee()));let f=[];const d=ce(s.path),m=s.operationForChild(d),p=n.children.get(d);if(p&&m){const g=l?l.getImmediateChild(d):null,C=Qp(u,d);f=f.concat(ey(m,p,g,C))}return o&&(f=f.concat(Ef(o,s,u,l))),f}}function ty(s,n,l,u){const o=n.get(Ee());l==null&&o!=null&&(l=wl(o,Ee()));let f=[];return n.children.inorderTraversal((d,m)=>{const p=l?l.getImmediateChild(d):null,g=Qp(u,d),C=s.operationForChild(d);C&&(f=f.concat(ty(C,m,p,g)))}),o&&(f=f.concat(Ef(o,s,u,l))),f}function ny(s,n){const l=n.query,u=Gu(s,l);return{hashFn:()=>(D1(n)||P.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return u?Q1(s,l._path,u):V1(s,l._path);{const f=QE(o,l);return Fc(s,l,null,f)}}}}function Gu(s,n){const l=Ju(n);return s.queryToTagMap.get(l)}function Ju(s){return s._path.toString()+"$"+s._queryIdentifier}function bf(s,n){return s.tagToQueryMap.get(n)}function Cf(s){const n=s.indexOf("$");return H(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new Me(s.substr(0,n))}}function Tf(s,n,l){const u=s.syncPointTree_.get(n);H(u,"Missing sync point for query tag that we're tracking");const o=pf(s.pendingWriteTree_,n);return Ef(u,l,o,null)}function Z1(s){return s.fold((n,l,u)=>{if(l&&hi(l))return[Zu(l)];{let o=[];return l&&(o=Jp(l)),xt(u,(f,d)=>{o=o.concat(d)}),o}})}function Va(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(j1())(s._repo,s._path):s}function F1(s,n){for(let l=0;l<n.length;++l){const u=n[l];if(!u._queryParams.loadsAllData()){const o=Ju(u),f=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(f)}}}function J1(){return Y1++}function W1(s,n,l){const u=n._path,o=Gu(s,n),f=ny(s,l),d=s.listenProvider_.startListening(Va(n),o,f.hashFn,f.onComplete),m=s.syncPointTree_.subtree(u);if(o)H(!hi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,C,S)=>{if(!fe(g)&&C&&hi(C))return[Zu(C).query];{let R=[];return C&&(R=R.concat(Jp(C).map(B=>B.query))),xt(S,(B,q)=>{R=R.concat(q)}),R}});for(let g=0;g<p.length;++g){const C=p[g];s.listenProvider_.stopListening(Va(C),Gu(s,C))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Af(l)}node(){return this.node_}}class Nf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=nt(this.path_,n);return new Nf(this.syncTree_,l)}node(){return Pp(this.syncTree_,this.path_)}}const $1=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},wg=function(s,n,l){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return P1(s[".sv"],n,l);if(typeof s[".sv"]=="object")return eC(s[".sv"],n);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},P1=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:H(!1,"Unexpected server value: "+s)}},eC=function(s,n,l){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const u=s.increment;typeof u!="number"&&H(!1,"Unexpected increment value: "+u);const o=n.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return u;const d=o.getValue();return typeof d!="number"?u:d+u},tC=function(s,n,l,u){return Rf(n,new Nf(l,s),u)},nC=function(s,n,l){return Rf(s,new Af(n),l)};function Rf(s,n,l){const u=s.getPriority().val(),o=wg(u,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const d=s,m=wg(d.getValue(),n,l);return m!==d.getValue()||o!==d.getPriority().val()?new at(m,pt(o)):s}else{const d=s;return f=d,o!==d.getPriority().val()&&(f=f.updatePriority(new at(o))),d.forEachChild(Ge,(m,p)=>{const g=Rf(p,n.getImmediateChild(m),l);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(n="",l=null,u={children:{},childCount:0}){this.name=n,this.parent=l,this.node=u}}function Of(s,n){let l=n instanceof Me?n:new Me(n),u=s,o=ce(l);for(;o!==null;){const f=zl(u.node.children,o)||{children:{},childCount:0};u=new Df(o,u,f),l=we(l),o=ce(l)}return u}function ql(s){return s.node.value}function iy(s,n){s.node.value=n,Jc(s)}function ly(s){return s.node.childCount>0}function iC(s){return ql(s)===void 0&&!ly(s)}function Wu(s,n){xt(s.node.children,(l,u)=>{n(new Df(l,s,u))})}function ay(s,n,l,u){l&&n(s),Wu(s,o=>{ay(o,n,!0)})}function lC(s,n,l){let u=s.parent;for(;u!==null;){if(n(u))return!0;u=u.parent}return!1}function ss(s){return new Me(s.parent===null?s.name:ss(s.parent)+"/"+s.name)}function Jc(s){s.parent!==null&&aC(s.parent,s.name,s)}function aC(s,n,l){const u=iC(l),o=Ln(s.node.children,n);u&&o?(delete s.node.children[n],s.node.childCount--,Jc(s)):!u&&!o&&(s.node.children[n]=l.node,s.node.childCount++,Jc(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=/[\[\].#$\/\u0000-\u001F\u007F]/,uC=/[\[\].#$\u0000-\u001F\u007F]/,Mc=10*1024*1024,sy=function(s){return typeof s=="string"&&s.length!==0&&!sC.test(s)},uy=function(s){return typeof s=="string"&&s.length!==0&&!uC.test(s)},rC=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),uy(s)},ry=function(s,n,l){const u=l instanceof Me?new Tb(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+zi(u));if(typeof n=="function")throw new Error(s+"contains a function "+zi(u)+" with contents = "+n.toString());if(rp(n))throw new Error(s+"contains "+n.toString()+" "+zi(u));if(typeof n=="string"&&n.length>Mc/3&&Vu(n)>Mc)throw new Error(s+"contains a string greater than "+Mc+" utf8 bytes "+zi(u)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(xt(n,(d,m)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!sy(d)))throw new Error(s+" contains an invalid key ("+d+") "+zi(u)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ab(u,d),ry(s,m,u),Nb(u)}),o&&f)throw new Error(s+' contains ".value" child '+zi(u)+" in addition to actual children.")}},oy=function(s,n,l,u){if(!uy(l))throw new Error($g(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oC=function(s,n,l,u){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),oy(s,n,l)},cC=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!sy(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!rC(l))throw new Error($g(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cy(s,n){let l=null;for(let u=0;u<n.length;u++){const o=n[u],f=o.getPath();l!==null&&!cf(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&s.eventLists_.push(l)}function fy(s,n,l){cy(s,l),hy(s,u=>cf(u,n))}function Yi(s,n,l){cy(s,l),hy(s,u=>an(u,n)||an(n,u))}function hy(s,n){s.recursionDepth_++;let l=!0;for(let u=0;u<s.eventLists_.length;u++){const o=s.eventLists_[u];if(o){const f=o.path;n(f)?(hC(s.eventLists_[u]),s.eventLists_[u]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function hC(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const u=l.getEventRunner();ja&&gt("event: "+l.toString()),is(u)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="repo_interrupt",mC=25;class _C{constructor(n,l,u,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=u,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lu(),this.transactionQueueTree_=new Df,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gC(s,n,l){if(s.stats_=rf(s.repoInfo_),s.forceRestClient_||FE())s.server_=new Uu(s.repoInfo_,(u,o,f,d)=>{zg(s,u,o,f,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ug(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(l)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}s.persistentConnection_=new zn(s.repoInfo_,n,(u,o,f,d)=>{zg(s,u,o,f,d)},u=>{Ug(s,u)},u=>{yC(s,u)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(u=>{s.server_.refreshAuthToken(u)}),s.appCheckProvider_.addTokenChangeListener(u=>{s.server_.refreshAppCheckToken(u.token)}),s.statsReporter_=eb(s.repoInfo_,()=>new $b(s.stats_,s.server_)),s.infoData_=new Kb,s.infoSyncTree_=new Mg({startListening:(u,o,f,d)=>{let m=[];const p=s.infoData_.getNode(u._path);return p.isEmpty()||(m=Fu(s.infoSyncTree_,u._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),Mf(s,"connected",!1),s.serverSyncTree_=new Mg({startListening:(u,o,f,d)=>(s.server_.listen(u,f,o,(m,p)=>{const g=d(m,p);Yi(s.eventQueue_,u._path,g)}),[]),stopListening:(u,o)=>{s.server_.unlisten(u,o)}})}function pC(s){const l=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function dy(s){return $1({timestamp:pC(s)})}function zg(s,n,l,u,o){s.dataUpdateCount++;const f=new Me(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let d=[];if(o)if(u){const p=Du(l,g=>pt(g));d=K1(s.serverSyncTree_,f,p,o)}else{const p=pt(l);d=X1(s.serverSyncTree_,f,p,o)}else if(u){const p=Du(l,g=>pt(g));d=k1(s.serverSyncTree_,f,p)}else{const p=pt(l);d=Fu(s.serverSyncTree_,f,p)}let m=f;d.length>0&&(m=wf(s,f)),Yi(s.eventQueue_,m,d)}function Ug(s,n){Mf(s,"connected",n),n===!1&&SC(s)}function yC(s,n){xt(n,(l,u)=>{Mf(s,l,u)})}function Mf(s,n,l){const u=new Me("/.info/"+n),o=pt(l);s.infoData_.updateSnapshot(u,o);const f=Fu(s.infoSyncTree_,u,o);Yi(s.eventQueue_,u,f)}function vC(s){return s.nextWriteId_++}function SC(s){my(s,"onDisconnectEvents");const n=dy(s),l=Lu();kc(s.onDisconnect_,Ee(),(o,f)=>{const d=tC(o,f,s.serverSyncTree_,n);qp(l,o,d)});let u=[];kc(l,Ee(),(o,f)=>{u=u.concat(Fu(s.serverSyncTree_,o,f));const d=AC(s,o);wf(s,d)}),s.onDisconnect_=Lu(),Yi(s.eventQueue_,Ee(),u)}function EC(s,n,l){let u;ce(n._path)===".info"?u=xg(s.infoSyncTree_,n,l):u=xg(s.serverSyncTree_,n,l),fy(s.eventQueue_,n._path,u)}function Wc(s,n,l){let u;ce(n._path)===".info"?u=Fc(s.infoSyncTree_,n,l):u=Fc(s.serverSyncTree_,n,l),fy(s.eventQueue_,n._path,u)}function bC(s){s.persistentConnection_&&s.persistentConnection_.interrupt(dC)}function my(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),gt(l,...n)}function _y(s,n,l){return Pp(s.serverSyncTree_,n,l)||P.EMPTY_NODE}function xf(s,n=s.transactionQueueTree_){if(n||$u(s,n),ql(n)){const l=py(s,n);H(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&CC(s,ss(n),l)}else ly(n)&&Wu(n,l=>{xf(s,l)})}function CC(s,n,l){const u=l.map(g=>g.currentWriteId),o=_y(s,n,u);let f=o;const d=o.hash();for(let g=0;g<l.length;g++){const C=l[g];H(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const S=Ot(n,C.path);f=f.updateChild(S,C.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;s.server_.put(p.toString(),m,g=>{my(s,"transaction put response",{path:p.toString(),status:g});let C=[];if(g==="ok"){const S=[];for(let R=0;R<l.length;R++)l[R].status=2,C=C.concat(Dl(s.serverSyncTree_,l[R].currentWriteId)),l[R].onComplete&&S.push(()=>l[R].onComplete(null,!0,l[R].currentOutputSnapshotResolved)),l[R].unwatcher();$u(s,Of(s.transactionQueueTree_,n)),xf(s,s.transactionQueueTree_),Yi(s.eventQueue_,n,C);for(let R=0;R<S.length;R++)is(S[R])}else{if(g==="datastale")for(let S=0;S<l.length;S++)l[S].status===3?l[S].status=4:l[S].status=0;else{Gt("transaction at "+p.toString()+" failed: "+g);for(let S=0;S<l.length;S++)l[S].status=4,l[S].abortReason=g}wf(s,n)}},d)}function wf(s,n){const l=gy(s,n),u=ss(l),o=py(s,l);return TC(s,o,u),u}function TC(s,n,l){if(n.length===0)return;const u=[];let o=[];const d=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],g=Ot(l,p.path);let C=!1,S;if(H(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)C=!0,S=p.abortReason,o=o.concat(Dl(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=mC)C=!0,S="maxretry",o=o.concat(Dl(s.serverSyncTree_,p.currentWriteId,!0));else{const R=_y(s,p.path,d);p.currentInputSnapshot=R;const B=n[m].update(R.val());if(B!==void 0){ry("transaction failed: Data returned ",B,p.path);let q=pt(B);typeof B=="object"&&B!=null&&Ln(B,".priority")||(q=q.updatePriority(R.getPriority()));const me=p.currentWriteId,ze=dy(s),Pe=nC(q,R,ze);p.currentOutputSnapshotRaw=q,p.currentOutputSnapshotResolved=Pe,p.currentWriteId=vC(s),d.splice(d.indexOf(me),1),o=o.concat(G1(s.serverSyncTree_,p.path,Pe,p.currentWriteId,p.applyLocally)),o=o.concat(Dl(s.serverSyncTree_,me,!0))}else C=!0,S="nodata",o=o.concat(Dl(s.serverSyncTree_,p.currentWriteId,!0))}Yi(s.eventQueue_,l,o),o=[],C&&(n[m].status=2,(function(R){setTimeout(R,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(S==="nodata"?u.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):u.push(()=>n[m].onComplete(new Error(S),!1,null))))}$u(s,s.transactionQueueTree_);for(let m=0;m<u.length;m++)is(u[m]);xf(s,s.transactionQueueTree_)}function gy(s,n){let l,u=s.transactionQueueTree_;for(l=ce(n);l!==null&&ql(u)===void 0;)u=Of(u,l),n=we(n),l=ce(n);return u}function py(s,n){const l=[];return yy(s,n,l),l.sort((u,o)=>u.order-o.order),l}function yy(s,n,l){const u=ql(n);if(u)for(let o=0;o<u.length;o++)l.push(u[o]);Wu(n,o=>{yy(s,o,l)})}function $u(s,n){const l=ql(n);if(l){let u=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[u]=l[o],u++);l.length=u,iy(n,l.length>0?l:void 0)}Wu(n,u=>{$u(s,u)})}function AC(s,n){const l=ss(gy(s,n)),u=Of(s.transactionQueueTree_,n);return lC(u,o=>{xc(s,o)}),xc(s,u),ay(u,o=>{xc(s,o)}),l}function xc(s,n){const l=ql(n);if(l){const u=[];let o=[],f=-1;for(let d=0;d<l.length;d++)l[d].status===3||(l[d].status===1?(H(f===d-1,"All SENT items should be at beginning of queue."),f=d,l[d].status=3,l[d].abortReason="set"):(H(l[d].status===0,"Unexpected transaction status in abort"),l[d].unwatcher(),o=o.concat(Dl(s.serverSyncTree_,l[d].currentWriteId,!0)),l[d].onComplete&&u.push(l[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?iy(n,void 0):l.length=f+1,Yi(s.eventQueue_,ss(n),o);for(let d=0;d<u.length;d++)is(u[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(s){let n="";const l=s.split("/");for(let u=0;u<l.length;u++)if(l[u].length>0){let o=l[u];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function RC(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const u=l.split("=");u.length===2?n[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Gt(`Invalid query segment '${l}' in query '${s}'`)}return n}const Lg=function(s,n){const l=DC(s),u=l.namespace;l.domain==="firebase.com"&&Un(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||u==="undefined")&&l.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||jE();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Sp(l.host,l.secure,u,o,n,"",u!==l.subdomain),path:new Me(l.pathString)}},DC=function(s){let n="",l="",u="",o="",f="",d=!0,m="https",p=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(m=s.substring(0,g-1),s=s.substring(g+2));let C=s.indexOf("/");C===-1&&(C=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),n=s.substring(0,Math.min(C,S)),C<S&&(o=NC(s.substring(C,S)));const R=RC(s.substring(Math.min(s.length,S)));g=n.indexOf(":"),g>=0?(d=m==="https"||m==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const B=n.slice(0,g);if(B.toLowerCase()==="localhost")l="localhost";else if(B.split(".").length<=2)l=B;else{const q=n.indexOf(".");u=n.substring(0,q).toLowerCase(),l=n.substring(q+1),f=u}"ns"in R&&(f=R.ns)}return{host:n,port:p,domain:l,subdomain:u,secure:d,scheme:m,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(n,l,u,o){this.eventType=n,this.eventRegistration=l,this.snapshot=u,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ut(this.snapshot.exportVal())}}class MC{constructor(n,l,u){this.eventRegistration=n,this.error=l,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(n,l,u,o){this._repo=n,this._path=l,this._queryParams=u,this._orderByCalled=o}get key(){return fe(this._path)?null:Op(this._path)}get ref(){return new di(this._repo,this._path)}get _queryIdentifier(){const n=vg(this._queryParams),l=sf(n);return l==="{}"?"default":l}get _queryObject(){return vg(this._queryParams)}isEqual(n){if(n=Qu(n),!(n instanceof zf))return!1;const l=this._repo===n._repo,u=cf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&u&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Cb(this._path)}}class di extends zf{constructor(n,l){super(n,l,new mf,!1)}get parent(){const n=xp(this._path);return n===null?null:new di(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class ku{constructor(n,l,u){this._node=n,this.ref=l,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Me(n),u=$c(this.ref,n);return new ku(this._node.getChild(l),u,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(u,o)=>n(new ku(o,$c(this.ref,u),Ge)))}hasChild(n){const l=new Me(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hg(s,n){return s=Qu(s),s._checkNotDeleted("ref"),$c(s._root,n)}function $c(s,n){return s=Qu(s),ce(s._path)===null?oC("child","path",n):oy("child","path",n),new di(s._repo,nt(s._path,n))}class Uf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const u=l._queryParams.getIndex();return new OC("value",this,new ku(n.snapshotNode,new di(l._repo,l._path),u))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new MC(this,n,l):null}matches(n){return n instanceof Uf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function wC(s,n,l,u,o){let f;if(typeof u=="object"&&(f=void 0,o=u),typeof u=="function"&&(f=u),o&&o.onlyOnce){const p=l,g=(C,S)=>{Wc(s._repo,s,m),p(C,S)};g.userCallback=l.userCallback,g.context=l.context,l=g}const d=new xC(l,f||void 0),m=new Uf(d);return EC(s._repo,s,m),()=>Wc(s._repo,s,m)}function zC(s,n,l,u){return wC(s,"value",n,l,u)}function Bg(s,n,l){Wc(s._repo,s,null)}z1(di);q1(di);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FIREBASE_DATABASE_EMULATOR_HOST",Pc={};let LC=!1;function HC(s,n,l,u){s.repoInfo_=new Sp(`${n}:${l}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),u&&(s.authTokenProvider_=u)}function BC(s,n,l,u,o){let f=u||s.options.databaseURL;f===void 0&&(s.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=Lg(f,o),m=d.repoInfo,p;typeof process<"u"&&tg&&(p=tg[UC]),p?(f=`http://${p}?ns=${m.namespace}`,d=Lg(f,o),m=d.repoInfo):d.repoInfo.secure;const g=new WE(s.name,s.options,n);cC("Invalid Firebase Database URL",d),fe(d.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const C=qC(m,s,g,new JE(s.name,l));return new jC(C,s)}function IC(s,n){const l=Pc[n];(!l||l[s.key]!==s)&&Un(`Database ${n}(${s.repoInfo_}) has already been deleted.`),bC(s),delete l[s.key]}function qC(s,n,l,u){let o=Pc[n.name];o||(o={},Pc[n.name]=o);let f=o[s.toURLString()];return f&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new _C(s,LC,l,u),o[s.toURLString()]=f,f}class jC{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new di(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Un("Cannot call "+n+" on a deleted database.")}}function Ig(s=TE(),n){const l=SE(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const u=cS("database");u&&YC(l,...u)}return l}function YC(s,n,l,u={}){s=Qu(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const o=s._repoInternal;let f;if(o.repoInfo_.nodeAdmin)u.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Nu(Nu.OWNER);else if(u.mockUserToken){const d=typeof u.mockUserToken=="string"?u.mockUserToken:fS(u.mockUserToken,s.app.options.projectId);f=new Nu(d)}HC(o,n,l,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(s){UE(CE),Mu(new Xa("database",(n,{instanceIdentifier:l})=>{const u=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return BC(u,o,f,l)},"PUBLIC").setMultipleInstances(!0)),Ol(ng,ig,s),Ol(ng,ig,"esm2017")}zn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};zn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};GC();var kC="firebase",VC="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ol(kC,VC,"app");const QC={apiKey:"AIzaSyDqGTfHTuj1cu2a6eTPYR29l7H65Q-x810",authDomain:"murasil-al-moalem.firebaseapp.com",databaseURL:"https://murasil-al-moalem-default-rtdb.firebaseio.com",projectId:"murasil-al-moalem",storageBucket:"murasil-al-moalem.firebasestorage.app",messagingSenderId:"314929620446",appId:"1:314929620446:web:fb7abd1cee260d85dca94f"},qg=np(QC),vy=pe.createContext(void 0),XC=({children:s})=>{const[n,l]=pe.useState([]),u=pe.useCallback(()=>{const o=Ig(qg),f=Hg(o,"imageTemplates");Bg(f),zC(f,d=>{const m=d.val();if(m){const p=Object.entries(m).map(([g,C])=>({...C,id:g}));l(p)}else l([])},d=>{console.error("Error loading templates from Firebase:",d),alert(`    Firebase: ${d.message}`),l([])})},[]);return pe.useEffect(()=>(u(),()=>{const o=Ig(qg),f=Hg(o,"imageTemplates");Bg(f)}),[u]),X.jsx(vy.Provider,{value:{imageTemplates:n,loadTemplates:u},children:s})},KC=()=>{const s=pe.useContext(vy);if(s===void 0)throw new Error("useAppContext must be used within an AppProvider");return s},jg={notes:" ",grades:" ",plan:" ",administrative:" "},Yg={teacherName:" ",schoolYear:" ",principalName:"  ",className:" ",phoneNumber:" ",optionalAddition:" ",schoolName:" ",sectionName:"",directorateName:" ",subject:"",logoUrl:"   ()",recordNumber:" "},wc=({children:s,variant:n="primary",size:l="md",className:u="",...o})=>{const f="font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-opacity-75 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-sky-500 hover:bg-sky-600 text-white focus:ring-sky-400",secondary:"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-400",success:"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return X.jsx("button",{className:`${f} ${d[n]} ${m[l]} ${u}`,...o,children:s})},ef=pe.forwardRef(({label:s,id:n,className:l="",containerClassName:u="",...o},f)=>{const d=n||(s?s.replace(/\s+/g,"-").toLowerCase():void 0);return X.jsxs("div",{className:`mb-4 ${u}`,children:[s&&X.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-300 mb-1",children:s}),X.jsx("input",{id:d,ref:f,className:`w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 text-white ${l}`,...o})]})});ef.displayName="Input";const Ia=1200,qa=1200,ZC=({imageUrl:s,overlays:n,logoOverlay:l,userEdits:u={},onDrawComplete:o,canvasWidthProp:f,canvasHeightProp:d,backgroundColor:m="#ffffff",onImageLoadError:p,onCanvasLeftClick:g,onCanvasContextMenu:C,selectedOverlayId:S,isMovementEnabled:R,onOverlayDragStart:B,onOverlayPositionUpdate:q,onOverlayDragEnd:W,isLogoDraggable:me,onLogoPositionUpdate:ze})=>{const Pe=pe.useRef(null),[be,Qe]=pe.useState(null),[rt,Xe]=pe.useState(null),[ae,Ke]=pe.useState(!1),[yt,kt]=pe.useState(!1),Ze=pe.useRef([]),[Ie,vt]=pe.useState(f||Ia/2),[Ae,et]=pe.useState(d||qa/2),[T,I]=pe.useState(null),[U,Y]=pe.useState(!1),G=pe.useRef(!1);pe.useEffect(()=>{let te=f||Ia/2,V=d||qa/2;if(s){Ke(!1);const ne=new Image;ne.crossOrigin="anonymous",ne.onload=()=>{if(!f||!d){let Z=ne.width,se=ne.height;const St=Z>Ia?Ia/Z:1,dn=se>qa?qa/se:1,Hn=Math.min(St,dn);Hn<1&&(Z*=Hn,se*=Hn),te=Math.round(Z),V=Math.round(se)}vt(te),et(V),Qe({element:ne,width:ne.width,height:ne.height})},ne.onerror=()=>{Qe(null),Ke(!0),vt(f||Ia/2),et(d||qa/2),p&&p()},ne.src=s}else Qe(null),Ke(!1),vt(te),et(V)},[s,f,d,p]);const y=l!=null&&l.isEditableByUser&&l.editKey&&u[l.editKey]?u[l.editKey]:l==null?void 0:l.imageUrl,M=y&&y.length>0;pe.useEffect(()=>{if(!M||!y){Xe(null),kt(!1);return}const te=new Image;te.crossOrigin="anonymous",te.onload=()=>{Xe(te),kt(!1)},te.onerror=()=>{console.error("Failed to load logo image:",y),Xe(null),kt(!0)},te.src=y},[y,M]),pe.useEffect(()=>{const te=Pe.current;if(!te)return;te.width=Ie,te.height=Ae;const V=te.getContext("2d");if(!V)return;V.clearRect(0,0,te.width,te.height),be&&!ae?V.drawImage(be.element,0,0,Ie,Ae):(V.fillStyle=m,V.fillRect(0,0,te.width,te.height)),l&&rt&&!yt&&(V.save(),V.beginPath(),V.arc(l.x,l.y,l.radius,0,Math.PI*2,!0),V.closePath(),V.clip(),V.drawImage(rt,l.x-l.radius,l.y-l.radius,l.radius*2,l.radius*2),V.restore(),(T&&T.type==="logo"||me&&!T)&&(V.save(),V.strokeStyle=T&&T.type==="logo"?"rgba(255, 100, 0, 0.9)":"rgba(0, 200, 255, 0.5)",V.lineWidth=T&&T.type==="logo"?3:2,V.setLineDash(T&&T.type==="logo"?[4,2]:[6,3]),V.beginPath(),V.arc(l.x,l.y,l.radius,0,Math.PI*2,!0),V.stroke(),V.restore()));const ne=[];n.forEach(Z=>{V.font=`${Z.fontWeight} ${Z.fontSize}px ${Z.fontFamily}`,V.fillStyle=Z.color,V.textAlign="right";let se=Z.text;Z.isEditableByUser&&Z.editKey&&u[Z.editKey]&&(se=u[Z.editKey]),V.fillText(se,Z.x,Z.y);const dn=V.measureText(se).width,Hn=Z.fontSize,rn={id:Z.id,x1:Z.x-dn,y1:Z.y-Hn,x2:Z.x,y2:Z.y+Hn*.2};ne.push(rn),Z.id===S&&(V.save(),V.strokeStyle=T&&T.type==="text"&&T.id===Z.id?"rgba(255, 100, 0, 0.9)":"rgba(0, 150, 255, 0.7)",V.lineWidth=T&&T.id===Z.id?3:2,V.setLineDash(T&&T.id===Z.id?[4,2]:[]),V.strokeRect(rn.x1-2,rn.y1-2,rn.x2-rn.x1+4,rn.y2-rn.y1+4),V.restore())}),Ze.current=ne,o&&o(te)},[be,ae,rt,yt,n,u,S,m,o,Ie,Ae,T,l,me]);const L=te=>{const V=Pe.current;if(!V)return{x:0,y:0};const ne=V.getBoundingClientRect();if(ne.width===0||ne.height===0)return{x:0,y:0};const Z=V.width/ne.width,se=V.height/ne.height;return{x:(te.clientX-ne.left)*Z,y:(te.clientY-ne.top)*se}},j=te=>{if(te.button!==0)return;const{x:V,y:ne}=L(te);if(G.current=!1,R&&S&&B){const Z=Ze.current.find(St=>St.id===S),se=n.find(St=>St.id===S);if(Z&&se&&V>=Z.x1&&V<=Z.x2&&ne>=Z.y1&&ne<=Z.y2){te.preventDefault(),I({type:"text",id:S,clickOffsetX:V-se.x,clickOffsetY:ne-se.y}),B(S);return}}if(me&&l&&Math.sqrt(Math.pow(V-l.x,2)+Math.pow(ne-l.y,2))<=l.radius){te.preventDefault(),I({type:"logo",id:l.id,clickOffsetX:V-l.x,clickOffsetY:ne-l.y});return}},F=te=>{const{x:V,y:ne}=L(te);if(T&&q&&T.type==="text"){G.current||(G.current=!0);const Z=V-T.clickOffsetX,se=ne-T.clickOffsetY;q(T.id,Z,se)}else if(T&&ze&&T.type==="logo"){G.current||(G.current=!0);const Z=V-T.clickOffsetX,se=ne-T.clickOffsetY;ze(Z,se)}else if(R&&S){const Z=Ze.current.find(se=>se.id===S);Z&&V>=Z.x1&&V<=Z.x2&&ne>=Z.y1&&ne<=Z.y2?Y(!0):Y(!1)}else Y(!1)},J=te=>{if(te.button!==0){T&&(T.type==="text"&&W&&W(T.id),I(null));return}if(T&&T.type==="text"&&W&&W(T.id),I(null),!G.current&&g){const{x:V,y:ne}=L(te);let Z=null;for(const se of Ze.current)if(V>=se.x1&&V<=se.x2&&ne>=se.y1&&ne<=se.y2){const St=n.find(dn=>dn.id===se.id);if(St){Z=St;break}}g(V,ne,Z)}G.current=!1},_e=te=>{if(!C||(te.preventDefault(),T))return;const{x:V,y:ne}=L(te);let Z=null;for(const se of Ze.current)if(V>=se.x1&&V<=se.x2&&ne>=se.y1&&ne<=se.y2){Z=n.find(St=>St.id===se.id)||null;break}C(V,ne,te.pageX,te.pageY,Z)},ot=()=>T?"grabbing":U&&R?"move":g?"pointer":"crosshair",qe=()=>{T&&(T.type==="text"&&W&&W(T.id),I(null)),Y(!1),G.current=!1};return X.jsx("canvas",{ref:Pe,className:"border border-gray-500 rounded-md shadow-lg bg-white",style:{cursor:ot(),display:"block",width:"100%",height:"auto",aspectRatio:Ie>0&&Ae>0?`${Ie} / ${Ae}`:"1 / 1",maxWidth:`${Ie}px`},onMouseDown:j,onMouseMove:F,onMouseUp:J,onMouseLeave:qe,onContextMenu:_e,"aria-label":"Image editing canvas",role:"application","aria-roledescription":"Interactive image editing area"})},FC=({label:s,id:n,options:l,className:u="",containerClassName:o="",...f})=>{const d=n||(s?s.replace(/\s+/g,"-").toLowerCase():void 0);return X.jsxs("div",{className:`mb-4 ${o}`,children:[s&&X.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-300 mb-1",children:s}),X.jsx("select",{id:d,className:`w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 text-white ${u}`,...f,children:l.map(m=>X.jsx("option",{value:m.value,className:"bg-slate-700 text-white",children:m.label},m.value))})]})},JC=()=>{var T,I;const{imageTemplates:s,loadTemplates:n}=KC(),[l,u]=pe.useState(""),[o,f]=pe.useState(null),[d,m]=pe.useState({}),[p,g]=pe.useState(null),[C,S]=pe.useState([]),[R,B]=pe.useState(null),[q,W]=pe.useState(!1),me=pe.useRef(null);pe.useEffect(()=>{n()},[]),pe.useEffect(()=>{S(o?o.overlays:[]),B(null),W(!1)},[o]);const ze=U=>{u(U),f(null),m({}),g(null)},Pe=U=>{var G;f(U),g(null);const Y={};U.overlays.forEach(y=>{y.isEditableByUser&&y.editKey&&(Y[y.editKey]=y.text)}),(G=U.logoOverlay)!=null&&G.isEditableByUser&&U.logoOverlay.editKey&&(Y[U.logoOverlay.editKey]=U.logoOverlay.imageUrl),m(Y)},be=(U,Y)=>{m(G=>({...G,[U]:Y}))},Qe=(U,Y)=>{var M;const G=(M=U.target.files)==null?void 0:M[0];if(!G)return;if(!G.type.startsWith("image/")){alert("    ."),U.target.value="";return}const y=new FileReader;y.onload=L=>{var F;const j=(F=L.target)==null?void 0:F.result;typeof j=="string"?be(Y,j):alert("   .")},y.onerror=()=>{alert("    .")},y.readAsDataURL(G),U.target.value=""},rt=U=>new Promise((Y,G)=>{const y=new Image;y.crossOrigin="anonymous",y.onload=()=>Y(y),y.onerror=M=>G(M),y.src=U}),Xe=(U,Y,G)=>{q||(G&&G.isEditableByUser?B(G.id):B(null))},ae=pe.useCallback(U=>{U===R&&W(!0)},[R]),Ke=pe.useCallback((U,Y,G)=>{q&&U===R&&S(y=>y.map(M=>M.id===U?{...M,x:Y,y:G}:M))},[q,R]),yt=pe.useCallback(()=>{W(!1)},[]),kt=async()=>{if(!o||!me.current)return;if(p){alert("          .   .");return}const U=me.current,Y=U.getContext("2d");if(Y){U.width=o.canvasWidth,U.height=o.canvasHeight,Y.clearRect(0,0,U.width,U.height);try{const G=await rt(o.imageUrl);Y.drawImage(G,0,0,o.canvasWidth,o.canvasHeight),C.forEach(J=>{Y.font=`${J.fontWeight} ${J.fontSize}px ${J.fontFamily}`,Y.fillStyle=J.color,Y.textAlign="right";let _e=J.text;J.isEditableByUser&&J.editKey&&d[J.editKey]!==void 0&&(_e=d[J.editKey]),Y.fillText(_e,J.x,J.y)});const y=o.logoOverlay,M=y!=null&&y.editKey?d[y.editKey]:void 0,L=M!==void 0?M:y==null?void 0:y.imageUrl;if(y&&L&&L.length>0){const J=await rt(L);Y.save(),Y.beginPath(),Y.arc(y.x,y.y,y.radius,0,Math.PI*2,!0),Y.closePath(),Y.clip(),Y.drawImage(J,y.x-y.radius,y.y-y.radius,y.radius*2,y.radius*2),Y.restore()}const j=U.toDataURL("image/png"),F=document.createElement("a");F.download=`${o.name.replace(/\s+/g,"_")}_modified.png`,F.href=j,document.body.appendChild(F),F.click(),document.body.removeChild(F)}catch(G){console.error("Error during image export:",G),alert("     .         .")}}},Ze=l?s.filter(U=>U.category===l):s,Ie=Object.entries(jg).map(([U,Y])=>({value:U,label:Y})),vt=(o==null?void 0:o.overlays.filter(U=>U.isEditableByUser&&U.editKey))||[],Ae=(T=o==null?void 0:o.logoOverlay)==null?void 0:T.editKey,et=((I=o==null?void 0:o.logoOverlay)==null?void 0:I.isEditableByUser)&&Ae;return X.jsxs("div",{className:"p-4 sm:p-6 bg-slate-800 rounded-xl shadow-2xl",children:[X.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-sky-400 mb-6 sm:mb-8",children:"  "}),X.jsx("div",{className:"mb-6",children:X.jsx(FC,{label:"  :",value:l,onChange:U=>ze(U.target.value),options:[{value:"",label:" "},...Ie],containerClassName:"max-w-md mx-auto"})}),l&&Ze.length===0&&X.jsx("p",{className:"text-center text-slate-400 my-8",children:"     ."}),!l&&s.length===0&&X.jsx("p",{className:"text-center text-slate-400 my-8",children:"   .       ."}),!o&&Ze.length>0&&X.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8",children:Ze.map(U=>X.jsxs("div",{className:"p-4 bg-slate-700 rounded-lg shadow-lg cursor-pointer hover:bg-slate-600 transition-colors duration-150 flex flex-col",onClick:()=>Pe(U),children:[X.jsx("img",{src:U.imageUrl,alt:`  ${U.name}`,className:"w-full h-40 object-cover rounded-md mb-3 bg-slate-500 border border-transparent",onError:Y=>{const G=Y.currentTarget;G.alt=`  : ${U.name}`,G.style.border="2px solid red";const y=G.parentNode;y&&y.classList.add("bg-slate-800","flex","items-center","justify-center"),G.style.display="none";const M=document.createElement("span");M.className="text-red-400 text-xs text-center p-2",M.textContent="  ",G.parentNode&&!G.parentNode.querySelector(".text-red-400")&&G.parentNode.appendChild(M)}}),X.jsxs("div",{className:"mt-auto",children:[X.jsx("h3",{className:"font-semibold text-lg text-cyan-300 truncate",title:U.name,children:U.name}),X.jsx("p",{className:"text-sm text-slate-300",children:jg[U.category]})]})]},U.id))}),o&&X.jsxs("div",{className:"mt-8",children:[X.jsx(wc,{onClick:()=>{f(null),m({}),g(null)},variant:"secondary",className:"mb-6",children:"   "}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[X.jsxs("div",{className:"md:col-span-2 p-4 bg-slate-700 rounded-lg",children:[X.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-2",children:o.name}),X.jsx("p",{className:"text-sm text-slate-400 -mt-1 mb-4",children:"          ."}),p&&X.jsxs("div",{className:"p-4 mb-4 text-center bg-red-900/60 border border-red-700 text-red-300 rounded-md",children:[X.jsx("p",{className:"font-semibold",children:"   !"}),X.jsx("p",{className:"text-sm",children:p}),X.jsx("p",{className:"text-sm mt-1",children:"          .    ."})]}),X.jsx(ZC,{imageUrl:o.imageUrl,overlays:C,logoOverlay:o.logoOverlay,userEdits:d,canvasWidthProp:o.canvasWidth,canvasHeightProp:o.canvasHeight,backgroundColor:"#DDDDDD",onImageLoadError:()=>{g(`     "${o.name}".           (CORS).`)},onCanvasLeftClick:Xe,selectedOverlayId:R,isMovementEnabled:!0,onOverlayDragStart:ae,onOverlayPositionUpdate:Ke,onOverlayDragEnd:yt}),X.jsx("canvas",{ref:me,style:{display:"none"}})]}),X.jsxs("div",{className:"md:col-span-1 p-4 bg-slate-700 rounded-lg",children:[X.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:" "}),vt.length===0&&!et&&X.jsx("p",{className:"text-slate-400",children:"       ."}),vt.map(U=>U.editKey&&X.jsx(ef,{label:Yg[U.editKey]||U.editKey,value:d[U.editKey]||"",onChange:Y=>be(U.editKey,Y.target.value),containerClassName:"mb-3"},U.editKey)),et&&Ae&&X.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-600",children:[X.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:Yg[Ae]}),X.jsxs("div",{children:[X.jsx("label",{htmlFor:"logo-upload",className:"w-full text-center block cursor-pointer bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-150 ease-in-out text-sm mb-2",children:"   "}),X.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:U=>Qe(U,Ae)})]}),X.jsxs("div",{className:"flex items-center my-2",children:[X.jsx("div",{className:"flex-grow border-t border-slate-600"}),X.jsx("span",{className:"flex-shrink mx-2 text-slate-400 text-sm",children:""}),X.jsx("div",{className:"flex-grow border-t border-slate-600"})]}),X.jsx(ef,{label:"  ",value:(d[Ae]||"").startsWith("data:")?"":d[Ae]||"",onChange:U=>be(Ae,U.target.value),placeholder:(d[Ae]||"").startsWith("data:")?"  .    .":"https://example.com/logo.png",disabled:(d[Ae]||"").startsWith("data:"),containerClassName:"mb-3"},`${Ae}-url`),d[Ae]&&X.jsx(wc,{onClick:()=>{be(Ae,"");const U=document.getElementById("logo-upload");U&&(U.value="")},variant:"danger",size:"sm",className:"w-full",children:"  "})]}),(vt.length>0||et)&&X.jsx(wc,{onClick:kt,variant:"success",size:"lg",className:"w-full mt-4",disabled:!!p,title:p?"      ":"  ",children:"  "})]})]})]})]})},WC=()=>X.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-700 text-white p-4 sm:p-8 font-sans",children:[X.jsx("header",{className:"mb-8",children:X.jsx("div",{className:"container mx-auto flex justify-center items-center p-4 bg-slate-800/50 rounded-xl shadow-lg",children:X.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-cyan-300",children:" "})})}),X.jsx("main",{children:X.jsx(JC,{})})]}),Sy=document.getElementById("root");if(!Sy)throw new Error("Could not find root element to mount to");const $C=eS.createRoot(Sy);$C.render(X.jsx(X0.StrictMode,{children:X.jsx(XC,{children:X.jsx(WC,{})})}));
